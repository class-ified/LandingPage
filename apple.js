!function(){function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}return e}()({1:[function(e,t,n){"use strict";var r=e(6),i=e(7),o=e(10),s=e(56).EventEmitterMicro,a=s.prototype,c=e(14),u=e(16),l=[c.BUSY,c.CHECKED,c.DISABLED,c.EXPANDED,c.HIDDEN,c.INVALID,c.PRESSED,c.SELECTED],h=function(e,t){s.call(this),this._options=t||{},this._selector=t.selector||".navitem",this._allowMultiSelection=t.multiSelection||!1;var n=l.indexOf(t.state)>-1?t.state:c.SELECTED;this.el=e,this._navItems=e.querySelectorAll(this._selector),this._navItems=Array.prototype.slice.call(this._navItems),this._state=n,this._navKeys={},this.selectOption=this.selectOption.bind(this),this._handleKeyDown=this._handleKeyDown.bind(this),this._setup()};h.ONSELECT="onSelect",h.ONFOCUS="onFocus";var d=h.prototype=Object.create(a);d._setup=function(){for(var e=[u.ARROW_DOWN,u.ARROW_RIGHT],t=[u.ARROW_UP,u.ARROW_LEFT],n=[u.ENTER,u.SPACEBAR],r=0;r<e.length;r++)this.addNavkey(e[r],this._arrowDown.bind(this,!0)),this.addNavkey(t[r],this._arrowDown.bind(this,null)),this.addNavkey(n[r],this.selectOption);this._setupNavItems()},d._setupNavItems=function(){if(this._navItems.length){for(var e=0;e<this._navItems.length;e++)this._setTabbingByIndex(e);void 0!==this.focusedNavItemIndex&&void 0!==this.selectedNavitemIndex||this.setSelectedItemByIndex(0,!0)}},d._setTabbingByIndex=function(e){var t=this._navItems[e],n=o(t.getAttribute(this._state));n&&(this.focusedNavItemIndex=e,this.selectedNavitemIndex=e);var s=o(t.getAttribute(c.DISABLED));s?r(t):i(t)},d.start=function(){this._navItems.length<1||(this.el.addEventListener("keydown",this._handleKeyDown),this.el.addEventListener("click",this.selectOption))},d.stop=function(){this.el.removeEventListener("keydown",this._handleKeyDown),this.el.removeEventListener("click",this.selectOption)},d._handleKeyDown=function(e){return!!(e.ctrlKey||e.altKey||e.metaKey)||void(this._navKeys[e.keyCode]&&this._navKeys[e.keyCode](e))},d._arrowDown=function(e,t,n){t.preventDefault(),this.previousNavItemIndex=this.focusedNavItemIndex,this.focusedNavItemIndex=this._calculateIndex(e,this.focusedNavItemIndex),this._navItems[this.focusedNavItemIndex].focus(),n||this.trigger(h.ONFOCUS,{event:t,index:this.focusedNavItemIndex,el:this._navItems[this.focusedNavItemIndex]})},d.selectOption=function(e,t){e.preventDefault();var n=this._navItems.indexOf(document.activeElement);n>-1&&document.activeElement!==this._navItems[this.focusedNavItemIndex]&&(this.focusedNavItemIndex=n),this._allowMultiSelection?this._toggleState():(this._navItems[this.selectedNavitemIndex].setAttribute(this._state,"false"),this._navItems[this.focusedNavItemIndex].setAttribute(this._state,"true")),this.selectedNavitemIndex=this.focusedNavItemIndex,t||this.trigger(h.ONSELECT,{event:e,index:this.selectedNavitemIndex,el:this._navItems[this.selectedNavitemIndex]})},d._toggleState=function(){var e=this._navItems[this.focusedNavItemIndex].getAttribute(this._state);o(e)?this._navItems[this.focusedNavItemIndex].setAttribute(this._state,"false"):this._navItems[this.focusedNavItemIndex].setAttribute(this._state,"true")},d._calculateIndex=function(e,t){var n=t;if(e===!0){if(n++,n=n>=this._navItems.length?0:n,!o(this._navItems[n].getAttribute(c.DISABLED))||this._navItems[n].hasAttribute("disabled"))return n}else if(n--,n=n<0?this._navItems.length-1:n,!o(this._navItems[n].getAttribute(c.DISABLED))||this._navItems[n].hasAttribute("disabled"))return n;return this._calculateIndex(e,n)},d.updateNavItems=function(){var e=this.el.querySelectorAll(this._selector);this._navItems=Array.prototype.slice.call(e)},d.addNavItem=function(e){e&&e.nodeType&&this._navItems.indexOf(e)<0&&(o(e.getAttribute(c.DISABLED))||i(e),this._navItems.push(e))},d.setSelectedItemByIndex=function(e,t){this._allowMultiSelection||isNaN(this.selectedNavitemIndex)||this._navItems[this.selectedNavitemIndex].setAttribute(this._state,"false"),this.focusedNavItemIndex=e,this.selectedNavitemIndex=e,this._navItems[this.selectedNavitemIndex].setAttribute(this._state,"true"),t||this.trigger(h.ONSELECT,{event:null,index:this.focusedNavItemIndex,el:this._navItems[this.focusedNavItemIndex]})},d.getSelectedItem=function(){return this._navItems[this.selectedNavitemIndex]},d.getFocusedItem=function(e){return this._navItems[this.focusedNavItemIndex]},d.addNavkey=function(e,t){"function"==typeof t&&"number"==typeof e?this._navKeys[e]=t:console.warn("incorrect types arguments were passed")},d.removeNavkey=function(e){delete this._navKeys[e]},d.destroy=function(){a.destroy.call(this),this.stop(),this.el=null,this._options=null,this._selector=null,this.focusedNavItemIndex=null,this.selectedNavitemIndex=null,this._navItems=null,this._state=null,this.selectOption=null,this._handleKeyDown=null;for(var e in this._navKeys)this._navKeys.hasOwnProperty(e)&&this.removeNavkey(e);this._navKeys=null},t.exports=h},{10:10,14:14,16:16,56:56,6:6,7:7}],2:[function(e,t,n){"use strict";var r=e(5),i=e(9),o=e(13),s=function(e,t){t=t||{},this._tabbables=null,this._excludeHidden=t.excludeHidden,this._firstTabbableElement=t.firstFocusElement,this._lastTabbableElement=null,this._relatedTarget=null,this.el=e,this._handleOnFocus=this._handleOnFocus.bind(this)},a=s.prototype;a.start=function(){this.updateTabbables(),i(this.el,null,this._excludeHidden),this._firstTabbableElement?this.el.contains(document.activeElement)||this._firstTabbableElement.focus():console.warn("this._firstTabbableElement is null, CircularTab needs at least one tabbable element."),this._relatedTarget=document.activeElement,document.addEventListener("focus",this._handleOnFocus,!0)},a.stop=function(){o(this.el),document.removeEventListener("focus",this._handleOnFocus,!0)},a.updateTabbables=function(){this._tabbables=r.getTabbableElements(this.el,this._excludeHidden),this._firstTabbableElement=this._firstTabbableElement||this._tabbables[0],this._lastTabbableElement=this._tabbables[this._tabbables.length-1]},a._handleOnFocus=function(e){if(this.el.contains(e.target))this._relatedTarget=e.target;else{if(e.preventDefault(),this.updateTabbables(),this._relatedTarget===this._lastTabbableElement||null===this._relatedTarget)return this._firstTabbableElement.focus(),void(this._relatedTarget=this._firstTabbableElement);if(this._relatedTarget===this._firstTabbableElement&&this._lastTabbableElement)return this._lastTabbableElement.focus(),void(this._relatedTarget=this._lastTabbableElement)}},a.destroy=function(){this.stop(),this.el=null,this._tabbables=null,this._firstTabbableElement=null,this._lastTabbableElement=null,this._relatedTarget=null,this._handleOnFocus=null},t.exports=s},{13:13,5:5,9:9}],3:[function(e,t,n){"use strict";var r=e(14),i=e(17),o=e(7),s=e(6),a=e(10),c=e(1),u=c.prototype,l=function(e,t){t=t||{},c.call(this,e,{selector:t.selector||"*[role="+i.OPTION+"]",state:t.state||r.SELECTED})},h=l.prototype=Object.create(u);h._setTabbingByIndex=function(e){var t=this._navItems[e];a(t.getAttribute(this._state))?(this.focusedNavItemIndex=e,this.selectedNavitemIndex=e,this._enableElement(t)):this._disableElement(t)},h.setSelectedItemByIndex=function(e,t){isNaN(this.selectedNavitemIndex)||this._disableElement(this._navItems[this.selectedNavitemIndex]),u.setSelectedItemByIndex.call(this,e,t),this._enableElement(this._navItems[this.selectedNavitemIndex])},h.addNavItem=function(e){e&&e.nodeType&&this._navItems.indexOf(e)<0&&(a(e.getAttribute(r.DISABLED))||this._disableElement(e),this._navItems.push(e))},h._arrowDown=function(e,t){u._arrowDown.call(this,e,t,!0),this.selectOption(t)},h._enableElement=function(e){o(e),e.setAttribute(this._state,"true")},h._disableElement=function(e){s(e),e.setAttribute(this._state,"false")},h.selectOption=function(e){s(this._navItems[this.selectedNavitemIndex]),u.selectOption.call(this,e),o(this._navItems[this.focusedNavItemIndex])},t.exports=l},{1:1,10:10,14:14,17:17,6:6,7:7}],4:[function(e,t,n){"use strict";function r(){this._createElemnts(),this._bindEvents()}var i=r.prototype;i._bindEvents=function(){this._onResize=this._resize.bind(this)},i._createElemnts=function(){this.span=document.createElement("span");var e=this.span.style;e.visibility="hidden",e.position="absolute",e.top="0",e.bottom="0",e.zIndex="-1",this.span.innerHTML="&nbsp;",this.iframe=document.createElement("iframe");var t=this.iframe.style;t.position="absolute",t.top="0",t.left="0",t.width="100%",t.height="100%",this.span.appendChild(this.iframe),document.body.appendChild(this.span)},i.detect=function(e){this.originalSize=e||17,this.currentSize=parseFloat(window.getComputedStyle(this.span)["font-size"]),this.currentSize>this.originalSize&&this._onResize(),this.isDetecting||(this.iframe.contentWindow.addEventListener("resize",this._onResize),this.isDetecting=!0)},i._resize=function(e){this.currentSize=parseFloat(window.getComputedStyle(this.span)["font-size"]),this.originalSize<this.currentSize?document.documentElement.classList.add("text-zoom"):document.documentElement.classList.remove("text-zoom"),window.dispatchEvent(new Event("resize")),window.dispatchEvent(new CustomEvent("resize:text-zoom",{detail:this}))},i.getScale=function(){return this.currentSize/this.originalSize},i.remove=function(){this.isDetecting&&(this.iframe.contentWindow.removeEventListener("resize",this._onResize),this.isDetecting=!1)},i.destroy=function(){this.remove(),this.span&&this.span.parentElement&&this.span.parentElement.removeChild(this.span),this.span=null,this.iframe=null},t.exports=new r},{}],5:[function(e,t,n){"use strict";var r=e(15),i=function(){this.focusableSelectors=r.selectors},o=i.prototype;o.isFocusableElement=function(e,t,n){if(t&&!this._isDisplayed(e))return!1;var i=r.nodeName[e.nodeName];return i?!e.disabled:!e.contentEditable||(n=n||parseFloat(e.getAttribute("tabindex")),!isNaN(n))},o.isTabbableElement=function(e,t){if(t&&!this._isDisplayed(e))return!1;var n=e.getAttribute("tabindex");return n=parseFloat(n),isNaN(n)?this.isFocusableElement(e,t,n):n>=0},o._isDisplayed=function(e){var t=e.getBoundingClientRect();return(0!==t.top||0!==t.left||0!==t.width||0!==t.height)&&"hidden"!==window.getComputedStyle(e).visibility},o.getTabbableElements=function(e,t){for(var n=e.querySelectorAll(this.focusableSelectors),r=n.length,i=[],o=0;o<r;o++)this.isTabbableElement(n[o],t)&&i.push(n[o]);return i},o.getFocusableElements=function(e,t){for(var n=e.querySelectorAll(this.focusableSelectors),r=n.length,i=[],o=0;o<r;o++)this.isFocusableElement(n[o],t)&&i.push(n[o]);return i},t.exports=new i},{15:15}],6:[function(e,t,n){"use strict";t.exports=function(e){e.setAttribute("tabindex","-1")}},{}],7:[function(e,t,n){"use strict";var r=e(5),i=function(e){r.isTabbableElement(e)||e.setAttribute("tabindex","0")};t.exports=function(e){e instanceof Node?i(e):e.forEach(function(e){i(e)})}},{5:5}],8:[function(e,t,n){"use strict";var r=e(14),i=e(5),o="data-original-",s="tabindex",a=function(e,t){var n=e.getAttribute(o+t);n||(n=e.getAttribute(t)||"",e.setAttribute(o+t,n))};t.exports=function(e,t){if(i.isFocusableElement(e,t))a(e,s),e.setAttribute(s,"-1");else for(var n=i.getTabbableElements(e,t),o=n.length;o--;)a(n[o],s),n[o].setAttribute(s,"-1");a(e,r.HIDDEN),e.setAttribute(r.HIDDEN,"true")}},{14:14,5:5}],9:[function(e,t,n){"use strict";var r=e(8);t.exports=function i(e,t,n){t=t||document.body;for(var o=e,s=e;o=o.previousElementSibling;)r(o,n);for(;s=s.nextElementSibling;)r(s,n);e.parentElement&&e.parentElement!==t&&i(e.parentElement,t,n)}},{8:8}],10:[function(e,t,n){"use strict";t.exports=function(e){return"string"==typeof e?(e=e.toLowerCase(),"true"===e):e}},{}],11:[function(e,t,n){"use strict";var r=function(e,t){var n;n=e instanceof NodeList?e:[].concat(e),t=Array.isArray(t)?t:[].concat(t),n.forEach(function(e){t.forEach(function(t){e.removeAttribute(t)})})};t.exports=r},{}],12:[function(e,t,n){"use strict";var r=e(11),i=e(14),o="data-original-",s="tabindex",a=function(e,t){var n=e.getAttribute(o+t);null!==n&&(""===n?r(e,t):e.setAttribute(t,n),r(e,o+t))};t.exports=function(e){a(e,s),a(e,i.HIDDEN);for(var t=e.querySelectorAll("[".concat(o+s,"]")),n=t.length;n--;)a(t[n],s)}},{11:11,14:14}],13:[function(e,t,n){"use strict";var r=e(12);t.exports=function i(e,t){t=t||document.body;for(var n=e,o=e;n=n.previousElementSibling;)r(n);for(;o=o.nextElementSibling;)r(o);e.parentElement&&e.parentElement!==t&&i(e.parentElement,t)}},{12:12}],14:[function(e,t,n){"use strict";t.exports={AUTOCOMPLETE:"aria-autocomplete",CHECKED:"aria-checked",DISABLED:"aria-disabled",EXPANDED:"aria-expanded",HASPOPUP:"aria-haspopup",HIDDEN:"aria-hidden",INVALID:"aria-invalid",LABEL:"aria-label",LEVEL:"aria-level",MULTILINE:"aria-multiline",MULTISELECTABLE:"aria-multiselectable",ORIENTATION:"aria-orientation",PRESSED:"aria-pressed",READONLY:"aria-readonly",REQUIRED:"aria-required",SELECTED:"aria-selected",SORT:"aria-sort",VALUEMAX:"aria-valuemax",VALUEMIN:"aria-valuemin",VALUENOW:"aria-valuenow",VALUETEXT:"aria-valuetext",ATOMIC:"aria-atomic",BUSY:"aria-busy",LIVE:"aria-live",RELEVANT:"aria-relevant",DROPEFFECT:"aria-dropeffect",GRABBED:"aria-grabbed",ACTIVEDESCENDANT:"aria-activedescendant",CONTROLS:"aria-controls",DESCRIBEDBY:"aria-describedby",FLOWTO:"aria-flowto",LABELLEDBY:"aria-labelledby",OWNS:"aria-owns",POSINSET:"aria-posinset",SETSIZE:"aria-setsize"}},{}],15:[function(e,t,n){"use strict";var r=["input","select","textarea","button","optgroup","option","menuitem","fieldset","object","a[href]","[tabindex]","[contenteditable]"];t.exports={selectors:r.join(","),nodeName:{INPUT:"input",SELECT:"select",TEXTAREA:"textarea",BUTTON:"button",OPTGROUP:"optgroup",OPTION:"option",MENUITEM:"menuitem",FIELDSET:"fieldset",OBJECT:"object",A:"a"}}},{}],16:[function(e,t,n){"use strict";t.exports=e(99)},{99:99}],17:[function(e,t,n){"use strict";t.exports={ALERT:"alert",ALERTDIALOG:"alertdialog",BUTTON:"button",CHECKBOX:"checkbox",DIALOG:"dialog",GRIDCELL:"gridcell",LINK:"link",LOG:"log",MARQUEE:"marquee",MENUITEM:"menuitem",MENUITEMCHECKBOX:"menuitemcheckbox",MENUITEMRADIO:"menuitemradio",OPTION:"option",PROGRESSBAR:"progressbar",RADIO:"radio",SCROLLBAR:"scrollbar",SLIDER:"slider",SPINBUTTON:"spinbutton",STATUS:"status",SWITCH:"switch",TAB:"tab",TABPANEL:"tabpanel",TEXTBOX:"textbox",TIMER:"timer",TOOLTIP:"tooltip",TREEITEM:"treeitem",COMBOBOX:"combobox",GRID:"grid",LISTBOX:"listbox",MENU:"menu",MENUBAR:"menubar",RADIOGROUP:"radiogroup",TABLIST:"tablist",TREE:"tree",TREEGRID:"treegrid",ARTICLE:"article",COLUMNHEADER:"columnheader",DEFINITION:"definition",DIRECTORY:"directory",DOCUMENT:"document",GROUP:"group",HEADING:"heading",IMG:"img",LIST:"list",LISTITEM:"listitem",MATH:"math",NOTE:"note",PRESENTATION:"presentation",REGION:"region",ROW:"row",ROWGROUP:"rowgroup",ROWHEADER:"rowheader",SEPARATOR:"separator",TOOLBAR:"toolbar",APPLICATION:"application",BANNER:"banner",COMPLEMENTARY:"complementary",CONTENTINFO:"contentinfo",FORM:"form",MAIN:"main",NAVIGATION:"navigation",SEARCH:"search"}},{}],18:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/Array/prototype.slice"),e("@marcom/ac-polyfills/Element/prototype.classList");var r=e(19);t.exports=function(){var e,t=Array.prototype.slice.call(arguments),n=t.shift(t);if(n.classList&&n.classList.add)return void n.classList.add.apply(n.classList,t);for(e=0;e<t.length;e++)r(n,t[e])}},{19:19,undefined:void 0}],19:[function(e,t,n){"use strict";var r=e(20);t.exports=function(e,t){r(e,t)||(e.className+=" "+t)}},{20:20}],20:[function(e,t,n){"use strict";var r=e(21);t.exports=function(e,t){return r(t).test(e.className)}},{21:21}],21:[function(e,t,n){"use strict";t.exports=function(e){return new RegExp("(\\s|^)"+e+"(\\s|$)")}},{}],22:[function(e,t,n){"use strict";var r=e(20),i=e(21);t.exports=function(e,t){r(e,t)&&(e.className=e.className.replace(i(t),"$1").trim())}},{20:20,21:21}],23:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/Array/prototype.slice"),e("@marcom/ac-polyfills/Element/prototype.classList");var r=e(22);t.exports=function(){var e,t=Array.prototype.slice.call(arguments),n=t.shift(t);if(n.classList&&n.classList.remove)return void n.classList.remove.apply(n.classList,t);for(e=0;e<t.length;e++)r(n,t[e])}},{22:22,undefined:void 0}],24:[function(e,t,n){"use strict";t.exports={assert:e(25),count:e(26),countReset:e(27),dir:e(28),dirxml:e(29),enabled:e(30),error:e(31),group:e(32),groupCollapsed:e(33),groupEnd:e(34),info:e(35),log:e(37),profile:e(38),profileEnd:e(39),table:e(40),time:e(41),timeEnd:e(42),trace:e(43),warn:e(44)}},{25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44}],25:[function(e,t,n){"use strict";t.exports=e(36)("assert")},{36:36}],26:[function(e,t,n){"use strict";t.exports=e(36)("count")},{36:36}],27:[function(e,t,n){"use strict";t.exports=e(36)("countReset")},{36:36}],28:[function(e,t,n){"use strict";t.exports=e(36)("dir")},{36:36}],29:[function(e,t,n){"use strict";t.exports=e(36)("dirxml")},{36:36}],30:[function(e,t,n){"use strict";var r="f7c9180f-5c45-47b4-8de4-428015f096c0",i=!1,o=window||self;try{i=!!o.localStorage.getItem(r)}catch(s){}t.exports=i},{}],31:[function(e,t,n){"use strict";t.exports=e(36)("error")},{36:36}],32:[function(e,t,n){"use strict";t.exports=e(36)("group")},{36:36}],33:[function(e,t,n){"use strict";t.exports=e(36)("groupCollapsed")},{36:36}],34:[function(e,t,n){"use strict";t.exports=e(36)("groupEnd")},{36:36}],35:[function(e,t,n){"use strict";t.exports=e(36)("info")},{36:36}],36:[function(e,t,n){"use strict";var r=e(78),i=r(e(89)),o=e(30);t.exports=function(e){return function(){if(o&&"object"===(0,i["default"])(window.console)&&"function"==typeof console[e])return console[e].apply(console,Array.prototype.slice.call(arguments,0))}}},{30:30,78:78,89:89}],37:[function(e,t,n){"use strict";t.exports=e(36)("log")},{36:36}],38:[function(e,t,n){"use strict";t.exports=e(36)("profile")},{36:36}],39:[function(e,t,n){"use strict";t.exports=e(36)("profileEnd")},{36:36}],40:[function(e,t,n){"use strict";t.exports=e(36)("table")},{36:36}],41:[function(e,t,n){"use strict";t.exports=e(36)("time")},{36:36}],42:[function(e,t,n){"use strict";t.exports=e(36)("timeEnd")},{36:36}],43:[function(e,t,n){"use strict";t.exports=e(36)("trace")},{36:36}],44:[function(e,t,n){"use strict";t.exports=e(36)("warn")},{36:36}],45:[function(e,t,n){"use strict";var r=e(49),i=e(47);t.exports=function(e,t,n,o){return t=i(e,t),r(e,t,n,o)}},{47:47,49:49}],46:[function(e,t,n){"use strict";var r=e(50),i=e(47);t.exports=function(e,t,n,o){return t=i(e,t),r(e,t,n,o)}},{47:47,50:50}],47:[function(e,t,n){"use strict";var r=e(121);t.exports=function(e,t){var n,i;return n="tagName"in e?e.tagName:e===window?"window":"document",i=r(t,n),i?i:t}},{121:121}],48:[function(e,t,n){"use strict";t.exports=function(e){return e=e||window.event,"undefined"!=typeof e.target?e.target:e.srcElement}},{}],49:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){return e.addEventListener?e.addEventListener(t,n,!!r):e.attachEvent("on"+t,n),e}},{}],50:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){return e.removeEventListener?e.removeEventListener(t,n,!!r):e.detachEvent("on"+t,n),e}},{}],51:[function(e,t,n){"use strict";t.exports=function(e){var t;if(e=e||window,e===window){if(t=window.pageXOffset)return t;e=document.documentElement||document.body.parentNode||document.body}return e.scrollLeft}},{}],52:[function(e,t,n){"use strict";t.exports=function(e){var t;if(e=e||window,e===window){if(t=window.pageYOffset)return t;e=document.documentElement||document.body.parentNode||document.body}return e.scrollTop}},{}],53:[function(e,t,n){"use strict";t.exports=Object.freeze({ELEMENT:1,TEXT:3,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11})},{}],54:[function(e,t,n){"use strict";t.exports=function(e){return!(!e||!e.nodeType)}},{}],55:[function(e,t,n){"use strict";var r=e(54);t.exports=function(e,t){return!!r(e)&&("number"==typeof t?e.nodeType===t:!!Array.isArray(t)&&t.indexOf(e.nodeType)!==-1)}},{54:54}],56:[function(e,t,n){"use strict";t.exports={EventEmitterMicro:e(57)}},{57:57}],57:[function(e,t,n){"use strict";function r(){this._events={}}var i=r.prototype;i.on=function(e,t){this._events[e]=this._events[e]||[],this._events[e].unshift(t)},i.once=function(e,t){function n(i){r.off(e,n),void 0!==i?t(i):t()}var r=this;this.on(e,n)},i.off=function(e,t){if(this.has(e)){if(1===arguments.length)return this._events[e]=null,void delete this._events[e];var n=this._events[e].indexOf(t);n!==-1&&this._events[e].splice(n,1)}},i.trigger=function(e,t){if(this.has(e))for(var n=this._events[e].length-1;n>=0;n--)void 0!==t?this._events[e][n](t):this._events[e][n]()},i.has=function(e){return e in this._events!=!1&&0!==this._events[e].length},i.destroy=function(){for(var e in this._events)this._events[e]=null;this._events=null},t.exports=r},{}],58:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=r(e(74)),s=r(e(84)),a=r(e(76)),c=r(e(71)),u=r(e(77)),l=e(60),h=e(59),d=e(56),f=d.EventEmitterMicro,p=function(e){function t(e,n,r){var o,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4;return(0,i["default"])(this,t),o=(0,s["default"])(this,(0,a["default"])(t).call(this)),r=r||document.createElement("canvas"),o.glCanvas=new l(r),o.imageLoadConcurrency=d,o.colorFlow=new h(e.url,o.glCanvas,e.fps,e.extension,u,d),o.maskFlow=new h(n.url,o.glCanvas,n.fps,n.extension,u,d),Object.defineProperties((0,c["default"])(o),{hasLoadedChapterFrames:{get:function(){return this.colorFlow.hasLoadedChapterFrames&&this.maskFlow.hasLoadedChapterFrames}},hasLoadedSuperFrames:{get:function(){return this.colorFlow.hasLoadedSuperFrames&&this.maskFlow.hasLoadedSuperFrames}},hasFullyLoaded:{get:function(){return this.colorFlow.hasFullyLoaded&&this.maskFlow.hasFullyLoaded}},isManifestReady:{get:function(){return this.colorFlow.isManifestReady&&this.maskFlow.isManifestReady}}}),o._progress=0,o}return(0,u["default"])(t,e),(0,o["default"])(t,[{key:"startLoading",value:function(){var e=this;if(this._hasInitializedLoadEvents)return void[this.colorFlow,this.maskFlow].forEach(function(e){e.startLoading()});this._hasInitializedLoadEvents=!0;[this.colorFlow,this.maskFlow].map(function(t){t.once(h.Events.ManifestReady,function(t){e.isManifestReady&&(e.glCanvas.modifyPoolSize(e.colorFlow.manifest.frameCount+e.maskFlow.manifest.frameCount),e.trigger(h.Events.ManifestReady))}),t.once(h.Events.ChapterFramesLoaded,function(){e.hasLoadedChapterFrames&&e.trigger(h.Events.ChapterFramesLoaded)}),t.once(h.Events.SuperFramesLoaded,function(){e.hasLoadedSuperFrames&&e.trigger(h.Events.SuperFramesLoaded)}),t.startLoading()});return new Promise(function(t,n){e.once(h.Events.ChapterFramesLoaded,function(){return 0===e.colorFlow.chapterFrames.length?void e.once(h.Events.SuperFramesLoaded,function(){return t()}):void t()})}).then(function(){e.colorFlow._currentFrame=e.maskFlow._currentFrame=-1,e.progress=0})}},{key:"stopLoading",value:function(){[this.colorFlow,this.maskFlow].forEach(function(e){e.stopLoading()})}},{key:"destroy",value:function(){this.igloo&&(this.igloo.defaultFramebuffer=null,this.igloo.canvas=null,this.igloo.gl=null,this.igloo=null),this.program&&(this.program.gl=null,this.program.program=null,this.program.vars=null,this.program.uniforms=null,this.program=null),this.glCanvas.destroy(),this.glCanvas=null,[this.colorFlow,this.maskFlow].forEach(function(e){e.destroy()}),this.colorFlow=null,this.maskFlow=null}},{key:"progress",get:function(){return this._progress},set:function(e){if(this.glCanvas&&this.hasLoadedChapterFrames){var t=Math.round((this.colorFlow.manifest.frames.length-1)*e);this.hasFullyLoaded||(t=this.hasLoadedSuperFrames?this.colorFlow.getNearestSuperFrameIndex(t):this.colorFlow.getNearestChapterFrameIndex(t)),this._progress=e;var n=this.colorFlow._currentFrame,r=this.maskFlow._currentFrame;this.glCanvas.drawToFBO(0),this.colorFlow.goToFrame(t,"colorFlow"),this.glCanvas.drawToFBO(1),this.maskFlow.goToFrame(t,"maskFlow"),this.colorFlow._currentFrame!==n&&this.maskFlow._currentFrame!==r&&this.glCanvas.composite()}}},{key:"canvas",get:function(){return this.glCanvas.canvas}}]),t}(f);t.exports=p},{56:56,59:59,60:60,71:71,72:72,74:74,76:76,77:77,78:78,84:84}],59:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=r(e(74)),s=r(e(84)),a=r(e(71)),c=r(e(76)),u=r(e(75)),l=r(e(77)),h=e(60),d=e(91),f=e(56),p=f.EventEmitterMicro,m=e(234),y=e(67),v=function(e){function t(e,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"jpg",l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3,f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:4;return(0,i["default"])(this,t),r=(0,s["default"])(this,(0,c["default"])(t).call(this)),r.destroyed=!1,n instanceof HTMLCanvasElement&&(n=new h(n)),r.glCanvas=n,r.canvasElement=n.canvas,r.fps=o,r.filetype=u,r.workerUrl=l,r.hurriedThreshold=d,r.imageLoadConcurrency=f,r._createManifestPath(e),r.hasLoadedChapterFrames=!1,r.hasLoadedSuperFrames=!1,r.hasFullyLoaded=!1,r.isManifestReady=!1,r.cachedImages={},r._progress=0,r._currentFrame=0,Object.defineProperty((0,a["default"])(r),"progress",{get:function(){return this._progress},set:function(e){if(this._progress=e,this.hasLoadedChapterFrames){var t=(this.manifest.frames.length-1)*e;t=this.getNearestLoadedFrameIndex(Math.round(t)),this.glCanvas.drawToFBO(0),this.goToFrame(t),this.glCanvas.composite()}}}),r}return(0,l["default"])(t,e),(0,o["default"])(t,[{key:"getNearestLoadedFrameIndex",value:function(e){return this.hasFullyLoaded?e:this.hasLoadedChapterFrames&&0!==this.chapterFrames.length?this.hasLoadedChapterFrames?this.getNearestChapterFrameIndex(e):this.hasLoadedSuperFrames?this.getNearestSuperFrameIndex(e):void 0:0}},{key:"getNearestChapterFrameIndex",value:function(e){for(var t=0,n=0;n<this.chapterFrames.length&&!(this.chapterFrames[n]>e);n++)t=this.chapterFrames[n];return t}},{key:"getNearestSuperFrameIndex",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=0,r=0;r<this.superFrames.length&&!(this.superFrames[r]>e);r++)n=this.superFrames[r];if(t){var i=this.getNearestChapterFrameIndex(e);if(Math.abs(i-e)<4)return i}return n}},{key:"_loadImage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return this.imageLoadQueue||(this.imageLoadQueue=new y(this.imageLoadConcurrency)),this.imageLoadQueue.enqueueImage(e,t).then(function(e){return e})}},{key:"_loadJSON",value:function(e){return new Promise(function(t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4!==r.readyState||200!==r.status&&0!==r.status)4===r.readyState&&n("Invalid HTTP state of ".concat(r.status));else try{t({data:JSON.parse(r.responseText)})}catch(e){n(e)}},r.open("GET",e),r.send()})}},{key:"_loadImageForFrame",value:function(e){var t=this,n=this.manifest.frames[e];if(n.image)return n.image;var r=3;"chapter"===n.type?r=1:e%4===0&&(r=2);var i,o=function(e){for(var t=""+e;t.length<3;)t="0"+t;return t};if("diff"===n.type)i="".concat(this.baseUrl,"/").concat(this.baseFilename,"_").concat(o(n.startImageIndex+1),".").concat(this.filetype);else{if("chapter"!==n.type&&"keyframe"!==n.type)throw"Unknown frame type.";i="".concat(this.baseUrl,"/").concat(this.baseFilename,"_key_").concat(o(e-1),".").concat(this.filetype)}return this._loadImage(i,r).then(function(i){return e>1&&r<3&&t._currentFrame<1&&t.glCanvas.preWarmPoolForImage(i),n.image=i,n.image})}},{key:"_createManifestPath",value:function(e){this.manifestUrl=e;var t=e.match(/^(.+)\/([^\/]+)_manifest.json$/);d(t,"Invalid manifest URL."),this.baseUrl=t[1],this.baseFilename=t[2]}},{key:"startLoading",value:function(){var e=this;if(!this.manifest){var n="".concat(this.baseUrl,"/").concat(this.baseFilename,"_startframe.").concat(this.filetype),r=this._loadJSON(this.manifestUrl),i=this._loadImage(n,1),o=null,s=this.workerUrl?new Worker(this.workerUrl):null;return this.imageLoadQueue.start(),Promise.all([r,i]).then(function(t){if(!e.destroyed){var n=t[0];return o=t[1],e.glCanvas.resizeCanvas(o.width,o.height),e._bitsetForNAND=new m(o.width/8),e._bitsetForNAND.setRange(0,o.width/8-1),n.data.frames.splice(0,0,{type:"keyframe",x:0,y:0,width:o.width,height:o.height,filename:"".concat(e.baseFilename,"_startframe.").concat(e.filetype)}),s?new Promise(function(t,r){s.onmessage=function(r){for(var i=r.data,o=0;o<i.length;o++)"diff"===i[o].type&&(n.data.frames[o].rowMasks=i[o].rowMasks.map(function(e){return new m(e)}),n.data.frames[o].rowDiffLocations=i[o].rowDiffLocations);e.manifest=n.data,t()},s.postMessage([n.data,e.canvasElement.width,e.canvasElement.height])}):void e._processManifest(n.data)}}).then(function(){if(e.glCanvas.modifyPoolSize(e.manifest.frameCount),e.isManifestReady=!0,e.trigger(t.Events.ManifestReady),e.manifest.frames[0].image=o,e.glCanvas.drawToFBO(0),e._applyFrame(0),e.glCanvas.composite(),e.chapterFrames=e.manifest.frames.filter(function(e){return"chapter"===e.type}).map(function(t){return e.manifest.frames.indexOf(t)}),e.chapterFrames.length>0){var n=[];return e.chapterFrames.forEach(function(t){n.push(e._loadImageForFrame(t))}),Promise.all(n)}}).then(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e.destroyed){e.chapters=n,e.hasLoadedChapterFrames=!0,e.trigger(t.Events.ChapterFramesLoaded);var r=[];e.superFrames=[];for(var i=4;i<e.manifest.frames.length;i+=4)r.push(e._loadImageForFrame(i)),e.superFrames.push(i);return Promise.all(r)}}).then(function(){if(!e.destroyed){e.hasLoadedSuperFrames=!0,e.trigger(t.Events.SuperFramesLoaded);for(var n=[],r=1;r<e.manifest.frames.length;r++)r%4!=0&&n.push(e._loadImageForFrame(r));return Promise.all(n).then(function(){return e.destroyed?Promise.reject("destroyed"):(e.hasFullyLoaded=!0,void e.trigger(t.Events.Loaded))})}})}this.imageLoadQueue.start()}},{key:"stopLoading",value:function(){this.imageLoadQueue.stop()}},{key:"goToFrame",value:function(e){var n=e;d(n>=0&&n<this.manifest.frames.length,"Frame out of range.");var r=[],i=n>this._currentFrame?1:-1,o=!1,s=null,a=Math.abs(this._currentFrame-n)>=this.hurriedThreshold;if(a&&(n=this.getNearestSuperFrameIndex(n)),n!==this._currentFrame){for(var c=this._currentFrame+i;n>this._currentFrame&&c<=n||n<this._currentFrame&&c>=n;c+=i){if(o)if(c%4===0)o=!1;else{if(!(this.manifest.frames[c].image&&["chapter","keyframe"].indexOf(this.manifest.frames[c].type)>=0))continue;o=!1}if(this.manifest.frames[c].image)["chapter","keyframe"].indexOf(this.manifest.frames[c].type)>=0?(r=[c],s=c):(c%4===0&&c<this.manifest.frames.length-4&&!function(){var e=c-4*i,t=Math.min(e,c),n=Math.max(e,c);r=r.filter(function(e){return e<=t||e>=n}),s&&r.indexOf(e)<0&&r.push(s),s=null}(),r.push(c));else{for(;r.length>0&&r[r.length-1]%4>0;)r.pop();o=!0}}for(var u=r.length;r.length>0;){var l=r.shift();this._applyFrame(l,r),this._currentFrame=l}u>0&&this.trigger(t.Events.TimeUpdate,this)}}},{key:"_processManifest",value:function(e){var t=this;d(e&&5===e.version,"Invalid manifest. Manifest must be version 5. Please select the Optimize for Anim checkbox in the Flow app."),e.frames=e.frames.map(function(e){return t._parseFrame(e)}),this.manifest=e}},{key:"_valueForCharAt",value:function(e,t){var n=e.charCodeAt(t);return n>64&&n<91?n-65:n>96&&n<123?n-71:n>47&&n<58?n+4:43===n?62:47===n?63:void 0}},{key:"_createNumberFromBase64Range",value:function(e,t,n){for(var r,i=0;n--;)r=this._valueForCharAt(e,t++),i+=r<<6*n;return i}},{key:"_parseFrame",value:function(e){var t=this.canvasElement.width/8,n=this.canvasElement.height/8,r=e.value,i=e.startImageIndex,o=e.startBlockIndex;if("keyframe"===e.type||"chapter"===e.type)return{
type:e.type,width:e.width,height:e.height,x:e.x,y:e.y};for(var s=[],a=[],c=o,u=0;u<n;u++)s.push(new m(t)),a.push({});for(var l=0;l<r.length;l+=5)for(var h=this._createNumberFromBase64Range(r,l,3),d=this._createNumberFromBase64Range(r,l+3,2),f=h;f<h+d;f++){var p=Math.floor(f/t),y=f%t;s[p].set(y);try{a[p][""+y]=c}catch(v){}c++}return{type:"diff",startImageIndex:i,rowMasks:s,rowDiffLocations:a}}},{key:"_applyFrame",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{["chapter","keyframe"].indexOf(this.manifest.frames[e].type)>=0?this._applyKeyframe(e):this._applyDiffFrame(e,t)}catch(n){console.log(n)}}},{key:"_applyKeyframe",value:function(e){d(e>=0&&e<this.manifest.frames.length,"Frame out of range."),d(["chapter","keyframe"].indexOf(this.manifest.frames[e].type)>=0,"Invalid attempt to play a diff as a keyframe."),d(this.manifest.frames[e].image,"Attempted to play an unloaded frame."),this.glCanvas.drawImage(this.manifest.frames[e].image,0,0)}},{key:"_applyDiffFrame",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];d(e>=0&&e<this.manifest.frames.length,"Frame out of range."),d("diff"===this.manifest.frames[e].type,"Invalid attempt to play a keyframe as a diff.");for(var r=this.canvasElement.width/8,i=this.manifest.frames[e].image,o=i.width/8,s=function(s){var a=t.manifest.frames[e].rowMasks[s],c=t.manifest.frames[e].rowDiffLocations[s],u=t._rangesFromRowMask(a,c,s,r,o);if(u.length<1)return"continue";for(var l=n.map(function(e){return t.manifest.frames[e].rowMasks[s]}),h=a;l.length>0;){var d=l.pop();h=h.and(d.xor(t._bitsetForNAND))}var f=t._rangesFromRowMask(h,c,s,r,o);f.length>u.length&&(f=u);for(var p=0;p<f.length;p++)t._applyDiffRange(f[p],i,o,r)},a=0;a<this.manifest.frames[e].rowMasks.length;a++){s(a)}}},{key:"_rangesFromRowMask",value:function(e,t,n,r,i){var o=[],s=null;if(e.isEqual(new m(r)))return[];for(var a=r,c=0;c<a;c++)if(e.get(c)){for(s={location:n*r+c,length:1,block:t[c]},"undefined"==typeof s.block;++c<a&&e.get(c);){var u=(s.block+s.length)%i;0===u?(o.push(s),s={location:s.location+s.length,length:1,block:t[c]}):s.length++}o.push(s)}return o}},{key:"_applyDiffRange",value:function(e,t,n,r){var i=e.block,o=i%n*8,s=8*Math.floor(i/n),a=8*e.length,c=e.location%r*8,u=8*Math.floor(e.location/r);this.glCanvas.drawImage(t,o,s,a,8,c,u,a,8)}},{key:"destroy",value:function(){this.destroyed||(this.glCanvas.gl&&this.glCanvas.destroy(),this.glCanvas=null,this.manifest=null,this.cachedImages=null,this.chapterFrames=null,this.superFrames=null,this.chapters=null,this.destroyed=!0,(0,u["default"])((0,c["default"])(t.prototype),"destroy",this).call(this))}}]),t}(p);v.Events={Loaded:"loaded",ChapterFramesLoaded:"chapterframes-loaded",SuperFramesLoaded:"superframes-loaded",ManifestReady:"manifest-ready",TimeUpdate:"timeupdate"},t.exports=v},{234:234,56:56,60:60,67:67,71:71,72:72,74:74,75:75,76:76,77:77,78:78,84:84,91:91}],60:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=r(e(74)),s=e(62),a=e(61),c=e(244),u={project:e(66),image:e(65),blend:{vert:e(64),frag:e(63)}},l=c.create(),h=c.create(),d=c.create();t.exports=function(){function e(t){var n=this;(0,i["default"])(this,e),this.canvas=t,this.igloo=new a(this.canvas,{premultipliedAlpha:!0,antialias:!1,depth:!1,desynchronized:!0,powerPreference:"high-performance"}),this.gl=this.igloo.gl,this.program=this.igloo.program(u.project,u.image),this.program.uniforms={matrixLocation:this.gl.getUniformLocation(this.program.program,"u_matrix"),textureMatrixLocation:this.gl.getUniformLocation(this.program.program,"u_textureMatrix"),textureLocation:this.gl.getUniformLocation(this.program.program,"u_texture")},this.blendProgram=this.igloo.program(u.blend.vert,u.blend.frag),this.blendProgram.uniforms={matrixLocation:this.gl.getUniformLocation(this.blendProgram.program,"u_matrix"),imageLocation:this.gl.getUniformLocation(this.blendProgram.program,"imageTexture"),maskLocation:this.gl.getUniformLocation(this.blendProgram.program,"maskTexture")},this.buffers={positionBuffer:this.igloo.array(new Float32Array([0,0,0,1,1,0,1,0,0,1,1,1])),texcoordBuffer:this.igloo.array(new Float32Array([0,0,0,1,1,0,1,0,0,1,1,1]))},this.framebuffers=[this.igloo.framebuffer(),this.igloo.framebuffer()],this.framebuffers[0].texture=this.igloo.texture(null,this.igloo.gl.RGBA,this.igloo.gl.CLAMP_TO_EDGE,this.igloo.gl.NEAREST),this.framebuffers[1].texture=this.igloo.texture(null,this.igloo.gl.RGBA,this.igloo.gl.CLAMP_TO_EDGE,this.igloo.gl.NEAREST),this.texturePool=new s({allocator:function(){return n.igloo.texture().blank(1,1)}})}return(0,o["default"])(e,[{key:"modifyPoolSize",value:function(e){this.texturePool.allocate(e)}},{key:"drawToFBO",value:function(e){this.framebuffers[e].attach(this.framebuffers[e].texture)}},{key:"preWarmPoolForImage",value:function(e){var t=this.texturePool.get(function(t){return t.image===e});t||(t=this.texturePool.pop(),t.set(e),t.image=e,this.texturePool.push(t))}},{key:"drawImage",value:function(e,t,n,r,i,o,s,a,u){void 0===r&&void 0===i?(o=t,s=n,t=0,n=0,a=r=e.width,u=i=e.height):void 0===o&&void 0===s&&(o=t,s=n,a=r,u=i,t=0,n=0,r=e.width,i=e.height);var f=this.igloo.gl,p=this.texturePool.get(function(t){return t.image===e});p||(p=this.texturePool.pop(),p.set(e),p.image=e),p.bind(0),this.program.use().uniformi("u_texture",0).attrib("a_position",this.buffers.positionBuffer,2).attrib("a_texcoord",this.buffers.texcoordBuffer,2),c.ortho(l,0,f.canvas.width,f.canvas.height,0,-1,1),c.identity(d),c.translate(d,d,[o,s,0]),c.scale(d,d,[a,u,1]),c.multiply(d,l,d),f.uniformMatrix4fv(this.program.uniforms.matrixLocation,!1,d),c.identity(h),c.translate(h,h,[t/e.width,n/e.height,0]),c.scale(h,h,[r/e.width,i/e.height,1]),f.uniformMatrix4fv(this.program.uniforms.textureMatrixLocation,!1,h),f.drawArrays(f.TRIANGLES,0,6),this.texturePool.push(p)}},{key:"composite",value:function(){var e=this.igloo.gl;this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.framebuffers[0].texture.bind(1),this.framebuffers[1].texture.bind(2),this.blendProgram.use().uniformi("imageTexture",1).uniformi("maskTexture",2).attrib("a_position",this.buffers.positionBuffer,2).attrib("a_texcoord",this.buffers.texcoordBuffer,2),c.ortho(l,0,e.canvas.width,0,e.canvas.height,-1,1),c.scale(l,l,[e.canvas.width,e.canvas.height,1]),e.uniformMatrix4fv(this.blendProgram.uniforms.matrixLocation,!1,l),e.drawArrays(e.TRIANGLES,0,6)}},{key:"resizeCanvas",value:function(e,t){var n=this;this.canvas.width=e,this.canvas.height=t,[0,1].forEach(function(e){n.framebuffers[e].texture.blank(n.canvas.width,n.canvas.height),n.framebuffers[e].texture.width=n.canvas.width,n.framebuffers[e].texture.height=n.canvas.height}),this.gl.viewport(0,0,e,t),this.gl.clear(this.gl.COLOR_BUFFER_BIT)}},{key:"destroy",value:function(){this.texturePool.destroy(),this.texturePool=null,this.canvas=null,this.gl=null,this.blendProgram=null,this.buffers=null,this.framebuffers=null}}]),e}()},{244:244,61:61,62:62,63:63,64:64,65:65,66:66,72:72,74:74,78:78}],61:[function(e,t,n){"use strict";function r(e,t){var n;e instanceof HTMLCanvasElement?(n=e,e=r.getContext(e,t)):n=e.canvas,this.gl=e,this.canvas=n,this.defaultFramebuffer=new r.Framebuffer(e,null)}r.QUAD2=new Float32Array([-1,-1,1,-1,-1,1,1,1]),r.fetch=function(e,t){var n=new XMLHttpRequest;return n.open("GET",e,Boolean(t)),null!=t&&(n.onload=function(){t(n.responseText)}),n.send(),n.responseText},r.getContext=function(e,t,n){var r;try{r=e.getContext("webgl",t||{})||e.getContext("experimental-webgl",t||{})}catch(i){r=null}if(null!=r||n)return r;throw new Error("Could not create WebGL context.")},r.looksLikeURL=function(e){return null==/\s/.exec(e)},r.isArray=function(e){var t=Object.prototype.toString.apply(e,[]),n=/ (Float(32|64)|Int(16|32|8)|Uint(16|32|8(Clamped)?))?Array]$/;return null!=n.exec(t)},r.prototype.program=function(e,t,n){return r.looksLikeURL(e)&&(e=r.fetch(e)),r.looksLikeURL(t)&&(t=r.fetch(t)),null!=n&&(e=n(e),t=n(t)),new r.Program(this.gl,e,t)},r.prototype.array=function(e,t){var n=this.gl,i=new r.Buffer(n,n.ARRAY_BUFFER);return null!=e&&i.update(e,null==t?n.STATIC_DRAW:t),i},r.prototype.elements=function(e,t){var n=this.gl,i=new r.Buffer(n,n.ELEMENT_ARRAY_BUFFER);return null!=e&&i.update(e,null==t?n.STATIC_DRAW:t),i},r.prototype.texture=function(e,t,n,i,o){var s=new r.Texture(this.gl,t,n,i,o);return null!=e&&s.set(e),s},r.prototype.framebuffer=function(e){var t=new r.Framebuffer(this.gl);return null!=e&&t.attach(e),t},r.Program=function(e,t,n){this.gl=e,this.debug=!1;var r=this.program=e.createProgram();if(e.attachShader(r,this.makeShader(e.VERTEX_SHADER,t)),e.attachShader(r,this.makeShader(e.FRAGMENT_SHADER,n)),e.linkProgram(r),!e.getProgramParameter(r,e.LINK_STATUS))throw new Error(e.getProgramInfoLog(r));this.vars={}},r.Program.prototype.makeShader=function(e,t){var n=this.gl,r=n.createShader(e);if(n.shaderSource(r,t),n.compileShader(r),n.getShaderParameter(r,n.COMPILE_STATUS))return r;throw new Error(n.getShaderInfoLog(r))},r.Program.prototype.use=function(){return this.gl.useProgram(this.program),this},r.Program.prototype.uniform=function(e,t,n){if(null==t)this.vars[e]=this.gl.getUniformLocation(this.program,e);else{null==this.vars[e]&&this.uniform(e);var i=this.vars[e];if(r.isArray(t)){var o="uniform"+t.length+(n?"i":"f")+"v";this.gl[o](i,t)}else{if("number"!=typeof t&&"boolean"!=typeof t)throw new Error("Invalid uniform value: "+t);n?this.gl.uniform1i(i,t):this.gl.uniform1f(i,t)}}return this},r.Program.prototype.matrix=function(e,t,n){null==this.vars[e]&&this.uniform(e);var r="uniformMatrix"+Math.sqrt(t.length)+"fv";return this.gl[r](this.vars[e],Boolean(n),t),this},r.Program.prototype.uniformi=function(e,t){return this.uniform(e,t,!0)},r.Program.prototype.attrib=function(e,t,n,r){var i=this.gl;return null==t?this.vars[e]=i.getAttribLocation(this.program,e):(null==this.vars[e]&&this.attrib(e),t.bind(),i.enableVertexAttribArray(this.vars[e]),i.vertexAttribPointer(this.vars[e],n,i.FLOAT,!1,null==r?0:r,0)),this},r.Program.prototype.draw=function(e,t,n){var r=this.gl;if(null==n?r.drawArrays(e,0,t):r.drawElements(e,t,n,0),this.debug&&r.getError()!==r.NO_ERROR)throw new Error("WebGL rendering error");return this},r.Program.prototype.disable=function(){for(var e in this.vars){var t=this.vars[e];this.vars.hasOwnProperty(e)&&"number"==typeof t&&this.gl.disableVertexAttribArray(t)}return this},r.Buffer=function(e,t){this.gl=e,this.buffer=e.createBuffer(),this.target=null==t?e.ARRAY_BUFFER:t,this.size=-1},r.Buffer.prototype.bind=function(){return this.gl.bindBuffer(this.target,this.buffer),this},r.Buffer.prototype.update=function(e,t){var n=this.gl;return e instanceof Array&&(e=new Float32Array(e)),t=null==t?n.DYNAMIC_DRAW:t,this.bind(),this.size!==e.byteLength?(n.bufferData(this.target,e,t),this.size=e.byteLength):n.bufferSubData(this.target,0,e),this},r.Texture=function(e,t,n,r,i){this.gl=e;var o=this.texture=e.createTexture();e.bindTexture(e.TEXTURE_2D,o),n=null==n?e.CLAMP_TO_EDGE:n,r=null==r?e.LINEAR:r,e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,r),this.format=null==t?e.RGBA:t,this.type=null==i?e.UNSIGNED_BYTE:i},r.Texture.prototype.bind=function(e){var t=this.gl;return null!=e&&t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,this.texture),this},r.Texture.prototype.blank=function(e,t){var n=this.gl;return this.bind(),n.texImage2D(n.TEXTURE_2D,0,this.format,e,t,0,this.format,this.type,null),this},r.Texture.prototype.set=function(e,t,n){var r=this.gl;return this.bind(),e instanceof Array&&(e=this.type==r.FLOAT?new Float32Array(e):new Uint8Array(e)),null!=t||null!=n?r.texImage2D(r.TEXTURE_2D,0,this.format,t,n,0,this.format,this.type,e):r.texImage2D(r.TEXTURE_2D,0,this.format,this.format,this.type,e),this},r.Texture.prototype.subset=function(e,t,n,r,i){var o=this.gl;return this.bind(),e instanceof Array&&(e=this.type==o.FLOAT?new Float32Array(e):new Uint8Array(e)),null!=r||null!=i?o.texSubImage2D(o.TEXTURE_2D,0,t,n,r,i,this.format,this.type,e):o.texSubImage2D(o.TEXTURE_2D,0,t,n,this.format,this.type,e),this},r.Texture.prototype.copy=function(e,t,n,r){var i=this.gl;return i.copyTexImage2D(i.TEXTURE_2D,0,this.format,e,t,n,r,0),this},r.Framebuffer=function(e,t){this.gl=e,this.framebuffer=2==arguments.length?t:e.createFramebuffer(),this.renderbuffer=null},r.Framebuffer.prototype.bind=function(){return this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.framebuffer),this},r.Framebuffer.prototype.unbind=function(){return this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this},r.Framebuffer.prototype.attach=function(e){var t=this.gl;return this.bind(),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e.texture,0),this},r.Framebuffer.prototype.attachDepth=function(e,t){var n=this.gl;return this.bind(),null==this.renderbuffer&&(this.renderbuffer=n.createRenderbuffer(),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,e,t),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,this.renderbuffer)),this},t.exports=r},{}],62:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=r(e(74));t.exports=function(){function e(t){(0,i["default"])(this,e),this._objects=[],this._all=[],this.size=t.size||0,this._allocator=t.allocator,this._deallocator=t.deallocator=function(){},t.size&&this.allocate(t.size)}return(0,o["default"])(e,[{key:"allocate",value:function(e){var t=this;e<this.size&&(this._all=this._all.slice(0,e),this._objects.forEach(function(e){return t._deallocator(e)}),this._objects=[],this.size=e),this.size=e;for(var n=this._all.length;n<this.size;n++){var r=this._allocator();this._all.push(r),this._objects.push(r)}}},{key:"push",value:function(e){this._deallocator(e),this._objects.unshift(e)}},{key:"pop",value:function(){if(0===this._objects.length)throw"Object Pool ran out of objects";return this._objects.pop()}},{key:"get",value:function(e){for(var t=0;t<this._objects.length;t++)if(e(this._objects[t])){var n=this._objects[t];return this._objects.splice(t,1),n}return null}},{key:"destroy",value:function(){this._objects=null,this._all=null,this._allocator=null,this._deallocator=null}}]),e}()},{72:72,74:74,78:78}],63:[function(e,t,n){"use strict";t.exports="precision mediump float;\n\nvarying vec2 v_texcoord;\n\nuniform sampler2D maskTexture;\nuniform sampler2D imageTexture;\n\nvoid main() {\n    vec4 mask = texture2D(maskTexture, v_texcoord);\n    vec4 image = texture2D(imageTexture, v_texcoord);\n    gl_FragColor = mix(image, vec4(0.0), mask.r);\n}"},{}],64:[function(e,t,n){"use strict";t.exports="attribute vec4 a_position;\nattribute vec2 a_texcoord;\n\nuniform mat4 u_matrix;\n\nvarying vec2 v_texcoord;\n\nvoid main() {\n    gl_Position = u_matrix * a_position;\n    v_texcoord = a_texcoord;\n}"},{}],65:[function(e,t,n){"use strict";t.exports="precision highp float;\n\nvarying vec2 v_texcoord;\nuniform sampler2D u_texture;\n\nvoid main() {\n    gl_FragColor = texture2D(u_texture, v_texcoord);\n}"},{}],66:[function(e,t,n){"use strict";t.exports="precision highp float;\n\nattribute vec4 a_position;\nattribute vec2 a_texcoord;\n\nuniform mat4 u_matrix;\nuniform mat4 u_textureMatrix;\n\nvarying vec2 v_texcoord;\n\nvoid main() {\n    gl_Position = u_matrix * a_position;\n    v_texcoord = (u_textureMatrix * vec4(a_texcoord, 0, 1)).xy;\n}"},{}],67:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=r(e(74)),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;(0,i["default"])(this,e),this.concurrencyCount=t,this.queue=[],this.inProgressCount=0,this.isRunning=!1}return(0,o["default"])(e,[{key:"enqueueImage",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return this.queue[n]||(this.queue[n]=new Array),new Promise(function(r,i){t.queue[n].push({resolve:r,reject:i,imageUrl:e}),t._processNextQueueItem()}).then(function(){return t._loadImage(e)})}},{key:"start",value:function(){this.isRunning||(this.isRunning=!0,this._processNextQueueItem())}},{key:"stop",value:function(){this.isRunning=!1}},{key:"_loadImage",value:function(e){var t=this;return new Promise(function(n,r){var i=new Image;i.onload=function(){t.inProgressCount--,t._processNextQueueItem(),n(i)},i.onerror=function(e){t.inProgressCount--,t._processNextQueueItem(),r(e)},i.src=e})}},{key:"_processNextQueueItem",value:function(){if(!(this.inProgressCount>=this.concurrencyCount)&&this.isRunning){var e=this.queue.find(function(e){return e&&e.length>0});if(e){var t=e.shift();this.inProgressCount++,t.resolve()}}}}]),e}();t.exports=s},{72:72,74:74,78:78}],68:[function(e,t,n){"use strict";var r={};t.exports=function(e,t,n){if(e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),n||!r.hasOwnProperty(e)){var i=new RegExp("[\\?&]"+e+"=([^&#]*)"),o=i.exec(location.search),s=null===o?t:decodeURIComponent(o[1].replace(/\+/g," "));"true"!==s&&"false"!==s||(s="true"===s),isNaN(parseFloat(s))||(s=parseFloat(s)),r[e]=s}return r[e]}},{}],69:[function(e,t,n){function r(e){if(Array.isArray(e))return e}t.exports=r},{}],70:[function(e,t,n){function r(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}t.exports=r},{}],71:[function(e,t,n){function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.exports=r},{}],72:[function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.exports=r},{}],73:[function(e,t,n){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function i(e,n,s){return r()?t.exports=i=Reflect.construct:t.exports=i=function(e,t,n){var r=[null];r.push.apply(r,t);var i=Function.bind.apply(e,r),s=new i;return n&&o(s,n.prototype),s},i.apply(null,arguments)}var o=e(85);t.exports=i},{85:85}],74:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}t.exports=i},{}],75:[function(e,t,n){function r(e,n,o){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=r=Reflect.get:t.exports=r=function(e,t,n){var r=i(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},r(e,n,o||e)}var i=e(87);t.exports=r},{87:87}],76:[function(e,t,n){function r(e){return t.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}t.exports=r},{}],77:[function(e,t,n){function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}var i=e(85);t.exports=r},{85:85}],78:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}t.exports=r},{}],79:[function(e,t,n){function r(e){return Function.toString.call(e).indexOf("[native code]")!==-1}t.exports=r},{}],80:[function(e,t,n){function r(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}t.exports=r},{}],81:[function(e,t,n){function r(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==a["return"]||a["return"]()}finally{if(i)throw o}}return n}}t.exports=r},{}],82:[function(e,t,n){function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}t.exports=r},{}],83:[function(e,t,n){function r(){throw new TypeError("Invalid attempt to spread non-iterable instance")}t.exports=r},{}],84:[function(e,t,n){function r(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?o(e):t}var i=e(89),o=e(71);t.exports=r},{71:71,89:89}],85:[function(e,t,n){function r(e,n){return t.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,n)}t.exports=r},{}],86:[function(e,t,n){function r(e,t){return i(e)||o(e,t)||s()}var i=e(69),o=e(81),s=e(82);t.exports=r},{69:69,81:81,82:82}],87:[function(e,t,n){function r(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=i(e),null!==e););return e}var i=e(76);t.exports=r},{76:76}],88:[function(e,t,n){function r(e){return i(e)||o(e)||s()}var i=e(70),o=e(80),s=e(83);t.exports=r},{70:70,80:80,83:83}],89:[function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return"function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?t.exports=i=function(e){return r(e)}:t.exports=i=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)},i(e)}t.exports=i},{}],90:[function(e,t,n){function r(e){var n="function"==typeof Map?new Map:void 0;return t.exports=r=function(e){function t(){return a(e,arguments,i(this).constructor)}if(null===e||!s(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!=typeof n){if(n.has(e))return n.get(e);n.set(e,t)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},r(e)}var i=e(76),o=e(85),s=e(79),a=e(73);t.exports=r},{73:73,76:76,79:79,85:85}],91:[function(e,t,n){(function(n){"use strict";function r(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function i(e){return n.Buffer&&"function"==typeof n.Buffer.isBuffer?n.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}function o(e){return Object.prototype.toString.call(e)}function s(e){return!i(e)&&("function"==typeof n.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}function a(e){if(w.isFunction(e)){if(k)return e.name;var t=e.toString(),n=t.match(I);return n&&n[1]}}function c(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function u(e){if(k||!w.isFunction(e))return w.inspect(e);var t=a(e),n=t?": "+t:"";return"[Function"+n+"]"}function l(e){return c(u(e.actual),128)+" "+e.operator+" "+c(u(e.expected),128)}function h(e,t,n,r,i){throw new O.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function d(e,t){e||h(e,!0,t,"==",O.ok)}function f(e,t,n,a){if(e===t)return!0;if(i(e)&&i(t))return 0===r(e,t);if(w.isDate(e)&&w.isDate(t))return e.getTime()===t.getTime();if(w.isRegExp(e)&&w.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"===(0,_["default"])(e)||null!==t&&"object"===(0,_["default"])(t)){if(s(e)&&s(t)&&o(e)===o(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;a=a||{actual:[],expected:[]};var c=a.actual.indexOf(e);return c!==-1&&c===a.expected.indexOf(t)||(a.actual.push(e),a.expected.push(t),m(e,t,n,a))}return n?e===t:e==t}function p(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function m(e,t,n,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(w.isPrimitive(e)||w.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=p(e),o=p(t);if(i&&!o||!i&&o)return!1;if(i)return e=S.call(e),t=S.call(t),f(e,t,n);var s,a,c=T(e),u=T(t);if(c.length!==u.length)return!1;for(c.sort(),u.sort(),a=c.length-1;a>=0;a--)if(c[a]!==u[a])return!1;for(a=c.length-1;a>=0;a--)if(s=c[a],!f(e[s],t[s],n,r))return!1;return!0}function y(e,t,n){f(e,t,!0)&&h(e,t,n,"notDeepStrictEqual",y)}function v(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(n){}return!Error.isPrototypeOf(t)&&t.call({},e)===!0}function g(e){var t;try{e()}catch(n){t=n}return t}function b(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=g(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&h(i,n,"Missing expected exception"+r);var o="string"==typeof r,s=!e&&w.isError(i),a=!e&&i&&!n;if((s&&o&&v(i,n)||a)&&h(i,n,"Got unwanted exception"+r),e&&i&&n&&!v(i,n)||!e&&i)throw i}var E=e(78),_=E(e(89)),w=e(95),x=Object.prototype.hasOwnProperty,S=Array.prototype.slice,k=function(){return"foo"===function(){}.name}(),O=t.exports=d,I=/\s*function\s+([^\(\s]*)\s*/;O.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=l(this),this.generatedMessage=!0);var t=e.stackStartFunction||h;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=a(t),o=r.indexOf("\n"+i);if(o>=0){var s=r.indexOf("\n",o+1);r=r.substring(s+1)}this.stack=r}}},w.inherits(O.AssertionError,Error),O.fail=h,O.ok=d,O.equal=function(e,t,n){e!=t&&h(e,t,n,"==",O.equal)},O.notEqual=function(e,t,n){e==t&&h(e,t,n,"!=",O.notEqual)},O.deepEqual=function(e,t,n){f(e,t,!1)||h(e,t,n,"deepEqual",O.deepEqual)},O.deepStrictEqual=function(e,t,n){f(e,t,!0)||h(e,t,n,"deepStrictEqual",O.deepStrictEqual)},O.notDeepEqual=function(e,t,n){f(e,t,!1)&&h(e,t,n,"notDeepEqual",O.notDeepEqual)},O.notDeepStrictEqual=y,O.strictEqual=function(e,t,n){e!==t&&h(e,t,n,"===",O.strictEqual)},O.notStrictEqual=function(e,t,n){e===t&&h(e,t,n,"!==",O.notStrictEqual)},O["throws"]=function(e,t,n){b(!0,e,t,n)},O.doesNotThrow=function(e,t,n){b(!1,e,t,n)},O.ifError=function(e){if(e)throw e};var T=Object.keys||function(e){var t=[];for(var n in e)x.call(e,n)&&t.push(n);return t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{78:78,89:89,95:95}],92:[function(e,t,n){"use strict";function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(h===setTimeout)return setTimeout(e,0);if((h===r||!h)&&setTimeout)return h=setTimeout,setTimeout(e,0);try{return h(e,0)}catch(t){try{return h.call(null,e,0)}catch(t){return h.call(this,e,0)}}}function s(e){if(d===clearTimeout)return clearTimeout(e);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){y&&p&&(y=!1,p.length?m=p.concat(m):v=-1,m.length&&c())}function c(){if(!y){var e=o(a);y=!0;for(var t=m.length;t;){for(p=m,m=[];++v<t;)p&&p[v].run();v=-1,t=m.length}p=null,y=!1,s(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var h,d,f=t.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:r}catch(e){h=r}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(e){d=i}}();var p,m=[],y=!1,v=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new u(e,t)),1!==m.length||y||o(c)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.prependListener=l,f.prependOnceListener=l,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],93:[function(e,t,n){"use strict";"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],94:[function(e,t,n){"use strict";var r=e(78),i=r(e(89));t.exports=function(e){return e&&"object"===(0,i["default"])(e)&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{78:78,89:89}],95:[function(e,t,n){(function(t,r){"use strict";function i(e,t){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(t)?r.showHidden=t:t&&n._extend(r,t),_(r.showHidden)&&(r.showHidden=!1),_(r.depth)&&(r.depth=2),_(r.colors)&&(r.colors=!1),_(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),c(r,e,r.depth)}function o(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function s(e,t){return e}function a(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function c(e,t,r){if(e.customInspect&&t&&O(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r,e);return b(i)||(i=c(e,i,r)),i}var o=u(e,t);if(o)return o;var s=Object.keys(t),m=a(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),k(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return l(t);if(0===s.length){if(O(t)){var y=t.name?": "+t.name:"";return e.stylize("[Function"+y+"]","special")}if(w(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(S(t))return e.stylize(Date.prototype.toString.call(t),"date");if(k(t))return l(t)}var v="",g=!1,E=["{","}"];if(p(t)&&(g=!0,E=["[","]"]),O(t)){var _=t.name?": "+t.name:"";v=" [Function"+_+"]"}if(w(t)&&(v=" "+RegExp.prototype.toString.call(t)),S(t)&&(v=" "+Date.prototype.toUTCString.call(t)),k(t)&&(v=" "+l(t)),0===s.length&&(!g||0==t.length))return E[0]+v+E[1];if(r<0)return w(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var x;return x=g?h(e,t,r,m,s):s.map(function(n){return d(e,t,r,m,n,g)}),e.seen.pop(),f(x,v,E)}function u(e,t){if(_(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return g(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):y(t)?e.stylize("null","null"):void 0}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)P(t,String(s))?o.push(d(e,t,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(d(e,t,n,r,i,!0))}),o}function d(e,t,n,r,i,o){var s,a,u;if(u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},u.get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),P(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(u.value)<0?(a=y(n)?c(e,u.value,null):c(e,u.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n"))):a=e.stylize("[Circular]","special")),_(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function f(e,t,n){var r=0,i=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function p(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function y(e){return null===e}function v(e){return null==e;
}function g(e){return"number"==typeof e}function b(e){return"string"==typeof e}function E(e){return"symbol"===(0,R["default"])(e)}function _(e){return void 0===e}function w(e){return x(e)&&"[object RegExp]"===T(e)}function x(e){return"object"===(0,R["default"])(e)&&null!==e}function S(e){return x(e)&&"[object Date]"===T(e)}function k(e){return x(e)&&("[object Error]"===T(e)||e instanceof Error)}function O(e){return"function"==typeof e}function I(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===(0,R["default"])(e)||"undefined"==typeof e}function T(e){return Object.prototype.toString.call(e)}function A(e){return e<10?"0"+e.toString(10):e.toString(10)}function C(){var e=new Date,t=[A(e.getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":");return[e.getDate(),L[e.getMonth()],t].join(" ")}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var M=e(78),R=M(e(89)),D=/%[sdj%]/g;n.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,s=String(e).replace(D,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}}),a=r[n];n<o;a=r[++n])s+=y(a)||!x(a)?" "+a:" "+i(a);return s},n.deprecate=function(e,i){function o(){if(!s){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),s=!0}return e.apply(this,arguments)}if(_(r.process))return function(){return n.deprecate(e,i).apply(this,arguments)};if(t.noDeprecation===!0)return e;var s=!1;return o};var F,N={};n.debuglog=function(e){if(_(F)&&(F=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!N[e])if(new RegExp("\\b"+e+"\\b","i").test(F)){var r=t.pid;N[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else N[e]=function(){};return N[e]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=p,n.isBoolean=m,n.isNull=y,n.isNullOrUndefined=v,n.isNumber=g,n.isString=b,n.isSymbol=E,n.isUndefined=_,n.isRegExp=w,n.isObject=x,n.isDate=S,n.isError=k,n.isFunction=O,n.isPrimitive=I,n.isBuffer=e(94);var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",C(),n.format.apply(n,arguments))},n.inherits=e(93),n._extend=function(e,t){if(!t||!x(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e(92),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{78:78,89:89,92:92,93:93,94:94}],96:[function(e,t,n){"use strict";function r(e){this._keysDown={},this._DOMKeyDown=this._DOMKeyDown.bind(this),this._DOMKeyUp=this._DOMKeyUp.bind(this),this._context=e||document,o(this._context,u,this._DOMKeyDown,!0),o(this._context,l,this._DOMKeyUp,!0),i.call(this)}var i=e(56).EventEmitterMicro,o=e(49),s=e(50),a=e(118),c=e(98),u="keydown",l="keyup",h=r.prototype=a(i.prototype);h.onDown=function(e,t){return this.on(u+":"+e,t)},h.onceDown=function(e,t){return this.once(u+":"+e,t)},h.offDown=function(e,t){return this.off(u+":"+e,t)},h.onUp=function(e,t){return this.on(l+":"+e,t)},h.onceUp=function(e,t){return this.once(l+":"+e,t)},h.offUp=function(e,t){return this.off(l+":"+e,t)},h.isDown=function(e){return e+="",this._keysDown[e]||!1},h.isUp=function(e){return!this.isDown(e)},h.destroy=function(){return s(this._context,u,this._DOMKeyDown,!0),s(this._context,l,this._DOMKeyUp,!0),this._keysDown=null,this._context=null,i.prototype.destroy.call(this),this},h._DOMKeyDown=function(e){var t=this._normalizeKeyboardEvent(e),n=t.keyCode+="";this._trackKeyDown(n),this.trigger(u+":"+n,t)},h._DOMKeyUp=function(e){var t=this._normalizeKeyboardEvent(e),n=t.keyCode+="";this._trackKeyUp(n),this.trigger(l+":"+n,t)},h._normalizeKeyboardEvent=function(e){return new c(e)},h._trackKeyUp=function(e){this._keysDown[e]&&(this._keysDown[e]=!1)},h._trackKeyDown=function(e){this._keysDown[e]||(this._keysDown[e]=!0)},t.exports=r},{118:118,49:49,50:50,56:56,98:98}],97:[function(e,t,n){"use strict";var r=e(96);t.exports=new r},{96:96}],98:[function(e,t,n){"use strict";function r(e){this.originalEvent=e;var t;for(t in e)i.indexOf(t)===-1&&"function"!=typeof e[t]&&(this[t]=e[t]);this.location=void 0!==this.originalEvent.location?this.originalEvent.location:this.originalEvent.keyLocation}var i=["keyLocation"];r.prototype={preventDefault:function(){return"function"!=typeof this.originalEvent.preventDefault?void(this.originalEvent.returnValue=!1):this.originalEvent.preventDefault()},stopPropagation:function(){return this.originalEvent.stopPropagation()}},t.exports=r},{}],99:[function(e,t,n){"use strict";t.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CONTROL:17,ALT:18,COMMAND:91,CAPSLOCK:20,ESCAPE:27,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ASTERISK:106,NUMPAD_PLUS:107,NUMPAD_DASH:109,NUMPAD_DOT:110,NUMPAD_SLASH:111,NUMPAD_EQUALS:187,TICK:192,LEFT_BRACKET:219,RIGHT_BRACKET:221,BACKSLASH:220,SEMICOLON:186,APOSTRAPHE:222,APOSTROPHE:222,SPACEBAR:32,CLEAR:12,COMMA:188,DOT:190,SLASH:191}},{}],100:[function(e,t,n){"use strict";t.exports=8},{}],101:[function(e,t,n){"use strict";t.exports=11},{}],102:[function(e,t,n){"use strict";t.exports=1},{}],103:[function(e,t,n){"use strict";t.exports=3},{}],104:[function(e,t,n){"use strict";var r=e(107);t.exports=function(e,t){return!!r(e)&&("number"==typeof t?e.nodeType===t:t.indexOf(e.nodeType)!==-1)}},{107:107}],105:[function(e,t,n){"use strict";var r=e(104),i=e(100),o=e(101),s=e(102),a=e(103),c=[s,a,i,o],u=" must be an Element, TextNode, Comment, or Document Fragment",l=[s,a,i],h=" must be an Element, TextNode, or Comment",d=[s,o],f=" must be an Element, or Document Fragment",p=" must have a parentNode";t.exports={parentNode:function(e,t,n,i){if(i=i||"target",(e||t)&&!r(e,d))throw new TypeError(n+": "+i+f)},childNode:function(e,t,n,i){if(i=i||"target",(e||t)&&!r(e,l))throw new TypeError(n+": "+i+h)},insertNode:function(e,t,n,i){if(i=i||"node",(e||t)&&!r(e,c))throw new TypeError(n+": "+i+u)},hasParentNode:function(e,t,n){if(n=n||"target",!e.parentNode)throw new TypeError(t+": "+n+p)}}},{100:100,101:101,102:102,103:103,104:104}],106:[function(e,t,n){"use strict";var r=e(104),i=e(102);t.exports=function(e){return r(e,i)}},{102:102,104:104}],107:[function(e,t,n){"use strict";t.exports=function(e){return!(!e||!e.nodeType)}},{}],108:[function(e,t,n){"use strict";var r=e(105);t.exports=function(e){return r.childNode(e,!0,"remove"),e.parentNode?e.parentNode.removeChild(e):e}},{105:105}],109:[function(e,t,n){"use strict";t.exports={Modal:e(110),Renderer:e(111),classNames:e(112),dataAttributes:e(113)}},{110:110,111:111,112:112,113:113}],110:[function(e,t,n){"use strict";function r(e,t){u.call(this),this.options=s.defaults(h,e),this.renderer=new l(t),this.opened=!1,this._keysToClose=[c.ESCAPE],this._attachedKeysToClose=[],this.close=this.close.bind(this)}var i={addEventListener:e(45),removeEventListener:e(46),target:e(48)},o={getScrollX:e(51),getScrollY:e(52)},s={create:e(118),defaults:e(119)},a=e(97),c=e(99),u=e(56).EventEmitterMicro,l=e(111),h={retainScrollPosition:!1},d=r.prototype=s.create(u.prototype);d.open=function(){this.options.retainScrollPosition&&this._saveScrollPosition(),this.opened||(this._attachEvents(),this.trigger("willopen"),this.renderer.open(),this.opened=!0,this.trigger("open"))},d.close=function(e){var t,n;if(this.opened){if(e&&"click"===e.type&&(t=i.target(e),n=this.renderer.options.dataAttributes.close,!t.hasAttribute(n)))return;this.trigger("willclose"),this._removeEvents(),this.renderer.close(),this.options.retainScrollPosition&&this._restoreScrollPosition(),this.opened=!1,this.trigger("close")}},d.render=function(){this.renderer.render()},d.appendContent=function(e,t){this.renderer.appendContent(e,t)},d.removeContent=function(e){this.renderer.removeContent(e)},d.destroy=function(){this._removeEvents(),this.renderer.destroy();for(var e in this)this.hasOwnProperty(e)&&(this[e]=null)},d.addKeyToClose=function(e){var t=this._keysToClose.indexOf(e);t===-1&&(this._keysToClose.push(e),this._bindKeyToClose(e))},d.removeKeyToClose=function(e){var t=this._keysToClose.indexOf(e);t!==-1&&this._keysToClose.splice(t,1),this._releaseKeyToClose(e)},d._bindKeyToClose=function(e){var t=this._attachedKeysToClose.indexOf(e);t===-1&&(a.onUp(e,this.close),this._attachedKeysToClose.push(e))},d._releaseKeyToClose=function(e){var t=this._attachedKeysToClose.indexOf(e);t!==-1&&(a.offUp(e,this.close),this._attachedKeysToClose.splice(t,1))},d._removeEvents=function(){this.renderer.modalElement&&i.removeEventListener(this.renderer.modalElement,"click",this.close),this._keysToClose.forEach(this._releaseKeyToClose,this)},d._attachEvents=function(){this.renderer.modalElement&&i.addEventListener(this.renderer.modalElement,"click",this.close),this._keysToClose.forEach(this._bindKeyToClose,this)},d._restoreScrollPosition=function(){window.scrollTo(this._scrollX||0,this._scrollY||0)},d._saveScrollPosition=function(){this._scrollX=o.getScrollX(),this._scrollY=o.getScrollY()},t.exports=r},{111:111,118:118,119:119,45:45,46:46,48:48,51:51,52:52,56:56,97:97,99:99}],111:[function(e,t,n){"use strict";var r={add:e(18),remove:e(23)},i={defaults:e(119)},o={remove:e(108),isElement:e(106)},s=e(112),a=e(113),c={modalElement:null,contentElement:null,closeButton:null,classNames:s,dataAttributes:a},u=function(e){e=e||{},this.options=i.defaults(c,e),this.options.classNames=i.defaults(c.classNames,e.classNames),this.options.dataAttributes=i.defaults(c.dataAttributes,e.dataAttributes),this.modalElement=this.options.modalElement,this.contentElement=this.options.contentElement,this.closeButton=this.options.closeButton},l=u.prototype;l.render=function(){return o.isElement(this.modalElement)||(this.modalElement=this.renderModalElement(this.options.classNames.modalElement)),o.isElement(this.contentElement)||(this.contentElement=this.renderContentElement(this.options.classNames.contentElement)),this.closeButton!==!1&&(o.isElement(this.closeButton)||(this.closeButton=this.renderCloseButton(this.options.classNames.closeButton)),this.modalElement.appendChild(this.closeButton)),this.modalElement.appendChild(this.contentElement),document.body.appendChild(this.modalElement),this.modalElement},l.renderCloseButton=function(e){var t;return e=e||this.options.classNames.closeButton,t=this._renderElement("button",e),t.setAttribute(this.options.dataAttributes.close,""),t},l.renderModalElement=function(e){return e=e||this.options.classNames.modalElement,this._renderElement("div",e)},l.renderContentElement=function(e){return e=e||this.options.classNames.contentElement,this._renderElement("div",e)},l.appendContent=function(e,t){o.isElement(e)&&(void 0===arguments[1]?this.contentElement.appendChild(e):o.isElement(t)&&t.appendChild(e))},l.removeContent=function(e){e?this.modalElement.contains(e)&&o.remove(e):this._emptyContent()},l.open=function(){var e=[document.documentElement].concat(this.options.classNames.documentElement),t=[this.modalElement].concat(this.options.classNames.modalOpen);r.add.apply(null,e),r.add.apply(null,t)},l.close=function(){var e=[document.documentElement].concat(this.options.classNames.documentElement),t=[this.modalElement].concat(this.options.classNames.modalOpen);r.remove.apply(null,e),r.remove.apply(null,t)},l.destroy=function(){var e=[document.documentElement].concat(this.options.classNames.documentElement);this.modalElement&&document.body.contains(this.modalElement)&&(this.close(),document.body.removeChild(this.modalElement)),r.remove.apply(null,e);for(var t in this)this.hasOwnProperty(t)&&(this[t]=null)},l._renderElement=function(e,t){var n=document.createElement(e),i=[n];return t&&(i=i.concat(t)),r.add.apply(null,i),n},l._emptyContent=function(){this.contentElement.innerHTML=""},t.exports=u},{106:106,108:108,112:112,113:113,119:119,18:18,23:23}],112:[function(e,t,n){"use strict";t.exports={modalElement:"modal",modalOpen:"modal-open",documentElement:"has-modal",contentElement:"modal-content",closeButton:"modal-close"}},{}],113:[function(e,t,n){"use strict";t.exports={close:"data-modal-close"}},{}],114:[function(e,t,n){"use strict";t.exports={Modal:e(115),createStandardModal:e(117),createFullViewportModal:e(116)}},{115:115,116:116,117:117}],115:[function(e,t,n){"use strict";function r(e){o.call(this),this.options=e||{},this._modal=new i(e,this.options.renderer),this.opened=!1,this._render(),this.closeButton=this._modal.renderer.closeButton,this.modalElement=this._modal.renderer.modalElement,this.contentElement=this._modal.renderer.contentElement,this.modalElement.setAttribute("role","dialog"),this.modalElement.setAttribute("aria-label","Modal"),this.modalElement.setAttribute("aria-modal","true"),this.modalElement.setAttribute("tabindex","-1"),this.closeButton.setAttribute("aria-label","Close"),this._circularTab=new s(this.modalElement),this._onWillOpen=this._onWillOpen.bind(this),this._onOpen=this._onOpen.bind(this),this._onWillClose=this._onWillClose.bind(this),this._onClose=this._onClose.bind(this),this._bindEvents()}var i=e(109).Modal,o=e(56).EventEmitterMicro,s=e(2),a=r.prototype=Object.create(o.prototype);a.open=function(){this._modal.open(),this.opened=this._modal.opened},a.close=function(){this._modal.close()},a.appendContent=function(e){this._modal.appendContent(e)},a.removeContent=function(e){this._modal.removeContent(e)},a.destroy=function(){this._releaseEvents(),this._modal.destroy(),this._removeModalFocus(),this._circularTab.destroy(),this._focusObj=null;for(var e in this)this.hasOwnProperty(e)&&(this[e]=null)},a.addKeyToClose=function(e){this._modal.addKeyToClose(e)},a.removeKeyToClose=function(e){this._modal.removeKeyToClose(e)},a._render=function(){this._modal.render(),this._modal.renderer.modalElement.setAttribute("aria-hidden","true")},a._bindEvents=function(){this._modal.on("willopen",this._onWillOpen),this._modal.on("open",this._onOpen),this._modal.on("willclose",this._onWillClose),this._modal.on("close",this._onClose)},a._releaseEvents=function(){this._modal.off("willopen",this._onWillOpen),this._modal.off("open",this._onOpen),this._modal.off("willclose",this._onWillClose),this._modal.off("close",this._onClose)},a._onWillOpen=function(){this.trigger("willopen")},a._onOpen=function(){this.opened=this._modal.opened,this._giveModalFocus(),this.trigger("open")},a._onWillClose=function(){this.trigger("willclose"),this._removeModalFocus()},a._onClose=function(){this.opened=this._modal.opened,this.trigger("close")},a._giveModalFocus=function(){this.modalElement.removeAttribute("aria-hidden"),this._activeElement=document.activeElement,setTimeout(function(){this.modalElement.focus()}.bind(this),300),this._circularTab.start()},a._removeModalFocus=function(){this._circularTab.stop(),this.modalElement.setAttribute("aria-hidden","true"),this._activeElement&&(this._activeElement.focus(),this._activeElement=null)},t.exports=r},{109:109,2:2,56:56}],116:[function(e,t,n){"use strict";function r(e,t){var n=new i(s),r=t||{};return e&&n.appendContent(e),r.removeContainerPadding&&n.modalElement.classList.add("remove-container-padding"),n}var i=e(115),o=e(109).classNames,s={retainScrollPosition:!0,renderer:{classNames:{documentElement:[o.documentElement].concat("has-modal-full-viewport"),modalElement:[o.modalElement].concat("modal-full-viewport")}}};t.exports=r},{109:109,115:115}],117:[function(e,t,n){"use strict";function r(e){var t=new i(c);e&&t.appendContent(e);var n=document.createElement("div"),r=document.createElement("div"),o=document.createElement("div"),u=document.createElement("div");return a.add(n,"content-table"),a.add(r,"content-cell"),a.add(o,"content-wrapper"),a.add(u,"content-padding","large-8","medium-10"),t.modalElement.setAttribute(s.close,""),o.setAttribute(s.close,""),r.setAttribute(s.close,""),n.appendChild(r),r.appendChild(o),o.appendChild(u),t.modalElement.appendChild(n),u.appendChild(t.contentElement),u.appendChild(t.closeButton),t}var i=e(115),o=e(109).classNames,s=e(109).dataAttributes,a={add:e(18)},c={renderer:{classNames:{documentElement:[o.documentElement].concat("has-modal-standard"),modalElement:[o.modalElement].concat("modal-standard")}}};t.exports=r},{109:109,115:115,18:18}],118:[function(e,t,n){"use strict";var r=e(78),i=r(e(89)),o=function(){};t.exports=function(e){if(arguments.length>1)throw new Error("Second argument not supported");if(null===e||"object"!==(0,i["default"])(e))throw new TypeError("Object prototype may only be an Object.");return"function"==typeof Object.create?Object.create(e):(o.prototype=e,new o)}},{78:78,89:89}],119:[function(e,t,n){"use strict";var r=e(78),i=r(e(89)),o=e(120);t.exports=function(e,t){if("object"!==(0,i["default"])(e))throw new TypeError("defaults: must provide a defaults object");if(t=t||{},"object"!==(0,i["default"])(t))throw new TypeError("defaults: options must be a typeof object");return o({},e,t)}},{120:120,78:78,89:89}],120:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/Array/prototype.forEach");var r=Object.prototype.hasOwnProperty;t.exports=function(){var e,t;return e=arguments.length<2?[{},arguments[0]]:[].slice.call(arguments),t=e.shift(),e.forEach(function(e){if(null!=e)for(var n in e)r.call(e,n)&&(t[n]=e[n])}),t}},{undefined:void 0}],121:[function(e,t,n){"use strict";var r=e(125),i=e(122),o=e(124),s=e(123),a={};t.exports=function c(e,t){var n,u,l;if(t=t||"div",e=e.toLowerCase(),t in a||(a[t]={}),u=a[t],e in u)return u[e];if(r(e,t))return u[e]=e;if(e in i)for(l=0;l<i[e].length;l++)if(n=i[e][l],r(n.toLowerCase(),t))return u[e]=n;for(l=0;l<s.evt.length;l++)if(n=s.evt[l]+e,r(n,t))return s.reduce(l),u[e]=n;return"window"!==t&&o.indexOf(e)?u[e]=c(e,"window"):u[e]=!1}},{122:122,123:123,124:124,125:125}],122:[function(e,t,n){"use strict";t.exports={transitionend:["webkitTransitionEnd","MSTransitionEnd"],animationstart:["webkitAnimationStart","MSAnimationStart"],animationend:["webkitAnimationEnd","MSAnimationEnd"],animationiteration:["webkitAnimationIteration","MSAnimationIteration"],fullscreenchange:["MSFullscreenChange"],fullscreenerror:["MSFullscreenError"]}},{}],123:[function(e,t,n){"use strict";var r=["-webkit-","-moz-","-ms-"],i=["Webkit","Moz","ms"],o=["webkit","moz","ms"],s=function(){this.initialize()},a=s.prototype;a.initialize=function(){this.reduced=!1,this.css=r,this.dom=i,this.evt=o},a.reduce=function(e){this.reduced||(this.reduced=!0,this.css=[this.css[e]],this.dom=[this.dom[e]],this.evt=[this.evt[e]])},t.exports=new s},{}],124:[function(e,t,n){"use strict";t.exports=["transitionend","animationstart","animationend","animationiteration"]},{}],125:[function(e,t,n){"use strict";var r={window:window,document:document};t.exports=function(e,t){var n;return e="on"+e,t in r||(r[t]=document.createElement(t)),n=r[t],e in n||"setAttribute"in n&&(n.setAttribute(e,"return;"),"function"==typeof n[e])}},{}],126:[function(e,t,n){"use strict";var r=e(142).SharedInstance,i="ac-raf-emitter-id-generator:sharedRAFEmitterIDGeneratorInstance",o="1.0.3",s=function(){this._currentID=0};s.prototype.getNewID=function(){return this._currentID++,"raf:"+this._currentID},t.exports=r.share(i,o,s)},{142:142}],127:[function(e,t,n){"use strict";t.exports={majorVersionNumber:"3.x"}},{}],128:[function(e,t,n){"use strict";function r(e){e=e||{},o.call(this),this.id=a.getNewID(),this.executor=e.executor||s,this._reset(),this._willRun=!1,this._didDestroy=!1}var i,o=e(56).EventEmitterMicro,s=e(138),a=e(137);i=r.prototype=Object.create(o.prototype),i.run=function(){return this._willRun||(this._willRun=!0),this._subscribe()},i.cancel=function(){this._unsubscribe(),this._willRun&&(this._willRun=!1),this._reset()},i.destroy=function(){var e=this.willRun();return this.cancel(),this.executor=null,o.prototype.destroy.call(this),this._didDestroy=!0,e},i.willRun=function(){return this._willRun},i.isRunning=function(){return this._isRunning},i._subscribe=function(){return this.executor.subscribe(this)},i._unsubscribe=function(){return this.executor.unsubscribe(this)},i._onAnimationFrameStart=function(e){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",e))},i._onAnimationFrameEnd=function(e){this._willRun||(this.trigger("stop",e),this._reset())},i._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},t.exports=r},{137:137,138:138,56:56}],129:[function(e,t,n){"use strict";function r(e){e=e||{},this._reset(),this.updatePhases(),this.eventEmitter=new o,this._willRun=!1,this._totalSubscribeCount=-1,this._requestAnimationFrame=window.requestAnimationFrame,this._cancelAnimationFrame=window.cancelAnimationFrame,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}var i,o=e(57);i=r.prototype,i.frameRequestedPhase="requested",i.startPhase="start",i.runPhases=["update","external","draw"],i.endPhase="end",i.disabledPhase="disabled",i.beforePhaseEventPrefix="before:",i.afterPhaseEventPrefix="after:",i.subscribe=function(e,t){return this._totalSubscribeCount++,this._nextFrameSubscribers[e.id]||(t?this._nextFrameSubscribersOrder.unshift(e.id):this._nextFrameSubscribersOrder.push(e.id),this._nextFrameSubscribers[e.id]=e,this._nextFrameSubscriberArrayLength++,this._nextFrameSubscriberCount++,this._run()),this._totalSubscribeCount},i.subscribeImmediate=function(e,t){return this._totalSubscribeCount++,this._subscribers[e.id]||(t?this._subscribersOrder.splice(this._currentSubscriberIndex+1,0,e.id):this._subscribersOrder.unshift(e.id),this._subscribers[e.id]=e,this._subscriberArrayLength++,this._subscriberCount++),this._totalSubscribeCount},i.unsubscribe=function(e){return!!this._nextFrameSubscribers[e.id]&&(this._nextFrameSubscribers[e.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},i.getSubscribeID=function(){return this._totalSubscribeCount+=1},i.destroy=function(){var e=this._cancel();return this.eventEmitter.destroy(),this.eventEmitter=null,this.phases=null,this._subscribers=null,this._subscribersOrder=null,this._nextFrameSubscribers=null,this._nextFrameSubscribersOrder=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,e},i.useExternalAnimationFrame=function(e){if("boolean"==typeof e){var t=this._isUsingExternalAnimationFrame;return e&&this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),!this._willRun||e||this._animationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this._isUsingExternalAnimationFrame=e,e?this._boundOnExternalAnimationFrame:t||!1}},i.updatePhases=function(){this.phases||(this.phases=[]),this.phases.length=0,this.phases.push(this.frameRequestedPhase),this.phases.push(this.startPhase),Array.prototype.push.apply(this.phases,this.runPhases),this.phases.push(this.endPhase),this._runPhasesLength=this.runPhases.length,this._phasesLength=this.phases.length},i._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this.phase===this.disabledPhase&&(this.phaseIndex=0,this.phase=this.phases[this.phaseIndex]),!0},i._cancel=function(){var e=!1;return this._animationFrameActive&&(this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,this._willRun=!1,e=!0),this._isRunning||this._reset(),e},i._onAnimationFrame=function(e){for(this._subscribers=this._nextFrameSubscribers,this._subscribersOrder=this._nextFrameSubscribersOrder,this._subscriberArrayLength=this._nextFrameSubscriberArrayLength,this._subscriberCount=this._nextFrameSubscriberCount,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this.phaseIndex=0,this.phase=this.phases[this.phaseIndex],this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=e-this.lastFrameTime,this.lastFrameTime=e,this._rafData.fps=0,this._rafData.delta>=1e3&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=e,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy===!1&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameStart(this._rafData);for(this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._runPhaseIndex=0;this._runPhaseIndex<this._runPhasesLength;this._runPhaseIndex++){for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy===!1&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]].trigger(this.phase,this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase)}for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy===!1&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameEnd(this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._willRun?(this.phaseIndex=0,this.phaseIndex=this.phases[this.phaseIndex]):this._reset()},i._onExternalAnimationFrame=function(e){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(e)},i._reset=function(){this._rafData||(this._rafData={}),this._rafData.time=0,this._rafData.delta=0,this._rafData.fps=0,this._rafData.naturalFps=0,this._rafData.timeNow=0,this._subscribers={},this._subscribersOrder=[],this._currentSubscriberIndex=-1,this._subscriberArrayLength=0,this._subscriberCount=0,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0,this._runPhaseIndex=-1,this.phaseIndex=-1,this.phase=this.disabledPhase},t.exports=r},{57:57}],130:[function(e,t,n){"use strict";var r=e(132),i=function(e){this.phase=e,this.rafEmitter=new r,this._cachePhaseIndex(),this.requestAnimationFrame=this.requestAnimationFrame.bind(this),this.cancelAnimationFrame=this.cancelAnimationFrame.bind(this),this._onBeforeRAFExecutorStart=this._onBeforeRAFExecutorStart.bind(this),this._onBeforeRAFExecutorPhase=this._onBeforeRAFExecutorPhase.bind(this),this._onAfterRAFExecutorPhase=this._onAfterRAFExecutorPhase.bind(this),this.rafEmitter.on(this.phase,this._onRAFExecuted.bind(this)),this.rafEmitter.executor.eventEmitter.on("before:start",this._onBeforeRAFExecutorStart),this.rafEmitter.executor.eventEmitter.on("before:"+this.phase,this._onBeforeRAFExecutorPhase),this.rafEmitter.executor.eventEmitter.on("after:"+this.phase,this._onAfterRAFExecutorPhase),this._frameCallbacks=[],this._currentFrameCallbacks=[],this._nextFrameCallbacks=[],this._phaseActive=!1,this._currentFrameID=-1,this._cancelFrameIdx=-1,this._frameCallbackLength=0,this._currentFrameCallbacksLength=0,this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0},o=i.prototype;o.requestAnimationFrame=function(e,t){return t===!0&&this.rafEmitter.executor.phaseIndex>0&&this.rafEmitter.executor.phaseIndex<=this.phaseIndex?this._phaseActive?(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!0),this._frameCallbacks.push(this._currentFrameID,e),this._frameCallbackLength+=2):(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!1),this._currentFrameCallbacks.push(this._currentFrameID,e),this._currentFrameCallbacksLength+=2):(this._currentFrameID=this.rafEmitter.run(),this._nextFrameCallbacks.push(this._currentFrameID,e),this._nextFrameCallbacksLength+=2),this._currentFrameID},o.cancelAnimationFrame=function(e){this._cancelFrameIdx=this._nextFrameCallbacks.indexOf(e),this._cancelFrameIdx>-1?this._cancelNextAnimationFrame():(this._cancelFrameIdx=this._currentFrameCallbacks.indexOf(e),this._cancelFrameIdx>-1?this._cancelCurrentAnimationFrame():(this._cancelFrameIdx=this._frameCallbacks.indexOf(e),this._cancelFrameIdx>-1&&this._cancelRunningAnimationFrame()))},o._onRAFExecuted=function(e){for(this._frameCallbackIteration=0;this._frameCallbackIteration<this._frameCallbackLength;this._frameCallbackIteration+=2)this._frameCallbacks[this._frameCallbackIteration+1](e.time,e);this._frameCallbacks.length=0,this._frameCallbackLength=0},o._onBeforeRAFExecutorStart=function(){Array.prototype.push.apply(this._currentFrameCallbacks,this._nextFrameCallbacks.splice(0,this._nextFrameCallbacksLength)),this._currentFrameCallbacksLength=this._nextFrameCallbacksLength,this._nextFrameCallbacks.length=0,this._nextFrameCallbacksLength=0},o._onBeforeRAFExecutorPhase=function(){this._phaseActive=!0,Array.prototype.push.apply(this._frameCallbacks,this._currentFrameCallbacks.splice(0,this._currentFrameCallbacksLength)),this._frameCallbackLength=this._currentFrameCallbacksLength,this._currentFrameCallbacks.length=0,this._currentFrameCallbacksLength=0},o._onAfterRAFExecutorPhase=function(){this._phaseActive=!1},o._cachePhaseIndex=function(){this.phaseIndex=this.rafEmitter.executor.phases.indexOf(this.phase)},o._cancelRunningAnimationFrame=function(){this._frameCallbacks.splice(this._cancelFrameIdx,2),this._frameCallbackLength-=2},o._cancelCurrentAnimationFrame=function(){this._currentFrameCallbacks.splice(this._cancelFrameIdx,2),this._currentFrameCallbacksLength-=2},o._cancelNextAnimationFrame=function(){this._nextFrameCallbacks.splice(this._cancelFrameIdx,2),this._nextFrameCallbacksLength-=2,0===this._nextFrameCallbacksLength&&this.rafEmitter.cancel()},t.exports=i},{132:132}],131:[function(e,t,n){"use strict";var r=e(130),i=function(){this.events={}},o=i.prototype;o.requestAnimationFrame=function(e){return this.events[e]||(this.events[e]=new r(e)),this.events[e].requestAnimationFrame},o.cancelAnimationFrame=function(e){return this.events[e]||(this.events[e]=new r(e)),this.events[e].cancelAnimationFrame},t.exports=new i},{130:130
}],132:[function(e,t,n){"use strict";var r=e(128),i=function(e){r.call(this,e)},o=i.prototype=Object.create(r.prototype);o._subscribe=function(){return this.executor.subscribe(this,!0)},t.exports=i},{128:128}],133:[function(e,t,n){"use strict";var r=e(131);t.exports=r.cancelAnimationFrame("draw")},{131:131}],134:[function(e,t,n){"use strict";var r=e(131);t.exports=r.cancelAnimationFrame("update")},{131:131}],135:[function(e,t,n){"use strict";var r=e(131);t.exports=r.requestAnimationFrame("draw")},{131:131}],136:[function(e,t,n){"use strict";var r=e(131);t.exports=r.requestAnimationFrame("external")},{131:131}],137:[function(e,t,n){"use strict";var r=e(142).SharedInstance,i=e(127).majorVersionNumber,o=function(){this._currentID=0};o.prototype.getNewID=function(){return this._currentID++,"raf:"+this._currentID},t.exports=r.share("@marcom/ac-raf-emitter/sharedRAFEmitterIDGeneratorInstance",i,o)},{127:127,142:142}],138:[function(e,t,n){"use strict";var r=e(142).SharedInstance,i=e(127).majorVersionNumber,o=e(129);t.exports=r.share("@marcom/ac-raf-emitter/sharedRAFExecutorInstance",i,o)},{127:127,129:129,142:142}],139:[function(e,t,n){"use strict";var r=e(131);t.exports=r.requestAnimationFrame("update")},{131:131}],140:[function(e,t,n){"use strict";function r(e){e=e||{},this._reset(),this._willRun=!1,this._totalSubscribeCount=-1,this._requestAnimationFrame=window.requestAnimationFrame,this._cancelAnimationFrame=window.cancelAnimationFrame,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}e("@marcom/ac-polyfills/performance/now");var i;i=r.prototype,i.subscribe=function(e,t){return this._totalSubscribeCount++,this._nextFrameSubscribers[e.id]||(t?this._nextFrameSubscribersOrder.unshift(e.id):this._nextFrameSubscribersOrder.push(e.id),this._nextFrameSubscribers[e.id]=e,this._nextFrameSubscriberArrayLength++,this._nextFrameSubscriberCount++,this._run()),this._totalSubscribeCount},i.unsubscribe=function(e){return!!this._nextFrameSubscribers[e.id]&&(this._nextFrameSubscribers[e.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},i.trigger=function(e,t){var n;for(n=0;n<this._subscriberArrayLength;n++)null!==this._subscribers[this._subscribersOrder[n]]&&this._subscribers[this._subscribersOrder[n]]._didDestroy===!1&&this._subscribers[this._subscribersOrder[n]].trigger(e,t)},i.destroy=function(){var e=this._cancel();return this._subscribers=null,this._subscribersOrder=null,this._nextFrameSubscribers=null,this._nextFrameSubscribersOrder=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,e},i.useExternalAnimationFrame=function(e){if("boolean"==typeof e){var t=this._isUsingExternalAnimationFrame;return e&&this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),!this._willRun||e||this._animationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this._isUsingExternalAnimationFrame=e,e?this._boundOnExternalAnimationFrame:t||!1}},i._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),!0},i._cancel=function(){var e=!1;return this._animationFrameActive&&(this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,this._willRun=!1,e=!0),this._isRunning||this._reset(),e},i._onSubscribersAnimationFrameStart=function(e){var t;for(t=0;t<this._subscriberArrayLength;t++)null!==this._subscribers[this._subscribersOrder[t]]&&this._subscribers[this._subscribersOrder[t]]._didDestroy===!1&&this._subscribers[this._subscribersOrder[t]]._onAnimationFrameStart(e)},i._onSubscribersAnimationFrameEnd=function(e){var t;for(t=0;t<this._subscriberArrayLength;t++)null!==this._subscribers[this._subscribersOrder[t]]&&this._subscribers[this._subscribersOrder[t]]._didDestroy===!1&&this._subscribers[this._subscribersOrder[t]]._onAnimationFrameEnd(e)},i._onAnimationFrame=function(e){this._subscribers=this._nextFrameSubscribers,this._subscribersOrder=this._nextFrameSubscribersOrder,this._subscriberArrayLength=this._nextFrameSubscriberArrayLength,this._subscriberCount=this._nextFrameSubscriberCount,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=e-this.lastFrameTime,this.lastFrameTime=e,this._rafData.fps=0,this._rafData.delta>=1e3&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=e,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this._onSubscribersAnimationFrameStart(this._rafData),this.trigger("update",this._rafData),this.trigger("external",this._rafData),this.trigger("draw",this._rafData),this._onSubscribersAnimationFrameEnd(this._rafData),this._willRun||this._reset()},i._onExternalAnimationFrame=function(e){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(e)},i._reset=function(){this._rafData={time:0,delta:0,fps:0,naturalFps:0,timeNow:0},this._subscribers={},this._subscribersOrder=[],this._subscriberArrayLength=0,this._subscriberCount=0,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0},t.exports=r},{undefined:void 0}],141:[function(e,t,n){"use strict";var r=e(142).SharedInstance,i="ac-raf-executor:sharedRAFExecutorInstance",o="2.0.1",s=e(140);t.exports=r.share(i,o,s)},{140:140,142:142}],142:[function(e,t,n){"use strict";t.exports={SharedInstance:e(143)}},{143:143}],143:[function(e,t,n){"use strict";var r=e(78),i=r(e(89)),o=window,s="AC",a="SharedInstance",c=o[s],u=function(){var e={};return{get:function(t,n){var r=null;return e[t]&&e[t][n]&&(r=e[t][n]),r},set:function(t,n,r){return e[t]||(e[t]={}),"function"==typeof r?e[t][n]=new r:e[t][n]=r,e[t][n]},share:function(e,t,n){var r=this.get(e,t);return r||(r=this.set(e,t,n)),r},remove:function(t,n){var r=(0,i["default"])(n);if("string"===r||"number"===r){if(!e[t]||!e[t][n])return;return void(e[t][n]=null)}e[t]&&(e[t]=null)}}}();c||(c=o[s]={}),c[a]||(c[a]=u),t.exports=c[a]},{78:78,89:89}],144:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=r(e(74)),s=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i["default"])(this,e),this.options=n,"loading"===document.readyState?document.addEventListener("readystatechange",function(e){"interactive"===document.readyState&&t._init()}):this._init()}return(0,o["default"])(e,[{key:"_init",value:function(){return this._images=Array.from(document.querySelectorAll("*[".concat(e.DATA_ATTRIBUTE,"]"))),this.AnimSystem=this._findAnim(),null===this.AnimSystem?null:void this._addKeyframesToImages()}},{key:"_defineKeyframeOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=t.getAttribute(e.DATA_DOWNLOAD_AREA_KEYFRAME)||"{}";return Object.assign({},{start:"t - 200vh",end:"b + 100vh",event:"AnimLazyImage"},JSON.parse(n))}},{key:"_addKeyframesToImages",value:function(){var e=this;this._scrollGroup=this.AnimSystem.getGroupForTarget(document.body),this._images.forEach(function(t){e.AnimSystem.getGroupForTarget(t)&&(e._scrollGroup=e.AnimSystem.getGroupForTarget(t));var n=e._defineKeyframeOptions(t),r=e._scrollGroup.addKeyframe(t,n);r.controller.once("AnimLazyImage:enter",function(){e._imageIsInLoadRange(t)})})}},{key:"_cleanUpImageAttributes",value:function(t){var n=!1;try{n=this._scrollGroup.getControllerForTarget(t).getNearestKeyframeForAttribute("AnimLazyImage").isCurrentlyInRange}catch(r){n=!1}n||t.setAttribute(e.DATA_ATTRIBUTE,"")}},{key:"_downloadingImageAttributes",value:function(t){t.removeAttribute(e.DATA_ATTRIBUTE)}},{key:"_imageIsInLoadRange",value:function(e){this._downloadImage(e)}},{key:"_downloadImage",value:function(e){this._downloadingImageAttributes(e)}},{key:"_findAnim",value:function(){var e=Array.from(document.querySelectorAll("[data-anim-group],[data-anim-scroll-group],[data-anim-time-group]"));return e.map(function(e){return e._animInfo?e._animInfo.group:null}).filter(function(e){return null!==e}),e[0]&&e[0]._animInfo?e[0]._animInfo.group.anim:(console.error("AnimLazyImage: AnimSystem not found, please initialize anim before instantiating"),null)}}]),e}();s.DATA_DOWNLOAD_AREA_KEYFRAME="data-download-area-keyframe",s.DATA_ATTRIBUTE="data-anim-lazy-image",t.exports=s},{72:72,74:74,78:78}],145:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=r(e(74)),s=r(e(84)),a=r(e(76)),c=r(e(75)),u=r(e(77)),l=e(144),h=e(232),d=e(135),f=e(139),p=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i["default"])(this,t),(0,s["default"])(this,(0,a["default"])(t).call(this,e))}return(0,u["default"])(t,e),(0,o["default"])(t,[{key:"_init",value:function(){(0,c["default"])((0,a["default"])(t.prototype),"_init",this).call(this),this._onBreakpointChangeCallback=this._onBreakpointChangeCallback.bind(this),this._addViewportEvents(),this._resetPromises(),this._addMethodsToImageElement()}},{key:"_addViewportEvents",value:function(){var e=this.options.breakpoints?{breakpoints:this.options.breakpoints}:{};this.viewportEmitterMicro=new h(e),this.viewportEmitterMicro.on(h.CHANGE_EVENTS.VIEWPORT,this._onBreakpointChangeCallback),this.viewportEmitterMicro.on(h.CHANGE_EVENTS.RETINA,this._onBreakpointChangeCallback)}},{key:"_addKeyframesToImages",value:function(){var e=this;this._scrollGroup=this.AnimSystem.getGroupForTarget(document.body),this._images.forEach(function(t){e.AnimSystem.getGroupForTarget(t)&&(e._scrollGroup=e.AnimSystem.getGroupForTarget(t));var n=e._defineKeyframeOptions(t),r=e._scrollGroup.addKeyframe(t,n);r.controller.on("AnimLazyImage:enter",function(){e._imageIsInLoadRange(t)})})}},{key:"_onBreakpointChangeCallback",value:function(e){var t=this;this._resetPromises(),this._images.forEach(function(e){t._cleanUpImageAttributes(e),""!=e.getAttribute(l.DATA_ATTRIBUTE)&&t._imageIsInLoadRange(e)})}},{key:"_resetPromises",value:function(){this._images.forEach(function(e){e.promises={},e.promises.downloadComplete=new Promise(function(t){e.promises.__completePromiseResolver=t})})}},{key:"_addMethodsToImageElement",value:function(){var e=this;this._images.forEach(function(t){t.forceLazyLoad=function(){e._imageIsInLoadRange(t)}})}},{key:"_imageIsInLoadRange",value:function(e){this._downloadImage(e).then(function(){e.promises.__completePromiseResolver(e),e.dispatchEvent(new Event(t.EVENTS.DOWNLOAD_COMPLETE))})}},{key:"_cleanUpImageAttributes",value:function(e){e.removeAttribute(t.DATA_DOWNLOADING_ATTRIBUTE),e.removeAttribute(t.DATA_DOWNLOAD_COMPLETE_ATTRIBUTE)}},{key:"_downloadingImageAttributes",value:function(e){(0,c["default"])((0,a["default"])(t.prototype),"_downloadingImageAttributes",this).call(this,e),e.setAttribute(t.DATA_DOWNLOADING_ATTRIBUTE,"")}},{key:"_finishedDownloadAttributes",value:function(e){e.removeAttribute(t.DATA_DOWNLOADING_ATTRIBUTE),e.setAttribute(t.DATA_DOWNLOAD_COMPLETE_ATTRIBUTE,"")}},{key:"_downloadImage",value:function(e){var n=this;return new Promise(function(r,i){return null!==e.getAttribute(t.DATA_DOWNLOAD_COMPLETE_ATTRIBUTE)?void r():void(null===e.getAttribute(t.DATA_DOWNLOADING_ATTRIBUTE)&&n._waitForBackgroundVisible(e).then(function(e){return n._getBackgroundImageSrc(e)}).then(function(e){return n._loadImage(e)}).then(function(){d(function(){n._finishedDownloadAttributes(e),r()},!0)}))})}},{key:"_waitForBackgroundVisible",value:function(e){var t=this;return new Promise(function(n,r){d(function(){t._downloadingImageAttributes(e),n(e)},!0)})}},{key:"_getBackgroundImageSrc",value:function(e){return new Promise(function(t,n){f(function(){var n=e.currentStyle;return n||(n=window.getComputedStyle(e,!1)),0===n.backgroundImage.indexOf("url(")?void t(n.backgroundImage.slice(4,-1).replace(/"/g,"")):void t(null)},!0)})}},{key:"_loadImage",value:function(e){return new Promise(this._loadImagePromiseFunc.bind(this,e))}},{key:"_loadImagePromiseFunc",value:function(e,t,n){function r(){this.removeEventListener("load",r),t(this),t=null}if(!e)return void t(null);var i=new Image;i.addEventListener("load",r),i.src=e}}]),t}(l);p.DATA_DOWNLOAD_COMPLETE_ATTRIBUTE="data-anim-lazy-image-download-complete",p.DATA_DOWNLOADING_ATTRIBUTE="data-anim-lazy-image-downloading",p.EVENTS={},p.EVENTS.DOWNLOAD_COMPLETE="video-loading-complete",t.exports=p},{135:135,139:139,144:144,232:232,72:72,74:74,75:75,76:76,77:77,78:78,84:84}],146:[function(e,t,n){"use strict";t.exports={version:"3.2.1",major:"3.x",majorMinor:"3.2"}},{}],147:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=r(e(74)),s=r(e(84)),a=r(e(76)),c=r(e(71)),u=r(e(77)),l=e(56).EventEmitterMicro,h=e(153),d=e(148),f=e(149),p=e(151),m=e(164),y=e(165),v=e(146),g={update:e(139),cancelUpdate:e(134),external:e(136),draw:e(135)},b=null,E=function(e){function t(){var e;if((0,i["default"])(this,t),e=(0,s["default"])(this,(0,a["default"])(t).call(this)),b)throw"You cannot create multiple AnimSystems. You probably want to create multiple groups instead. You can have unlimited groups on a page";return b=(0,c["default"])(e),e.groups=[],e.scrollSystems=[],e.timeSystems=[],e._forceUpdateRAFId=-1,e._initialized=!1,e.model=h,e.version=v.version,e._resolveReady=function(){},e.ready=new Promise(function(t){return e._resolveReady=t}),e.onScroll=e.onScroll.bind((0,c["default"])(e)),e.onResizedDebounced=e.onResizedDebounced.bind((0,c["default"])(e)),e.onResizeImmediate=e.onResizeImmediate.bind((0,c["default"])(e)),e}return(0,u["default"])(t,e),(0,o["default"])(t,[{key:"initialize",value:function(){return this._initialized?this.ready:(this._initialized=!0,this.timeSystems=[],this.scrollSystems=[],this.groups=[],this.setupEvents(),this.initializeResizeFilter(),this.initializeModel(),this.createDOMGroups(),this.createDOMKeyframes(),this._resolveReady(),this.ready)}},{key:"remove",value:function(){var e=this;return Promise.all(this.groups.map(function(e){return e.remove()})).then(function(){e.groups=null,e.scrollSystems=null,e.timeSystems=null,window.clearTimeout(h.RESIZE_TIMEOUT),window.removeEventListener("scroll",e.onScroll),window.removeEventListener("resize",e.onResizeImmediate),e._events={},e._initialized=!1,e.ready=new Promise(function(t){return e._resolveReady=t})})}},{key:"destroy",value:function(){return this.remove()}},{key:"createTimeGroup",value:function(e){var t=new y(e,this);return this.groups.push(t),this.timeSystems.push(t),this.trigger(h.EVENTS.ON_GROUP_CREATED,t),t}},{key:"createScrollGroup",value:function(e){if(!e)throw"AnimSystem scroll based groups must supply an HTMLElement";var t=new m(e,this);return this.groups.push(t),this.scrollSystems.push(t),this.trigger(h.EVENTS.ON_GROUP_CREATED,t),t}},{key:"removeGroup",value:function(e){var t=this;return Promise.all(e.keyframeControllers.map(function(t){return e.removeKeyframeController(t)})).then(function(){var n=t.groups.indexOf(e);n!==-1&&t.groups.splice(n,1),n=t.scrollSystems.indexOf(e),n!==-1&&t.scrollSystems.splice(n,1),n=t.timeSystems.indexOf(e),n!==-1&&t.timeSystems.splice(n,1),e.destroy()})}},{key:"createDOMGroups",value:function(){var e=this;document.body.setAttribute("data-anim-scroll-group","body"),document.querySelectorAll("[data-anim-scroll-group]").forEach(function(t){return e.createScrollGroup(t)}),document.querySelectorAll("[data-anim-time-group]").forEach(function(t){return e.createTimeGroup(t)}),this.trigger(h.EVENTS.ON_DOM_GROUPS_CREATED,this.groups)}},{key:"createDOMKeyframes",value:function(){var e=this,t=[];[d.DATA_ATTRIBUTE,f.DATA_ATTRIBUTE,p.DATA_ATTRIBUTE].forEach(function(e){for(var n=0;n<12;n++)t.push(e+(0===n?"":"-"+(n-1)))});for(var n=0;n<t.length;n++)for(var r=t[n],i=document.querySelectorAll("["+r+"]"),o=0;o<i.length;o++){var s=i[o],a=JSON.parse(s.getAttribute(r));this.addKeyframe(s,a)}g.update(function(){e.groups.forEach(function(e){return e.onKeyframesDirty({silent:!0})}),e.groups.forEach(function(e){return e.trigger(h.EVENTS.ON_DOM_KEYFRAMES_CREATED,e)}),e.trigger(h.EVENTS.ON_DOM_KEYFRAMES_CREATED,e),e.groups.forEach(function(e){e.forceUpdate({waitForNextUpdate:!1,silent:!0}),e.reconcile()}),e.onScroll()},!0)}},{key:"initializeResizeFilter",value:function(){if(!h.cssDimensionsTracker){var e=document.querySelector(".cssDimensionsTracker")||document.createElement("div");e.setAttribute("cssDimensionsTracker","true"),e.style.position="fixed",e.style.top="0",e.style.width="100%",e.style.height="100vh",e.style.pointerEvents="none",e.style.visibility="hidden",e.style.zIndex="-1",document.documentElement.appendChild(e),h.cssDimensionsTracker=e}}},{key:"initializeModel",value:function(){h.pageMetrics.windowHeight=h.cssDimensionsTracker.clientHeight,h.pageMetrics.windowWidth=h.cssDimensionsTracker.clientWidth,h.pageMetrics.scrollY=window.scrollY||window.pageYOffset,h.pageMetrics.scrollX=window.scrollX||window.pageXOffset,h.pageMetrics.breakpoint=h.getBreakpoint();var e=document.documentElement.getBoundingClientRect();h.pageMetrics.documentOffsetX=e.left+h.pageMetrics.scrollX,h.pageMetrics.documentOffsetY=e.top+h.pageMetrics.scrollY}},{key:"setupEvents",value:function(){window.removeEventListener("scroll",this.onScroll),window.addEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResizeImmediate),window.addEventListener("resize",this.onResizeImmediate)}},{key:"onScroll",value:function(){h.pageMetrics.scrollY=window.scrollY||window.pageYOffset,h.pageMetrics.scrollX=window.scrollX||window.pageXOffset;for(var e=0,t=this.scrollSystems.length;e<t;e++)this.scrollSystems[e]._onScroll();this.trigger(h.PageEvents.ON_SCROLL,h.pageMetrics)}},{key:"onResizeImmediate",value:function(){var e=h.cssDimensionsTracker.clientWidth,t=h.cssDimensionsTracker.clientHeight;if(e!==h.pageMetrics.windowWidth||t!==h.pageMetrics.windowHeight){h.pageMetrics.windowWidth=e,h.pageMetrics.windowHeight=t,h.pageMetrics.scrollY=window.scrollY||window.pageYOffset,h.pageMetrics.scrollX=window.scrollX||window.pageXOffset;var n=document.documentElement.getBoundingClientRect();h.pageMetrics.documentOffsetX=n.left+h.pageMetrics.scrollX,h.pageMetrics.documentOffsetY=n.top+h.pageMetrics.scrollY,window.clearTimeout(h.RESIZE_TIMEOUT),h.RESIZE_TIMEOUT=window.setTimeout(this.onResizedDebounced,250),this.trigger(h.PageEvents.ON_RESIZE_IMMEDIATE,h.pageMetrics)}}},{key:"onResizedDebounced",value:function(){var e=this;g.update(function(){var t=h.pageMetrics.breakpoint,n=h.getBreakpoint(),r=n!==t;if(r){h.pageMetrics.previousBreakpoint=t,h.pageMetrics.breakpoint=n;for(var i=0,o=e.groups.length;i<o;i++)e.groups[i]._onBreakpointChange();e.trigger(h.PageEvents.ON_BREAKPOINT_CHANGE,h.pageMetrics)}for(var s=0,a=e.groups.length;s<a;s++)e.groups[s].forceUpdate({waitForNextUpdate:!1});e.trigger(h.PageEvents.ON_RESIZE_DEBOUNCED,h.pageMetrics)},!0)}},{key:"forceUpdate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.waitForNextUpdate,r=void 0===n||n,i=t.silent,o=void 0!==i&&i;this._forceUpdateRAFId!==-1&&g.cancelUpdate(this._forceUpdateRAFId);var s=function(){for(var t=0,n=e.groups.length;t<n;t++){var r=e.groups[t];r.forceUpdate({waitForNextUpdate:!1,silent:o})}return-1};this._forceUpdateRAFId=r?g.update(s,!0):s()}},{key:"addKeyframe",value:function(e,t){var n=this.getGroupForTarget(e);return n=n||this.getGroupForTarget(document.body),n.addKeyframe(e,t)}},{key:"getGroupForTarget",value:function(e){if(e._animInfo&&e._animInfo.group)return e._animInfo.group;for(var t=e;t;){if(t._animInfo&&t._animInfo.isGroup)return t._animInfo.group;t=t.parentElement}}},{key:"getControllerForTarget",value:function(e){return e._animInfo&&e._animInfo.controller?e._animInfo.controller:null}}]),t}(l);t.exports=window.AC.SharedInstance.share("AnimSystem",v.major,E)},{134:134,135:135,136:136,139:139,146:146,148:148,149:149,151:151,153:153,164:164,165:165,56:56,71:71,72:72,74:74,76:76,77:77,78:78,84:84}],148:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=r(e(74)),s=e(153),a=e(231),c=e(155),u=e(161),l=e(158),h=e(166),d=e(167),f=e(160),p=function(){function e(t,n){(0,i["default"])(this,e),this.controller=t,this.anchors=[],this.jsonProps=n,this.ease=t.group.defaultEase,this.easeFunctionString=s.KeyframeDefaults.easeFunctionString,this.easeFunction=c[this.easeFunctionString],this.start=0,this.end=0,this.localT=0,this.curvedT=0,this.id=0,this.event="",this.needsEventDispatch=!1,this.snapAtCreation=!1,this.isEnabled=!1,this.animValues={},this.breakpointMask="SMLX",this.disabledWhen=[],this.keyframeType=s.KeyframeTypes.Interpolation,this.hold=!1,this.preserveState=!1,this.markedForRemoval=!1,this.hidden=!1,this.uuid=f()}return(0,o["default"])(e,[{key:"destroy",value:function(){this.controller=null,this.disabledWhen=null,this.anchors=null,this.jsonProps=null,this.easeFunction=null,this.animValues=null}},{key:"remove",value:function(){return this.controller.removeKeyframe(this)}},{key:"parseOptions",value:function(e){var t=this;this.jsonProps=e,e.relativeTo&&console.error("KeyframeError: relativeTo has been removed. Use 'anchors' property instead. Found 'relativeTo':\"".concat(e.relativeTo,'"')),""!==e.anchors&&e.anchors?(this.anchors=[],e.anchors=Array.isArray(e.anchors)?e.anchors:[e.anchors],e.anchors.forEach(function(n,r){var i=d(n,t.controller.group.element);if(!i){var o="";return"string"==typeof n&&(o=" Provided value was a string, so a failed attempt was made to find anchor with the provided querystring in group.element, or in the document."),void console.warn("Keyframe on",t.controller.element," failed to find anchor at index ".concat(r," in array"),e.anchors,". Anchors must be JS Object references, Elements references, or valid query selector strings. ".concat(o))}t.anchors.push(i),t.controller.group.metrics.add(i)})):(this.anchors=[],e.anchors=[]),e.ease?this.ease=parseFloat(e.ease):e.ease=this.ease,e.hasOwnProperty("snapAtCreation")?this.snapAtCreation=e.snapAtCreation:e.snapAtCreation=this.snapAtCreation,e.easeFunction?this.easeFunctionString=e.easeFunction:e.easeFunction=this.easeFunctionString,e.breakpointMask?this.breakpointMask=e.breakpointMask:e.breakpointMask=this.breakpointMask,e.disabledWhen?this.disabledWhen=Array.isArray(e.disabledWhen)?e.disabledWhen:[e.disabledWhen]:e.disabledWhen=this.disabledWhen,e.hasOwnProperty("hold")?this.hold=e.hold:e.hold=this.hold,e.hasOwnProperty("preserveState")?this.preserveState=e.preserveState:e.preserveState=this.preserveState,this.easeFunction=c[e.easeFunction],c.hasOwnProperty(e.easeFunction)||(e.easeFunction.includes("bezier")?this.easeFunction=u.fromCSSString(e.easeFunction):e.easeFunction.includes("spring")?this.easeFunction=l.fromCSSString(e.easeFunction):console.error("Keyframe parseOptions cannot find 'easeFunction' named '"+e.easeFunction+"'"));for(var n in e)if(s.KeyframeJSONReservedWords.indexOf(n)===-1){var r=e[n];if(Array.isArray(r)){if(this.animValues[n]=this.controller.group.expressionParser.parseArray(this,r),void 0===this.controller.tweenProps[n]||!this.controller._ownerIsElement){var i=0;this.controller._ownerIsElement||(i=this.controller.element[n]||0);var o=new s.TargetValue(i,s.KeyframeDefaults.epsilon,this.snapAtCreation);this.controller.tweenProps[n]=o}var a=this.controller.tweenProps[n];if(e.epsilon)a.epsilon=e.epsilon;else{var h=Math.abs(this.animValues[n][0]-this.animValues[n][1]),f=Math.min(.001*h,a.epsilon,s.KeyframeDefaults.epsilon);a.epsilon=Math.max(f,1e-4)}}}this.keyframeType=this.hold?s.KeyframeTypes.InterpolationForward:s.KeyframeTypes.Interpolation,e.event&&(this.event=e.event)}},{key:"overwriteProps",value:function(e){this.animValues={};var t=Object.assign({},this.jsonProps,e);this.controller.updateKeyframe(this,t)}},{key:"updateLocalProgress",value:function(e){if(this.start===this.end||e<this.start||e>this.end)return this.localT=e<this.start?0:e>this.end?1:0,void(this.curvedT=this.easeFunction(this.localT));var t=(e-this.start)/(this.end-this.start),n=this.hold?this.localT:0;this.localT=a.clamp(t,n,1),this.curvedT=this.easeFunction(this.localT)}},{key:"reconcile",value:function(e){var t=this.animValues[e],n=this.controller.tweenProps[e];n.initialValue=t[0],n.target=t[0]+this.curvedT*(t[1]-t[0]),n.current!==n.target&&(n.current=n.target,this.needsEventDispatch||(this.needsEventDispatch=!0,this.controller.keyframesRequiringDispatch.push(this)))}},{key:"reset",value:function(e){this.localT=e||0;var t=this.ease;this.ease=1;for(var n in this.animValues)this.reconcile(n);this.ease=t}},{key:"onDOMRead",value:function(e){var t=this.animValues[e],n=this.controller.tweenProps[e];n.target=t[0]+this.curvedT*(t[1]-t[0]);var r=n.current;n.current+=(n.target-n.current)*this.ease;var i=n.current-n.target;i<n.epsilon&&i>-n.epsilon&&(n.current=n.target,i=0),""===this.event||this.needsEventDispatch||(i>n.epsilon||i<-n.epsilon||0===i&&r!==n.current)&&(this.needsEventDispatch=!0,this.controller.keyframesRequiringDispatch.push(this))}},{key:"isInRange",value:function(e){return e>=this.start&&e<=this.end}},{key:"setEnabled",value:function(e){e=e||h(Array.from(document.documentElement.classList));var t=this.breakpointMask.indexOf(s.pageMetrics.breakpoint)!==-1,n=!1;return this.disabledWhen.length>0&&(n=this.disabledWhen.some(function(t){return"undefined"!=typeof e[t]})),this.isEnabled=t&&!n,this.isEnabled}},{key:"evaluateConstraints",value:function(){this.start=this.controller.group.expressionParser.parseTimeValue(this,this.jsonProps.start),this.end=this.controller.group.expressionParser.parseTimeValue(this,this.jsonProps.end),this.evaluateInterpolationConstraints()}},{key:"evaluateInterpolationConstraints",value:function(){for(var e in this.animValues){var t=this.jsonProps[e];this.animValues[e]=this.controller.group.expressionParser.parseArray(this,t)}}}]),e}();p.DATA_ATTRIBUTE="data-anim-tween",t.exports=p},{153:153,155:155,158:158,160:160,161:161,166:166,167:167,231:231,72:72,74:74,78:78}],149:[function(e,t,n){"use strict";var r=e(78),i=r(e(89)),o=r(e(72)),s=r(e(74)),a=r(e(84)),c=r(e(76)),u=r(e(77)),l=e(148),h=e(153),d=function(e){function t(e,n){var r;return(0,o["default"])(this,t),r=(0,a["default"])(this,(0,c["default"])(t).call(this,e,n)),r.keyframeType=h.KeyframeTypes.CSSClass,r._triggerType=t.TRIGGER_TYPE_CSS_CLASS,r.cssClass="",r.friendlyName="",r.style={on:null,off:null},r.toggle=!1,r.isApplied=!1,r}return(0,u["default"])(t,e),(0,s["default"])(t,[{key:"parseOptions",value:function(e){if(!this.controller._ownerIsElement)throw new TypeError("CSS Keyframes cannot be applied to JS Objects");if(e.x=void 0,e.y=void 0,e.scale=void 0,e.scaleX=void 0,e.scaleY=void 0,e.rotation=void 0,e.opacity=void 0,e.hold=void 0,void 0!==e.toggle&&(this.toggle=e.toggle),void 0!==e.cssClass)this._triggerType=t.TRIGGER_TYPE_CSS_CLASS,this.cssClass=e.cssClass,this.friendlyName="."+this.cssClass,void 0===this.controller.tweenProps.targetClasses&&(this.controller.tweenProps.targetClasses={add:[],remove:[]});else{if(void 0===e.style||!this.isValidStyleProperty(e.style))throw new TypeError("KeyframeCSSClass no 'cssClass` property found. If using `style` property its also missing or invalid");if(this._triggerType=t.TRIGGER_TYPE_STYLE_PROPERTY,this.style=e.style,this.friendlyName="style",this.toggle=void 0!==this.style.off||this.toggle,this.toggle&&void 0===this.style.off){this.style.off={};for(var n in this.style.on)this.style.off[n]=""}void 0===this.controller.tweenProps.targetStyles&&(this.controller.tweenProps.targetStyles={})}if(void 0===e.end&&(e.end=e.start),e.toggle=this.toggle,this._triggerType===t.TRIGGER_TYPE_CSS_CLASS)this.isApplied=this.controller.element.classList.contains(this.cssClass);else{var r=getComputedStyle(this.controller.element);this.isApplied=!0;for(var i in this.style.on)if(r[i]!==this.style.on[i]){this.isApplied=!1;break}}l.prototype.parseOptions.call(this,e),this.animValues[this.friendlyName]=[0,0],void 0===this.controller.tweenProps[this.friendlyName]&&(this.controller.tweenProps[this.friendlyName]=new h.TargetValue(0,1,(!1))),this.keyframeType=h.KeyframeTypes.CSSClass}},{key:"updateLocalProgress",value:function(e){this.isApplied&&!this.toggle||(this.start!==this.end?!this.isApplied&&e>=this.start&&e<=this.end?this._apply():this.isApplied&&this.toggle&&(e<this.start||e>this.end)&&this._unapply():!this.isApplied&&e>=this.start?this._apply():this.isApplied&&this.toggle&&e<this.start&&this._unapply())}},{key:"_apply",value:function(){if(this._triggerType===t.TRIGGER_TYPE_CSS_CLASS)this.controller.tweenProps.targetClasses.add.push(this.cssClass),this.controller.needsClassUpdate=!0;else{for(var e in this.style.on)this.controller.tweenProps.targetStyles[e]=this.style.on[e];this.controller.needsStyleUpdate=!0}this.isApplied=!0}},{key:"_unapply",value:function(){if(this._triggerType===t.TRIGGER_TYPE_CSS_CLASS)this.controller.tweenProps.targetClasses.remove.push(this.cssClass),this.controller.needsClassUpdate=!0;else{for(var e in this.style.off)this.controller.tweenProps.targetStyles[e]=this.style.off[e];this.controller.needsStyleUpdate=!0}this.isApplied=!1}},{key:"isValidStyleProperty",value:function(e){if(!e.hasOwnProperty("on"))return!1;if("object"!==(0,i["default"])(e.on))throw new TypeError("KeyframeCSSClass `style` property should be in the form of: {on:{visibility:hidden, otherProperty: value}}");if(this.toggle&&e.hasOwnProperty("off")&&"object"!==(0,i["default"])(e.off))throw new TypeError("KeyframeCSSClass `style` property should be in the form of: {on:{visibility:hidden, otherProperty: value}}");return!0}},{key:"reconcile",value:function(e,t){}},{key:"onDOMRead",value:function(e,t){}},{key:"evaluateInterpolationConstraints",value:function(){}}]),t}(l);d.TRIGGER_TYPE_CSS_CLASS=0,d.TRIGGER_TYPE_STYLE_PROPERTY=1,d.DATA_ATTRIBUTE="data-anim-classname",t.exports=d},{148:148,153:153,72:72,74:74,76:76,77:77,78:78,84:84,89:89}],150:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=r(e(74)),s=r(e(84)),a=r(e(71)),c=r(e(76)),u=r(e(75)),l=r(e(77)),h=e(153),d=(e(148),e(149)),f=e(157),p=e(166),m=e(160),y=e(56).EventEmitterMicro,v=e(182),g={update:e(139),external:e(136),draw:e(135)},b=Math.PI/180,E=["x","y","z","scale","scaleX","scaleY","rotation","rotationX","rotationY","rotationZ"],_={create:e(236),rotateX:e(238),rotateY:e(239),rotateZ:e(240),scale:e(241)},w=function(e){function t(e,n){var r;return(0,i["default"])(this,t),r=(0,s["default"])(this,(0,c["default"])(t).call(this)),r._events.draw=[],r.uuid=m(),r.group=e,r.element=n,r._ownerIsElement=r.element instanceof Element,r._ownerIsElement?r.friendlyName=r.element.tagName+"."+Array.from(r.element.classList).join("."):r.friendlyName=r.element.friendlyName||r.uuid,r.element._animInfo=r.element._animInfo||new h.AnimInfo(e,(0,a["default"])(r)),r.element._animInfo.controller=(0,a["default"])(r),r.element._animInfo.group=r.group,r.element._animInfo.controllers.push((0,a["default"])(r)),r.tweenProps=r.element._animInfo.tweenProps,r.eventObject=new h.EventObject((0,a["default"])(r)),r.needsStyleUpdate=!1,r.needsClassUpdate=!1,r.elementMetrics=r.group.metrics.add(r.element),r.attributes=[],r.keyframes={},r._allKeyframes=[],r._activeKeyframes=[],r.keyframesRequiringDispatch=[],r.updateCachedValuesFromElement(),r.boundsMin=0,r.boundsMax=0,r.mat2d=new Float32Array(6),r.mat4=_.create(),r.needsWrite=!0,r.onDOMWriteImp=r._ownerIsElement?r.onDOMWriteForElement:r.onDOMWriteForObject,r}return(0,l["default"])(t,e),(0,o["default"])(t,[{key:"destroy",value:function(){if(this.element._animInfo){this.element._animInfo.controller===this&&(this.element._animInfo.controller=null);
var e=this.element._animInfo.controllers.indexOf(this);e!==-1&&this.element._animInfo.controllers.splice(e,1),0===this.element._animInfo.controllers.length?this.element._animInfo=null:(this.element._animInfo.controller=this.element._animInfo.controllers[this.element._animInfo.controllers.length-1],this.element._animInfo.group=this.element._animInfo.controller.group)}this.eventObject.controller=null,this.eventObject.element=null,this.eventObject.keyframe=null,this.eventObject.tweenProps=null,this.eventObject=null,this.elementMetrics=null,this.group=null,this.keyframesRequiringDispatch=null;for(var n=0;n<this._allKeyframes.length;n++)this._allKeyframes[n].destroy();this._allKeyframes=null,this._activeKeyframes=null,this.attributes=null,this.keyframes=null,this.element=null,this.tweenProps=null,(0,u["default"])((0,c["default"])(t.prototype),"destroy",this).call(this)}},{key:"remove",value:function(){return this.group.removeKeyframeController(this)}},{key:"updateCachedValuesFromElement",value:function(){var e=this;if(this._ownerIsElement){var t=getComputedStyle(this.element),n=v(this.element,!0),r=h.KeyframeDefaults.epsilon,i=!1;["x","y","z"].forEach(function(t,o){e.tweenProps[t]=new h.TargetValue(n.translation[o],r,i)}),this.tweenProps.rotation=new h.TargetValue(n.eulerRotation[2],r,i),["rotationX","rotationY","rotationZ"].forEach(function(t,o){e.tweenProps[t]=new h.TargetValue(n.eulerRotation[o],r,i)}),this.tweenProps.scaleZ=new h.TargetValue(n.scale[0],r,i),["scaleX","scaleY","scale"].forEach(function(t,o){e.tweenProps[t]=new h.TargetValue(n.scale[o],r,i)}),this.tweenProps.opacity=new h.TargetValue(parseFloat(t.opacity),r,i)}}},{key:"addKeyframe",value:function(e){var t=f(e);if(!t)throw new Error("AnimSystem Cannot create keyframe for from options `"+e+"`");var n=new t(this,e);return n.parseOptions(e),n.id=this._allKeyframes.length,this._allKeyframes.push(n),n}},{key:"needsUpdate",value:function(){for(var e=0,t=this.attributes.length;e<t;e++){var n=this.attributes[e],r=this.tweenProps[n],i=Math.abs(r.current-r.target);if(i>r.epsilon)return!0}return!1}},{key:"updateLocalProgress",value:function(e){for(var t=0,n=this.attributes.length;t<n;t++){var r=this.attributes[t],i=this.keyframes[this.attributes[t]];if(1!==i.length){var o=this.getNearestKeyframeForAttribute(r,e);o&&o.updateLocalProgress(e)}else i[0].updateLocalProgress(e)}}},{key:"reconcile",value:function(){for(var e=0,t=this.attributes.length;e<t;e++){var n=this.attributes[e],r=this.getNearestKeyframeForAttribute(n,this.group.position.local);r.updateLocalProgress(this.group.position.local),r.snapAtCreation&&r.reconcile(n)}}},{key:"determineActiveKeyframes",value:function(e){var t=this;e=e||p(Array.from(document.documentElement.classList));var n=this._activeKeyframes,r=this.attributes,i={};this._activeKeyframes=[],this.attributes=[],this.keyframes={};for(var o=0;o<this._allKeyframes.length;o++){var s=this._allKeyframes[o];if(s.markedForRemoval||s.hidden||!s.setEnabled(e))for(var a in s.animValues)this.tweenProps[a].isActive=s.preserveState,s.preserveState&&(i[a]=!0);else{this._activeKeyframes.push(s);for(var c in s.animValues)this.keyframes[c]=this.keyframes[c]||[],this.keyframes[c].push(s),this.attributes.indexOf(c)===-1&&(i[c]=!0,this.attributes.push(c),this.tweenProps[c].isActive=!0)}}this.attributes.forEach(function(e){return t.tweenProps[e].isActive=!0});var u=n.filter(function(e){return t._activeKeyframes.indexOf(e)===-1});if(0!==u.length){var l=r.filter(function(e){return t.attributes.indexOf(e)===-1&&!i.hasOwnProperty(e)});if(0!==l.length)if(this.needsWrite=!0,this._ownerIsElement)g.external(function(){var e=Object.keys(i).filter(function(e){return E.includes(e)});0===e.length&&t.element.style.removeProperty("transform");for(var n=0,r=l.length;n<r;++n){var o=l[n],s=t.tweenProps[o];s.current=s.target,s.isActive=!1,"opacity"===o&&t.element.style.removeProperty("opacity")}for(var a=0,c=u.length;a<c;++a){var h=u[a];h instanceof d&&!h.preserveState&&h._unapply()}},!0);else for(var h=0,f=l.length;h<f;++h){var m=this.tweenProps[l[h]];m.current=m.target,m.isActive=!1}}}},{key:"onDOMRead",value:function(e){for(var t=0,n=this.attributes.length;t<n;t++){var r=this.attributes[t];this.tweenProps[r].previousValue=this.tweenProps[r].current;var i=this.getNearestKeyframeForAttribute(r,e);i&&i.onDOMRead(r),this.tweenProps[r].previousValue!==this.tweenProps[r].current&&(this.needsWrite=!0)}}},{key:"onDOMWrite",value:function(){(this.needsWrite||this.needsClassUpdate||this.needsStyleUpdate)&&(this.needsWrite=!1,this.onDOMWriteImp(),this.handleEventDispatch())}},{key:"onDOMWriteForObject",value:function(){for(var e=0,t=this.attributes.length;e<t;e++){var n=this.attributes[e];this.element[n]=this.tweenProps[n].current}}},{key:"onDOMWriteForElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.element.style,t=this.tweenProps;if(t.z.isActive||t.rotationX.isActive||t.rotationY.isActive){var n=this.mat4;if(n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,t.x.isActive||t.y.isActive||t.z.isActive){var r=t.x.current,i=t.y.current,o=t.z.current;n[12]=n[0]*r+n[4]*i+n[8]*o+n[12],n[13]=n[1]*r+n[5]*i+n[9]*o+n[13],n[14]=n[2]*r+n[6]*i+n[10]*o+n[14],n[15]=n[3]*r+n[7]*i+n[11]*o+n[15]}if(t.rotation.isActive||t.rotationZ.isActive){var s=(t.rotation.current||t.rotationZ.current)*b;_.rotateZ(n,n,s)}if(t.rotationX.isActive){var a=t.rotationX.current*b;_.rotateX(n,n,a)}if(t.rotationY.isActive){var c=t.rotationY.current*b;_.rotateY(n,n,c)}(t.scale.isActive||t.scaleX.isActive||t.scaleY.isActive)&&_.scale(n,n,[t.scale.current,t.scale.current,1]),e.transform="matrix3d("+n[0]+","+n[1]+","+n[2]+","+n[3]+","+n[4]+","+n[5]+","+n[6]+","+n[7]+","+n[8]+","+n[9]+","+n[10]+","+n[11]+","+n[12]+","+n[13]+","+n[14]+","+n[15]+")"}else if(t.x.isActive||t.y.isActive||t.rotation.isActive||t.rotationZ.isActive||t.scale.isActive||t.scaleX.isActive||t.scaleY.isActive){var u=this.mat2d;if(u[0]=1,u[1]=0,u[2]=0,u[3]=1,u[4]=0,u[5]=0,t.x.isActive||t.y.isActive){var l=t.x.current,h=t.y.current,d=u[0],f=u[1],p=u[2],m=u[3],y=u[4],v=u[5];u[0]=d,u[1]=f,u[2]=p,u[3]=m,u[4]=d*l+p*h+y,u[5]=f*l+m*h+v}if(t.rotation.isActive||t.rotationZ.isActive){var g=(t.rotation.current||t.rotationZ.current)*b,E=u[0],w=u[1],x=u[2],S=u[3],k=u[4],O=u[5],I=Math.sin(g),T=Math.cos(g);u[0]=E*T+x*I,u[1]=w*T+S*I,u[2]=E*-I+x*T,u[3]=w*-I+S*T,u[4]=k,u[5]=O}t.scale.isActive?(u[0]=u[0]*t.scale.current,u[1]=u[1]*t.scale.current,u[2]=u[2]*t.scale.current,u[3]=u[3]*t.scale.current,u[4]=u[4],u[5]=u[5]):(t.scaleX.isActive||t.scaleY.isActive)&&(u[0]=u[0]*t.scaleX.current,u[1]=u[1]*t.scaleX.current,u[2]=u[2]*t.scaleY.current,u[3]=u[3]*t.scaleY.current,u[4]=u[4],u[5]=u[5]),e.transform="matrix("+u[0]+", "+u[1]+", "+u[2]+", "+u[3]+", "+u[4]+", "+u[5]+")"}if(t.opacity.isActive&&(e.opacity=t.opacity.current),this.needsStyleUpdate){for(var A in this.tweenProps.targetStyles)null!==this.tweenProps.targetStyles[A]&&(this.element.style[A]=this.tweenProps.targetStyles[A]),this.tweenProps.targetStyles[A]=null;this.needsStyleUpdate=!1}this.needsClassUpdate&&(this.tweenProps.targetClasses.add.length>0&&this.element.classList.add.apply(this.element.classList,this.tweenProps.targetClasses.add),this.tweenProps.targetClasses.remove.length>0&&this.element.classList.remove.apply(this.element.classList,this.tweenProps.targetClasses.remove),this.tweenProps.targetClasses.add.length=0,this.tweenProps.targetClasses.remove.length=0,this.needsClassUpdate=!1)}},{key:"handleEventDispatch",value:function(){if(0!==this.keyframesRequiringDispatch.length){for(var e=0,t=this.keyframesRequiringDispatch.length;e<t;e++){var n=this.keyframesRequiringDispatch[e];n.needsEventDispatch=!1,this.eventObject.keyframe=n,this.eventObject.pageMetrics=h.pageMetrics,this.eventObject.event=n.event,this.trigger(n.event,this.eventObject)}this.keyframesRequiringDispatch.length=0}if(0!==this._events.draw.length){this.eventObject.keyframe=null,this.eventObject.event="draw";for(var r=this._events.draw.length-1;r>=0;r--)this._events.draw[r](this.eventObject)}}},{key:"updateAnimationConstraints",value:function(){for(var e=this,t=0,n=this._activeKeyframes.length;t<n;t++)this._activeKeyframes[t].evaluateConstraints();this.attributes.forEach(function(t){1!==e.keyframes[t].length&&e.keyframes[t].sort(h.KeyframeComparison)}),this.updateDeferredPropertyValues()}},{key:"refreshMetrics",value:function(){var e=new Set([this.element]);this._allKeyframes.forEach(function(t){return t.anchors.forEach(function(t){return e.add(t)})}),this.group.metrics.refreshCollection(e),this.group.keyframesDirty=!0}},{key:"updateDeferredPropertyValues",value:function(){for(var e=0,t=this.attributes.length;e<t;e++){var n=this.attributes[e],r=this.keyframes[n],i=r[0];if(!(i.keyframeType>h.KeyframeTypes.InterpolationForward))for(var o=0,s=r.length;o<s;o++){var a=r[o];if(null===a.jsonProps[n][0]){if(0===o){a.animValues[n][0]=this.tweenProps[n].initialValue;continue}a.animValues[n][0]=r[o-1].animValues[n][1]}if(null===a.jsonProps[n][1]){if(o===s-1)throw new RangeError("AnimSystem - last keyframe cannot defer it's end value! ".concat(n,":[").concat(a.jsonProps[n][0],",null]"));a.animValues[n][1]=r[o+1].animValues[n][0]}}}}},{key:"getBounds",value:function(e){this.boundsMin=Number.MAX_VALUE,this.boundsMax=-Number.MAX_VALUE;for(var t=0,n=this.attributes.length;t<n;t++)for(var r=this.keyframes[this.attributes[t]],i=0;i<r.length;i++){var o=r[i];this.boundsMin=Math.min(o.start,this.boundsMin),this.boundsMax=Math.max(o.end,this.boundsMax),e.min=Math.min(o.start,e.min),e.max=Math.max(o.end,e.max)}}},{key:"getNearestKeyframeForAttribute",value:function(e,t){t=void 0!==t?t:this.group.position.local;var n=null,r=Number.POSITIVE_INFINITY,i=this.keyframes[e];if(void 0===i)return null;var o=i.length;if(0===o)return null;if(1===o)return i[0];for(var s=0;s<o;s++){var a=i[s];if(a.isInRange(t)){n=a;break}var c=Math.min(Math.abs(t-a.start),Math.abs(t-a.end));c<r&&(r=c,n=a)}return n}},{key:"getAllKeyframesForAttribute",value:function(e){return this.keyframes[e]}},{key:"updateKeyframe",value:function(e,t){var n=this;e.parseOptions(t),e.evaluateConstraints(),this.group.keyframesDirty=!0,g.update(function(){n.trigger(h.EVENTS.ON_KEYFRAME_UPDATED,e),n.group.trigger(h.EVENTS.ON_KEYFRAME_UPDATED,e)},!0)}},{key:"removeKeyframe",value:function(e){var t=this;return e.controller!==this?Promise.resolve(null):(e.markedForRemoval=!0,this.group.keyframesDirty=!0,new Promise(function(n){t.group.rafEmitter.executor.eventEmitter.once("before:draw",function(){n(e),e.destroy();var r=t._allKeyframes.indexOf(e);r!==-1&&t._allKeyframes.splice(r,1)})}))}},{key:"updateAnimation",value:function(e,t){return this.group.gui&&console.warn("KeyframeController.updateAnimation(keyframe,props) has been deprecated. Please use updateKeyframe(keyframe,props)"),this.updateKeyframe(e,t)}}]),t}(y);t.exports=w},{135:135,136:136,139:139,148:148,149:149,153:153,157:157,160:160,166:166,182:182,236:236,238:238,239:239,240:240,241:241,56:56,71:71,72:72,74:74,75:75,76:76,77:77,78:78,84:84}],151:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=r(e(74)),s=r(e(84)),a=r(e(76)),c=r(e(75)),u=r(e(77)),l=e(148),h=e(153),d=function(e){function t(e,n){var r;return(0,i["default"])(this,t),r=(0,s["default"])(this,(0,a["default"])(t).call(this,e,n)),r.keyframeType=h.KeyframeTypes.Event,r.isApplied=!1,r.hasDuration=!1,r.isCurrentlyInRange=!1,r}return(0,u["default"])(t,e),(0,o["default"])(t,[{key:"parseOptions",value:function(e){e.x=void 0,e.y=void 0,e.scale=void 0,e.scaleX=void 0,e.scaleY=void 0,e.rotation=void 0,e.style=void 0,e.cssClass=void 0,e.rotation=void 0,e.opacity=void 0,e.hold=void 0,void 0===e.end&&(e.end=e.start),this.event=e.event,this.animValues[this.event]=[0,0],"undefined"==typeof this.controller.tweenProps[this.event]&&(this.controller.tweenProps[this.event]=new h.TargetValue(0,1,(!1))),(0,c["default"])((0,a["default"])(t.prototype),"parseOptions",this).call(this,e),this.keyframeType=h.KeyframeTypes.Event}},{key:"updateLocalProgress",value:function(e){if(this.hasDuration){var t=this.isCurrentlyInRange,n=e>=this.start&&e<=this.end;if(t===n)return;return this.isCurrentlyInRange=n,void(n&&!t?this._trigger(this.event+":enter"):t&&!n&&this._trigger(this.event+":exit"))}!this.isApplied&&e>=this.start?(this.isApplied=!0,this._trigger(this.event)):this.isApplied&&e<this.start&&(this.isApplied=!1,this._trigger(this.event+":reverse"))}},{key:"_trigger",value:function(e){this.controller.eventObject.event=e,this.controller.eventObject.keyframe=this,this.controller.trigger(e,this.controller.eventObject)}},{key:"evaluateConstraints",value:function(){(0,c["default"])((0,a["default"])(t.prototype),"evaluateConstraints",this).call(this),this.hasDuration=this.start!==this.end}},{key:"reset",value:function(e){this.isApplied=!1,this.isCurrentlyInRange=!1,(0,c["default"])((0,a["default"])(t.prototype),"reset",this).call(this,e)}},{key:"onDOMRead",value:function(e,t){}},{key:"reconcile",value:function(e,t){}},{key:"evaluateInterpolationConstraints",value:function(){}}]),t}(l);d.DATA_ATTRIBUTE="data-anim-event",t.exports=d},{148:148,153:153,72:72,74:74,75:75,76:76,77:77,78:78,84:84}],152:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=e(159);t.exports=function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,i["default"])(this,s),this.isGroup=n,this.group=e,this.controller=t,this.controllers=[],this.tweenProps=new o}},{159:159,72:72,78:78}],153:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o={GUI_INSTANCE:null,ANIM_INSTANCE:null,VIEWPORT_EMITTER_ELEMENT:void 0,LOCAL_STORAGE_KEYS:{GuiPosition:"anim-ui.position",GroupCollapsedStates:"anim-ui.group-collapsed-states",scrollY:"anim-ui.scrollY-position",path:"anim-ui.path"},RESIZE_TIMEOUT:-1,BREAKPOINTS:[{name:"S",mediaQuery:"only screen and (max-width: 735px)"},{name:"M",mediaQuery:"only screen and (max-width: 1068px)"},{name:"L",mediaQuery:"only screen and (min-width: 1442px)"},{name:"L",mediaQuery:"only screen and (min-width: 1069px)"}],getBreakpoint:function(){for(var e=0;e<o.BREAKPOINTS.length;e++){var t=o.BREAKPOINTS[e],n=window.matchMedia(t.mediaQuery);if(n.matches)return t.name}},KeyframeDefaults:{ease:1,epsilon:.05,easeFunctionString:"linear",easeFunction:"linear",hold:!1,snapAtCreation:!1,toggle:!1,breakpointMask:"SMLX",event:"",disabledWhen:[],cssClass:""},KeyframeTypes:{Interpolation:0,InterpolationForward:1,CSSClass:2,Event:3},EVENTS:{ON_DOM_KEYFRAMES_CREATED:"ON_DOM_KEYFRAMES_CREATED",ON_DOM_GROUPS_CREATED:"ON_DOM_GROUPS_CREATED",ON_GROUP_CREATED:"ON_GROUP_CREATED",ON_KEYFRAME_UPDATED:"ON_KEYFRAME_UPDATED",ON_TIMELINE_START:"ON_TIMELINE_START",ON_TIMELINE_UPDATE:"ON_TIMELINE_UPDATE",ON_TIMELINE_COMPLETE:"ON_TIMELINE_COMPLETE"},PageEvents:{ON_SCROLL:"ON_SCROLL",ON_RESIZE_IMMEDIATE:"ON_RESIZE_IMMEDIATE",ON_RESIZE_DEBOUNCED:"ON_RESIZE_DEBOUNCED",ON_BREAKPOINT_CHANGE:"ON_BREAKPOINT_CHANGE"},KeyframeJSONReservedWords:["event","cssClass","style","anchors","start","end","epsilon","easeFunction","ease","breakpointMask","disabledWhen"],TweenProps:e(159),TargetValue:function s(e,t,n){(0,i["default"])(this,s),this.epsilon=parseFloat(t),this.snapAtCreation=n,this.initialValue=e,this.target=e,this.current=e,this.previousValue=e,this.isActive=!1},AnimInfo:e(152),Progress:function(){this.local=0,this.localUnclamped=0,this.lastPosition=0},ViewableRange:function(e,t){this.a=e.top-t,this.a<0&&(this.a=e.top),this.b=e.top,this.d=e.bottom,this.c=Math.max(this.d-t,this.b)},pageMetrics:new function(){this.scrollX=0,this.scrollY=0,this.windowWidth=0,this.windowHeight=0,this.documentOffsetX=0,this.documentOffsetY=0,this.previousBreakpoint="",this.breakpoint=""},EventObject:function(e){this.controller=e,this.element=this.controller.element,this.keyframe=null,this.event="",this.tweenProps=this.controller.tweenProps},KeyframeComparison:function(e,t){return e.start<t.start?-1:e.start>t.start?1:0}};t.exports=o},{152:152,159:159,72:72,78:78}],154:[function(e,t,n){"use strict";var r={};r.easeInCubic="cubic-bezier(0.42, 0.0, 1.0, 1.0)",r.easeOutCubic="cubic-bezier(0.0, 0.0, 0.58, 1.0)",r.easeInOutCubic="cubic-bezier(0.42, 0.0, 0.58, 1.0)",r.easeInCirc="cubic-bezier(0.600, 0.040, 0.980, 0.335)",r.easeOutCirc="cubic-bezier(0.075, 0.820, 0.165, 1.000)",r.easeInOutCirc="cubic-bezier(0.785, 0.135, 0.150, 0.860)",r.easeInExpo="cubic-bezier(0.950, 0.050, 0.795, 0.035)",r.easeOutExpo="cubic-bezier(0.190, 1.000, 0.220, 1.000)",r.easeInOutExpo="cubic-bezier(1.000, 0.000, 0.000, 1.000)",r.easeInQuad="cubic-bezier(0.550, 0.085, 0.680, 0.530)",r.easeOutQuad="cubic-bezier(0.250, 0.460, 0.450, 0.940)",r.easeInOutQuad="cubic-bezier(0.455, 0.030, 0.515, 0.955)",r.easeInQuart="cubic-bezier(0.895, 0.030, 0.685, 0.220)",r.easeOutQuart="cubic-bezier(0.165, 0.840, 0.440, 1.000)",r.easeInOutQuart="cubic-bezier(0.770, 0.000, 0.175, 1.000)",r.easeInQuint="cubic-bezier(0.755, 0.050, 0.855, 0.060)",r.easeOutQuint="cubic-bezier(0.230, 1.000, 0.320, 1.000)",r.easeInOutQuint="cubic-bezier(0.860, 0.000, 0.070, 1.000)",r.easeInSine="cubic-bezier(0.470, 0.000, 0.745, 0.715)",r.easeOutSine="cubic-bezier(0.390, 0.575, 0.565, 1.000)",r.easeInOutSine="cubic-bezier(0.445, 0.050, 0.550, 0.950)",r.easeInBack="cubic-bezier(0.600, -0.280, 0.735, 0.045)",r.easeOutBack="cubic-bezier(0.175,  0.885, 0.320, 1.275)",r.easeInOutBack="cubic-bezier(0.680, -0.550, 0.265, 1.550)",r.linear="cubic-bezier(0.0, 0.0, 1.0, 1.0)",r.ease="cubic-bezier(0.25, 0.1, 0.25, 1.0)",r["ease-in"]="cubic-bezier(0.42, 0.0, 1.0, 1.0)",r["ease-out"]="cubic-bezier(0.0, 0.0, 0.58, 1.0)",r["ease-in-out"]="cubic-bezier(0.42, 0.0, 0.58, 1.0)",t.exports=r},{}],155:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=function s(){(0,i["default"])(this,s),this.linear=function(e){return e},this.easeInQuad=function(e){return e*e},this.easeOutQuad=function(e){return e*(2-e)},this.easeInOutQuad=function(e){return e<.5?2*e*e:-1+(4-2*e)*e},this.easeInSin=function(e){return 1+Math.sin(Math.PI/2*e-Math.PI/2)},this.easeOutSin=function(e){return Math.sin(Math.PI/2*e)},this.easeInOutSin=function(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2},this.easeInElastic=function(e){return 0===e?e:(.04-.04/e)*Math.sin(25*e)+1},this.easeOutElastic=function(e){return.04*e/--e*Math.sin(25*e)},this.easeInOutElastic=function(e){return(e-=.5)<0?(.02+.01/e)*Math.sin(50*e):(.02-.01/e)*Math.sin(50*e)+1},this.easeOutBack=function(e){return e-=1,e*e*(2.70158*e+1.70158)+1},this.easeInCubic=function(e){return e*e*e},this.easeOutCubic=function(e){return--e*e*e+1},this.easeInOutCubic=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},this.easeInQuart=function(e){return e*e*e*e},this.easeOutQuart=function(e){return 1- --e*e*e*e},this.easeInOutQuart=function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},this.easeInQuint=function(e){return e*e*e*e*e},this.easeOutQuint=function(e){return 1+--e*e*e*e*e},this.easeInOutQuint=function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};t.exports=new o},{72:72,78:78}],156:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=r(e(74)),s=e(153),a=function(e,t){return void 0===e||null===e?t:e},c=function(){function e(){(0,i["default"])(this,e),this.clear()}return(0,o["default"])(e,[{key:"clear",value:function(){this._metrics=new WeakMap}},{key:"destroy",value:function(){this._metrics=null}},{key:"add",value:function(e){var t=this._metrics.get(e);if(t)return t;var n=new u(e);return this._metrics.set(e,n),this._refreshMetrics(e,n)}},{key:"get",value:function(e){return this._metrics.get(e)}},{key:"refreshCollection",value:function(e){var t=this;e.forEach(function(e){return t._refreshMetrics(e,null)})}},{key:"refreshMetrics",value:function(e){return this._refreshMetrics(e)}},{key:"_refreshMetrics",value:function(e,t){if(t=t||this._metrics.get(e),!(e instanceof Element))return t.width=a(e.width,0),t.height=a(e.height,0),t.top=a(e.top,a(e.y,0)),t.left=a(e.left,a(e.x,0)),t.right=t.left+t.width,t.bottom=t.top+t.height,t;if(void 0===e.offsetWidth){var n=e.getBoundingClientRect();return t.width=n.width,t.height=n.height,t.top=s.pageMetrics.scrollY+n.top,t.left=s.pageMetrics.scrollX+n.left,t.right=t.left+t.width,t.bottom=t.top+t.height,t}t.width=e.offsetWidth,t.height=e.offsetHeight,t.top=s.pageMetrics.documentOffsetY,t.left=s.pageMetrics.documentOffsetX;for(var r=e;r;)t.top+=r.offsetTop,t.left+=r.offsetLeft,r=r.offsetParent;return t.right=t.left+t.width,t.bottom=t.top+t.height,t}}]),e}(),u=function(){function e(t){(0,i["default"])(this,e),this.top=0,this.bottom=0,this.left=0,this.right=0,this.height=0,this.width=0}return(0,o["default"])(e,[{key:"toString",value:function(){return"top:".concat(this.top,", bottom:").concat(this.bottom,", left:").concat(this.left,", right:").concat(this.right,", height:").concat(this.height,", width:").concat(this.width)}},{key:"toObject",value:function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right,height:this.height,width:this.width}}}]),e}();t.exports=c},{153:153,72:72,74:74,78:78}],157:[function(e,t,n){"use strict";var r=e(153),i=e(148),o=e(151),s=e(149),a=function(e){for(var t in e){var n=e[t];if(r.KeyframeJSONReservedWords.indexOf(t)===-1&&Array.isArray(n))return!0}return!1};t.exports=function(e){if(void 0!==e.cssClass||void 0!==e.style){if(a(e))throw"CSS Keyframes cannot tween values, please use multiple keyframes instead";return s}if(a(e))return i;if(e.event)return o;throw delete e.anchors,"Could not determine tween type based on ".concat(JSON.stringify(e))}},{148:148,149:149,151:151,153:153}],158:[function(e,t,n){"use strict";var r=e(78),i=r(e(73)),o=r(e(88)),s=r(e(72)),a=r(e(74)),c=function(){function e(t,n,r,i){(0,s["default"])(this,e),this.mass=t,this.stiffness=n,this.damping=r,this.initialVelocity=i,this.m_w0=Math.sqrt(this.stiffness/this.mass),this.m_zeta=this.damping/(2*Math.sqrt(this.stiffness*this.mass)),this.m_zeta<1?(this.m_wd=this.m_w0*Math.sqrt(1-this.m_zeta*this.m_zeta),this.m_A=1,this.m_B=(this.m_zeta*this.m_w0+-this.initialVelocity)/this.m_wd):(this.m_wd=0,this.m_A=1,this.m_B=-this.initialVelocity+this.m_w0)}return(0,a["default"])(e,[{key:"solve",value:function(e){return 0===e||1===e?e:(e=this.m_zeta<1?Math.exp(-e*this.m_zeta*this.m_w0)*(this.m_A*Math.cos(this.m_wd*e)+this.m_B*Math.sin(this.m_wd*e)):(this.m_A+this.m_B*e)*Math.exp(-e*this.m_w0),1-e)}}]),e}(),u=/\d*\.?\d+/g;c.fromCSSString=function(e){var t=e.match(u);if(4!==t.length)throw"SpringEasing could not convert ".concat(cssString," to spring params");var n=t.map(Number),r=(0,i["default"])(c,(0,o["default"])(n));return r.solve.bind(r)},t.exports=c},{72:72,73:73,74:74,78:78,88:88}],159:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=function s(){(0,i["default"])(this,s)};t.exports=o},{72:72,78:78}],160:[function(e,t,n){"use strict";t.exports=function(){return Math.random().toString(16).slice(2)}},{}],161:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=r(e(74)),s=1e-5,a=Math.abs,c=5,u=function(){function e(t,n,r,o){(0,i["default"])(this,e),this.cp=new Float32Array(6),this.cp[0]=3*t,this.cp[1]=3*(r-t)-this.cp[0],this.cp[2]=1-this.cp[0]-this.cp[1],this.cp[3]=3*n,this.cp[4]=3*(o-n)-this.cp[3],this.cp[5]=1-this.cp[3]-this.cp[4]}return(0,o["default"])(e,[{key:"sampleCurveX",value:function(e){return((this.cp[2]*e+this.cp[1])*e+this.cp[0])*e}},{key:"sampleCurveY",value:function(e){return((this.cp[5]*e+this.cp[4])*e+this.cp[3])*e}},{key:"sampleCurveDerivativeX",value:function(e){return(3*this.cp[2]*e+2*this.cp[1])*e+this.cp[0]}},{key:"solveCurveX",value:function(e){var t,n,r,i,o,u;for(r=e,u=0;u<c;u++){if(i=this.sampleCurveX(r)-e,a(i)<s)return r;if(o=this.sampleCurveDerivativeX(r),a(o)<s)break;r-=i/o}if(t=0,n=1,r=e,r<t)return t;if(r>n)return n;for(;t<n;){if(i=this.sampleCurveX(r),a(i-e)<s)return r;e>i?t=r:n=r,r=.5*(n-t)+t}return r}},{key:"solve",value:function(e){return this.sampleCurveY(this.solveCurveX(e))}}]),e}(),l=/\d*\.?\d+/g;u.fromCSSString=function(e){var t=e.match(l);if(4!==t.length)throw"UnitBezier could not convert ".concat(e," to cubic-bezier");var n=t.map(Number),r=new u(n[0],n[1],n[2],n[3]);return r.solve.bind(r)},t.exports=u},{72:72,74:74,78:78}],162:[function(e,t,n){"use strict";var r=e(78),i=r(e(89)),o=r(e(72)),s=r(e(74)),a=e(163),c=new(e(156)),u=function(){function e(t){(0,o["default"])(this,e),this.group=t,this.data={target:null,anchors:null,metrics:this.group.metrics}}return(0,s["default"])(e,[{key:"parseArray",value:function(e,t){return[this.parseExpression(e,t[0]),this.parseExpression(e,t[1])]}},{key:"parseExpression",value:function(t,n){if(!n)return null;if("number"==typeof n)return n;if("string"!=typeof n)throw"Expression must be a string, received ".concat((0,i["default"])(n),": ").concat(n);return this.data.target=t.controller.element,this.data.anchors=t.anchors,this.data.keyframe=t.keyframe,e._parse(n,this.data)}},{key:"parseTimeValue",value:function(e,t){if("number"==typeof t)return t;var n=this.group.expressionParser.parseExpression(e,t);return this.group.convertScrollPositionToTValue(n)}},{key:"destroy",value:function(){this.group=null}}],[{key:"parse",value:function(t,n){return n=n||{},n&&(c.clear(),n.target&&c.add(n.target),n.anchors&&n.anchors.forEach(function(e){return c.add(e)})),n.metrics=c,e._parse(t,n)}},{key:"_parse",value:function(e,t){return a.Parse(e).execute(t)}}]),e}();u.programs=a.programs,window.ExpressionParser=u,t.exports=u},{156:156,163:163,72:72,74:74,78:78,89:89}],163:[function(e,t,n){"use strict";var r=e(78),i=r(e(74)),o=r(e(84)),s=r(e(76)),a=r(e(77)),c=r(e(72)),u=e(153),l=e(231),h={},d={smoothstep:function(e,t,n){return n=d.clamp((n-e)/(t-e),0,1),n*n*(3-2*n)},deg:function(e){return 180*e/Math.PI},rad:function(e){return e*Math.PI/180},random:function(e,t){return Math.random()*(t-e)+e},atan:Math.atan2};Object.getOwnPropertyNames(Math).forEach(function(e){return d[e]?null:d[e.toLowerCase()]=Math[e]}),Object.getOwnPropertyNames(l).forEach(function(e){return d[e]?null:d[e.toLowerCase()]=l[e]});var f=null,p={ANCHOR_CONST:"a",ALPHA:"ALPHA",LPAREN:"(",RPAREN:")",PLUS:"PLUS",MINUS:"MINUS",MUL:"MUL",DIV:"DIV",INTEGER_CONST:"INTEGER_CONST",FLOAT_CONST:"FLOAT_CONST",COMMA:",",EOF:"EOF"},m={NUMBERS:/\d|\d\.\d/,DIGIT:/\d/,OPERATOR:/[-+*\/]/,PAREN:/[()]/,WHITE_SPACE:/\s/,ALPHA:/[a-zA-Z]|%/,ALPHANUMERIC:/[a-zA-Z0-9]/,OBJECT_UNIT:/^(t|l|b|r|%w|%h|%|h|w)$/,GLOBAL_METRICS_UNIT:/^(px|vh|vw)$/,ANY_UNIT:/^(t|l|b|r|%w|%h|%|h|w|px|vh|vw)$/,MATH_FUNCTION:new RegExp("\\b(".concat(Object.keys(d).join("|"),")\\b"),"i")},y={round:1,clamp:3,lerp:3,random:2,atan:2,floor:1,ceil:1,abs:1,cos:1,sin:1,smoothstep:3,rad:1,deg:1,pow:2,calc:1},v=function A(e,t){(0,c["default"])(this,A),this.type=e,this.value=t};v.ONE=new v("100",100),v.EOF=new v(p.EOF,null);var g=function C(e){(0,c["default"])(this,C),this.type=e},b=function(e){function t(e,n){var r;return(0,c["default"])(this,t),r=(0,o["default"])(this,(0,s["default"])(t).call(this,"UnaryOp")),r.token=r.op=e,r.expr=n,r}return(0,a["default"])(t,e),t}(g),E=function(e){function t(e,n,r){var i;return(0,c["default"])(this,t),i=(0,o["default"])(this,(0,s["default"])(t).call(this,"BinOp")),i.left=e,i.op=n,i.right=r,i}return(0,a["default"])(t,e),t}(g),_=function(e){function t(e,n){var r;if((0,c["default"])(this,t),r=(0,o["default"])(this,(0,s["default"])(t).call(this,"MathOp")),r.op=e,r.list=n,y[e.value]&&n.length!==y[e.value])throw new Error("Incorrect number of arguments for '".concat(e.value,"'. Received ").concat(n.length,", expected ").concat(y[e.value]));return r}return(0,a["default"])(t,e),t}(g),w=function(e){function t(e){var n;return(0,c["default"])(this,t),n=(0,o["default"])(this,(0,s["default"])(t).call(this,"Num")),n.token=e,n.value=e.value,n}return(0,a["default"])(t,e),t}(g),x=(function(e){function t(e){var n;return(0,c["default"])(this,t),n=(0,o["default"])(this,(0,s["default"])(t).call(this,"Unit")),n.token=e,n.value=e.value,n}return(0,a["default"])(t,e),t}(g),function(e){function t(e,n,r){var i;return(0,c["default"])(this,t),i=(0,o["default"])(this,(0,s["default"])(t).call(this,"RefValue")),i.num=e,i.ref=n,i.unit=r,i}return(0,a["default"])(t,e),t}(g)),S=function(e){function t(e,n){var r;return(0,c["default"])(this,t),r=(0,o["default"])(this,(0,s["default"])(t).call(this,"CSSValue")),r.ref=e,r.propertyName=n,r}return(0,a["default"])(t,e),t}(g),k=function(e){function t(e,n){var r;return(0,c["default"])(this,t),r=(0,o["default"])(this,(0,s["default"])(t).call(this,"PropValue")),r.ref=e,r.propertyName=n,r}return(0,a["default"])(t,e),t}(g),O=function(){function e(t){(0,c["default"])(this,e),this.text=t,this.pos=0,this["char"]=this.text[this.pos],this.tokens=[];for(var n;(n=this.getNextToken())&&n!==v.EOF;)this.tokens.push(n);this.tokens.push(n)}return(0,i["default"])(e,[{key:"advance",value:function(){this["char"]=this.text[++this.pos]}},{key:"skipWhiteSpace",value:function(){for(;null!=this["char"]&&m.WHITE_SPACE.test(this["char"]);)this.advance()}},{key:"name",value:function(){for(var e="";null!=this["char"]&&m.ALPHA.test(this["char"]);)e+=this["char"],this.advance();return new v(p.ALPHA,e)}},{key:"number",value:function(){for(var e="";null!=this["char"]&&m.DIGIT.test(this["char"]);)e+=this["char"],this.advance();if(null!=this["char"]&&"."===this["char"]){for(e+=this["char"],this.advance();null!=this["char"]&&m.DIGIT.test(this["char"]);)e+=this["char"],this.advance();return new v(p.FLOAT_CONST,parseFloat(e))}return new v(p.INTEGER_CONST,parseInt(e))}},{key:"getNextToken",value:function(){for(;null!=this["char"];)if(m.WHITE_SPACE.test(this["char"]))this.skipWhiteSpace();else{if(m.DIGIT.test(this["char"]))return this.number();if(","===this["char"])return this.advance(),new v(p.COMMA,",");if(m.OPERATOR.test(this["char"])){var e="",t=this["char"];switch(t){case"+":e=p.PLUS;break;case"-":e=p.MINUS;break;case"*":e=p.MUL;break;case"/":e=p.DIV}return this.advance(),new v(e,t)}if(m.PAREN.test(this["char"])){var n="",r=this["char"];switch(r){case"(":n=p.LPAREN;break;case")":n=p.RPAREN}return this.advance(),new v(n,r)}if(m.ALPHA.test(this["char"]))return this.name();this.error("Unexpected character "+this["char"])}return v.EOF}}]),e}(),I=function(){function e(t){(0,c["default"])(this,e),this.lexer=t,this.pos=0}return(0,i["default"])(e,[{key:"error",value:function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=this.lexer.text.slice(this.pos-3,this.pos+3),t=new Error("".concat(e,' in "').concat(this.lexer.text,'" near "').concat(r,'". ').concat(n," "));throw console.error(t.message,f?f.keyframe||f.target:""),t}},{key:"consume",value:function(e){var t=this.currentToken;return t.type===e?this.pos+=1:this.error("Invalid token ".concat(this.currentToken.value,", expected ").concat(e)),t}},{key:"consumeList",value:function(e){e.includes(this.currentToken)?this.pos+=1:this.error("Invalid token ".concat(this.currentToken.value,", expected ").concat(tokenType))}},{key:"expr",value:function(){for(var e=this.term();this.currentToken.type===p.PLUS||this.currentToken.type===p.MINUS;){var t=this.currentToken;switch(t.value){case"+":this.consume(p.PLUS);break;case"-":this.consume(p.MINUS)}e=new E(e,t,this.term())}return e}},{key:"term",value:function(){for(var e=this.factor();this.currentToken.type===p.MUL||this.currentToken.type===p.DIV;){var t=this.currentToken;switch(t.value){case"*":this.consume(p.MUL);break;case"/":this.consume(p.DIV)}e=new E(e,t,this.factor())}return e}},{key:"factor",value:function(){if(this.currentToken.type===p.PLUS)return new b(this.consume(p.PLUS),this.factor());if(this.currentToken.type===p.MINUS)return new b(this.consume(p.MINUS),this.factor());if(this.currentToken.type===p.INTEGER_CONST||this.currentToken.type===p.FLOAT_CONST){var e=new w(this.currentToken);if(this.pos+=1,m.OPERATOR.test(this.currentToken.value)||this.currentToken.type===p.RPAREN||this.currentToken.type===p.COMMA||this.currentToken.type===p.EOF)return e;if(this.currentToken.type===p.ALPHA&&this.currentToken.value===p.ANCHOR_CONST)return this.consume(p.ALPHA),new x(e,this.anchorIndex(),this.unit(m.ANY_UNIT));if(this.currentToken.type===p.ALPHA)return"%a"===this.currentToken.value&&this.error("%a is invalid, try removing the %"),
new x(e,null,this.unit());this.error("Expected a scaling unit type","Such as 'h' / 'w'")}else{if(m.OBJECT_UNIT.test(this.currentToken.value))return new x(new w(v.ONE),null,this.unit());if(this.currentToken.value===p.ANCHOR_CONST){this.consume(p.ALPHA);var t=this.anchorIndex();if(m.OBJECT_UNIT.test(this.currentToken.value))return new x(new w(v.ONE),t,this.unit())}else if(this.currentToken.type===p.ALPHA){if("css"===this.currentToken.value||"prop"===this.currentToken.value){var n="css"===this.currentToken.value?S:k;this.consume(p.ALPHA),this.consume(p.LPAREN);var r=this.propertyName(),i=null;return this.currentToken.type===p.COMMA&&(this.consume(p.COMMA),this.consume(p.ALPHA),i=this.anchorIndex()),this.consume(p.RPAREN),new n(i,r)}if(m.MATH_FUNCTION.test(this.currentToken.value)){var o=this.currentToken.value.toLowerCase();if("number"==typeof d[o])return this.consume(p.ALPHA),new w(new v(p.ALPHA,d[o]));var s=v[o]||new v(o,o),a=[];this.consume(p.ALPHA),this.consume(p.LPAREN);var c=null;do this.currentToken.value===p.COMMA&&this.consume(p.COMMA),c=this.expr(),a.push(c);while(this.currentToken.value===p.COMMA);return this.consume(p.RPAREN),new _(s,a)}}else if(this.currentToken.type===p.LPAREN){this.consume(p.LPAREN);var u=this.expr();return this.consume(p.RPAREN),u}}this.error("Unexpected token ".concat(this.currentToken.value))}},{key:"propertyName",value:function(){for(var e="";this.currentToken.type===p.ALPHA||this.currentToken.type===p.MINUS;)e+=this.currentToken.value,this.pos+=1;return e}},{key:"unit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.ANY_UNIT,t=this.currentToken;return t.type===p.ALPHA&&e.test(t.value)?(this.consume(p.ALPHA),new v(p.ALPHA,t.value=t.value.replace(/%(h|w)/,"$1").replace("%","h"))):void this.error("Expected unit type")}},{key:"anchorIndex",value:function(){var e=this.currentToken;return e.type===p.INTEGER_CONST?(this.consume(p.INTEGER_CONST),new w(e)):void this.error("Invalid anchor reference",". Should be something like a0, a1, a2")}},{key:"parse",value:function(){var e=this.expr();return this.currentToken!==v.EOF&&this.error("Unexpected token ".concat(this.currentToken.value)),e}},{key:"currentToken",get:function(){return this.lexer.tokens[this.pos]}}]),e}(),T=function(){function e(t){(0,c["default"])(this,e),this.parser=t,this.root=t.parse()}return(0,i["default"])(e,[{key:"visit",value:function(e){var t=this[e.type];if(!t)throw new Error("No visit method named, ".concat(t));var n=t.call(this,e);return n}},{key:"BinOp",value:function(e){switch(e.op.type){case p.PLUS:return this.visit(e.left)+this.visit(e.right);case p.MINUS:return this.visit(e.left)-this.visit(e.right);case p.MUL:return this.visit(e.left)*this.visit(e.right);case p.DIV:return this.visit(e.left)/this.visit(e.right)}}},{key:"RefValue",value:function(e){var t=this.unwrapReference(e),n=e.unit.value,r=e.num.value,i=f.metrics.get(t);switch(n){case"h":return.01*r*i.height;case"t":return.01*r*i.top;case"vh":return.01*r*u.pageMetrics.windowHeight;case"vw":return.01*r*u.pageMetrics.windowWidth;case"px":return r;case"w":return.01*r*i.width;case"b":return.01*r*i.bottom;case"l":return.01*r*i.left;case"r":return.01*r*i.right}}},{key:"PropValue",value:function(e){var t=null===e.ref?f.target:f.anchors[e.ref.value];return t[e.propertyName]}},{key:"CSSValue",value:function(t){var n=this.unwrapReference(t),r=getComputedStyle(n).getPropertyValue(t.propertyName);return""===r?0:e.Parse(r).execute(f)}},{key:"Num",value:function(e){return e.value}},{key:"UnaryOp",value:function(e){return e.op.type===p.PLUS?+this.visit(e.expr):e.op.type===p.MINUS?-this.visit(e.expr):void 0}},{key:"MathOp",value:function(e){var t=this,n=e.list.map(function(e){return t.visit(e)});return d[e.op.value].apply(null,n)}},{key:"unwrapReference",value:function(e){return null===e.ref?f.target:(e.ref.value>=f.anchors.length&&console.error("Not enough anchors supplied for expression ".concat(this.parser.lexer.text),f.target),f.anchors[e.ref.value])}},{key:"execute",value:function(e){return f=e,this.visit(this.root)}}],[{key:"Parse",value:function(t){return h[t]||(h[t]=new e(new I(new O(t))))}}]),e}();T.programs=h,t.exports=T},{153:153,231:231,72:72,74:74,76:76,77:77,78:78,84:84}],164:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=r(e(74)),s=r(e(84)),a=r(e(71)),c=r(e(76)),u=r(e(75)),l=r(e(77)),h=e(56).EventEmitterMicro,d=e(231),f=e(166),p=e(153),m=e(156),y=e(162),v=e(150),g={create:e(128),update:e(139),draw:e(135)},b=function(e){function t(e,n){var r;return(0,i["default"])(this,t),r=(0,s["default"])(this,(0,c["default"])(t).call(this)),r.anim=n,r.element=e,r.name=r.name||e.getAttribute("data-anim-scroll-group"),r.isEnabled=!0,r.position=new p.Progress,r.metrics=new m,r.metrics.add(r.element),r.expressionParser=new y((0,a["default"])(r)),r.boundsMin=0,r.boundsMax=0,r.timelineUpdateRequired=!1,r._keyframesDirty=!1,r.viewableRange=r.createViewableRange(),r.defaultEase=p.KeyframeDefaults.ease,r.keyframeControllers=[],r.updateProgress(r.getPosition()),r.onDOMRead=r.onDOMRead.bind((0,a["default"])(r)),r.onDOMWrite=r.onDOMWrite.bind((0,a["default"])(r)),r.gui=null,r.finalizeInit(),r}return(0,l["default"])(t,e),(0,o["default"])(t,[{key:"finalizeInit",value:function(){this.element._animInfo=new p.AnimInfo(this,null,(!0)),this.setupRAFEmitter()}},{key:"destroy",value:function(){this.expressionParser.destroy(),this.expressionParser=null;for(var e=0,n=this.keyframeControllers.length;e<n;e++)this.keyframeControllers[e].destroy();this.keyframeControllers=null,this.position=null,this.viewableRange=null,this.gui&&(this.gui.destroy(),this.gui=null),this.metrics.destroy(),this.metrics=null,this.rafEmitter.destroy(),this.rafEmitter=null,this.anim=null,this.element._animInfo&&this.element._animInfo.group===this&&(this.element._animInfo.group=null,this.element._animInfo=null),this.element=null,this.isEnabled=!1,(0,u["default"])((0,c["default"])(t.prototype),"destroy",this).call(this)}},{key:"removeKeyframeController",value:function(e){var t=this;return this.keyframeControllers.includes(e)?(e._allKeyframes.forEach(function(e){return e.markedForRemoval=!0}),this.keyframesDirty=!0,new Promise(function(n){g.draw(function(){var r=t.keyframeControllers.indexOf(e);return r===-1?void n():(t.keyframeControllers.splice(r,1),e.onDOMWrite(),e.destroy(),t.gui&&t.gui.create(),void n())})})):Promise.resolve()}},{key:"remove",value:function(){return this.anim.removeGroup(this)}},{key:"setupRAFEmitter",value:function(e){var t=this;this.rafEmitter&&this.rafEmitter.destroy(),this.rafEmitter=e||new g.create,this.rafEmitter.on("update",this.onDOMRead),this.rafEmitter.on("draw",this.onDOMWrite),this.rafEmitter.once("external",function(){return t.reconcile()})}},{key:"requestDOMChange",value:function(){return!!this.isEnabled&&this.rafEmitter.run()}},{key:"onDOMRead",value:function(){this.keyframesDirty&&this.onKeyframesDirty();for(var e=0,t=this.keyframeControllers.length;e<t;e++)this.keyframeControllers[e].onDOMRead(this.position.local)}},{key:"onDOMWrite",value:function(){for(var e=0,t=this.keyframeControllers.length;e<t;e++)this.keyframeControllers[e].onDOMWrite();this.needsUpdate()&&this.requestDOMChange()}},{key:"needsUpdate",value:function(){if(this._keyframesDirty)return!0;for(var e=0,t=this.keyframeControllers.length;e<t;e++)if(this.keyframeControllers[e].needsUpdate())return!0;return!1}},{key:"addKeyframe",value:function(e,t){var n=this.getControllerForTarget(e);return null===n&&(n=new v(this,e),this.keyframeControllers.push(n)),this.keyframesDirty=!0,n.addKeyframe(t)}},{key:"forceUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.waitForNextUpdate,n=void 0===t||t,r=e.silent,i=void 0!==r&&r;this.isEnabled&&(this.refreshMetrics(),this.timelineUpdateRequired=!0,n?this.keyframesDirty=!0:this.onKeyframesDirty({silent:i}))}},{key:"onKeyframesDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.silent,n=void 0!==t&&t;this.determineActiveKeyframes(),this.keyframesDirty=!1,this.metrics.refreshMetrics(this.element),this.viewableRange=this.createViewableRange();for(var r=0,i=this.keyframeControllers.length;r<i;r++)this.keyframeControllers[r].updateAnimationConstraints();this.updateBounds(),this.updateProgress(this.getPosition()),n||this._onScroll(),this.gui&&this.gui.create()}},{key:"refreshMetrics",value:function(){var e=new Set([this.element]);this.keyframeControllers.forEach(function(t){e.add(t.element),t._allKeyframes.forEach(function(t){return t.anchors.forEach(function(t){return e.add(t)})})}),this.metrics.refreshCollection(e),this.viewableRange=this.createViewableRange()}},{key:"reconcile",value:function(){for(var e=0,t=this.keyframeControllers.length;e<t;e++)this.keyframeControllers[e].reconcile()}},{key:"determineActiveKeyframes",value:function(e){e=e||f(Array.from(document.documentElement.classList));for(var t=0,n=this.keyframeControllers.length;t<n;t++)this.keyframeControllers[t].determineActiveKeyframes(e)}},{key:"updateBounds",value:function(){if(0===this.keyframeControllers.length)return this.boundsMin=0,void(this.boundsMax=0);for(var e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},t=0,n=this.keyframeControllers.length;t<n;t++)this.keyframeControllers[t].getBounds(e);var r=this.convertTValueToScrollPosition(e.min),i=this.convertTValueToScrollPosition(e.max);i-r<p.pageMetrics.windowHeight?(e.min=this.convertScrollPositionToTValue(r-.5*p.pageMetrics.windowHeight),e.max=this.convertScrollPositionToTValue(i+.5*p.pageMetrics.windowHeight)):(e.min-=.001,e.max+=.001),this.boundsMin=e.min,this.boundsMax=e.max,this.timelineUpdateRequired=!0}},{key:"createViewableRange",value:function(){return new p.ViewableRange(this.metrics.get(this.element),p.pageMetrics.windowHeight)}},{key:"_onBreakpointChange",value:function(e,t){this.keyframesDirty=!0,this.determineActiveKeyframes()}},{key:"updateProgress",value:function(e){return this.hasDuration()?(this.position.localUnclamped=(e-this.viewableRange.a)/(this.viewableRange.d-this.viewableRange.a),void(this.position.local=d.clamp(this.position.localUnclamped,this.boundsMin,this.boundsMax))):void(this.position.local=this.position.localUnclamped=0)}},{key:"performTimelineDispatch",value:function(){for(var e=0,t=this.keyframeControllers.length;e<t;e++)this.keyframeControllers[e].updateLocalProgress(this.position.local);this.trigger(p.EVENTS.ON_TIMELINE_UPDATE,this.position.local),this.timelineUpdateRequired=!1,this.position.lastPosition!==this.position.local&&(this.position.lastPosition<=this.boundsMin&&this.position.localUnclamped>this.boundsMin?this.trigger(p.EVENTS.ON_TIMELINE_START,this):this.position.lastPosition>=this.boundsMin&&this.position.localUnclamped<this.boundsMin?this.trigger(p.EVENTS.ON_TIMELINE_START+":reverse",this):this.position.lastPosition<=this.boundsMax&&this.position.localUnclamped>=this.boundsMax?this.trigger(p.EVENTS.ON_TIMELINE_COMPLETE,this):this.position.lastPosition>=this.boundsMax&&this.position.localUnclamped<this.boundsMax&&this.trigger(p.EVENTS.ON_TIMELINE_COMPLETE+":reverse",this)),null!==this.gui&&this.gui.onScrollUpdate(this.position)}},{key:"_onScroll",value:function(e){if(!this.isEnabled)return!1;void 0===e&&(e=this.getPosition()),this.updateProgress(e);var t=this.position.lastPosition===this.boundsMin||this.position.lastPosition===this.boundsMax,n=this.position.localUnclamped===this.boundsMin||this.position.localUnclamped===this.boundsMax;if(!this.timelineUpdateRequired&&t&&n&&this.position.lastPosition===e)return void(this.position.local=this.position.localUnclamped);if(this.timelineUpdateRequired||this.position.localUnclamped>this.boundsMin&&this.position.localUnclamped<this.boundsMax)return this.performTimelineDispatch(),this.requestDOMChange(),void(this.position.lastPosition=this.position.localUnclamped);var r=this.position.lastPosition>this.boundsMin&&this.position.lastPosition<this.boundsMax,i=this.position.localUnclamped<=this.boundsMin||this.position.localUnclamped>=this.boundsMax;if(r&&i)return this.performTimelineDispatch(),this.requestDOMChange(),void(this.position.lastPosition=this.position.localUnclamped);var o=this.position.lastPosition<this.boundsMin&&this.position.localUnclamped>this.boundsMax,s=this.position.lastPosition>this.boundsMax&&this.position.localUnclamped<this.boundsMax;(o||s)&&(this.performTimelineDispatch(),this.requestDOMChange(),this.position.lastPosition=this.position.localUnclamped),null!==this.gui&&this.gui.onScrollUpdate(this.position)}},{key:"convertScrollPositionToTValue",value:function(e){return this.hasDuration()?d.map(e,this.viewableRange.a,this.viewableRange.d,0,1):0}},{key:"convertTValueToScrollPosition",value:function(e){return this.hasDuration()?d.map(e,0,1,this.viewableRange.a,this.viewableRange.d):0}},{key:"hasDuration",value:function(){return this.viewableRange.a!==this.viewableRange.d}},{key:"getPosition",value:function(){return p.pageMetrics.scrollY}},{key:"getControllerForTarget",value:function(e){if(!e._animInfo||!e._animInfo.controllers)return null;if(e._animInfo.controller&&e._animInfo.controller.group===this)return e._animInfo.controller;for(var t=e._animInfo.controllers,n=0,r=t.length;n<r;n++)if(t[n].group===this)return t[n];return null}},{key:"trigger",value:function(e,t){if("undefined"!=typeof this._events[e])for(var n=this._events[e].length-1;n>=0;n--)void 0!==t?this._events[e][n](t):this._events[e][n]()}},{key:"keyframesDirty",set:function(e){this._keyframesDirty=e,this._keyframesDirty&&this.requestDOMChange()},get:function(){return this._keyframesDirty}}]),t}(h);t.exports=b},{128:128,135:135,139:139,150:150,153:153,156:156,162:162,166:166,231:231,56:56,71:71,72:72,74:74,75:75,76:76,77:77,78:78,84:84}],165:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=r(e(74)),s=r(e(84)),a=r(e(71)),c=r(e(76)),u=r(e(75)),l=r(e(77)),h=e(164),d=e(231),f=0,p={create:e(128)},m=function(e){function t(e,n){var r;return(0,i["default"])(this,t),e||(e=document.createElement("div"),e.className="TimeGroup-"+f++),r=(0,s["default"])(this,(0,c["default"])(t).call(this,e,n)),window.timeGroup=window.timeGroup||(0,a["default"])(r),r.name=r.name||e.getAttribute("data-anim-time-group"),r._isPaused=!0,r._repeats=0,r._isReversed=!1,r._timeScale=1,r}return(0,l["default"])(t,e),(0,o["default"])(t,[{key:"finalizeInit",value:function(){if(!this.anim)throw"TimeGroup not instantiated correctly. Please use `AnimSystem.createTimeGroup(el)`";this.defaultEase=1,this.onPlayTimeUpdate=this.onPlayTimeUpdate.bind(this),(0,u["default"])((0,c["default"])(t.prototype),"finalizeInit",this).call(this)}},{key:"progress",value:function(e){if(void 0===e)return 0===this.boundsMax?0:this.position.local/this.boundsMax;var t=e*this.boundsMax;this.timelineUpdateRequired=!0,this._onScroll(t)}},{key:"time",value:function(e){return void 0===e?this.position.local:(e=d.clamp(e,this.boundsMin,this.boundsMax),this.timelineUpdateRequired=!0,void this._onScroll(e))}},{key:"play",value:function(e){this.reversed(!1),this.isEnabled=!0,this._isPaused=!1,this.time(e),this._playheadEmitter.run()}},{key:"reverse",value:function(e){this.reversed(!0),this.isEnabled=!0,this._isPaused=!1,this.time(e),this._playheadEmitter.run()}},{key:"reversed",value:function(e){return void 0===e?this._isReversed:void(this._isReversed=e)}},{key:"restart",value:function(){this._isReversed?(this.progress(1),this.reverse(this.time())):(this.progress(0),this.play(this.time()))}},{key:"pause",value:function(e){this.time(e),this._isPaused=!0}},{key:"paused",value:function(e){return void 0===e?this._isPaused:(this._isPaused=e,this._isPaused||this.play(),this)}},{key:"onPlayTimeUpdate",value:function(e){if(!this._isPaused){var n=d.clamp(e.delta/1e3,0,.5);this._isReversed&&(n=-n);var r=this.time(),i=r+n*this._timeScale;if(this._repeats===t.REPEAT_FOREVER||this._repeats>0){var o=!1;!this._isReversed&&i>this.boundsMax?(i-=this.boundsMax,o=!0):this._isReversed&&i<0&&(i=this.boundsMax+i,o=!0),o&&(this._repeats=this._repeats===t.REPEAT_FOREVER?t.REPEAT_FOREVER:this._repeats-1)}this.time(i);var s=!this._isReversed&&this.position.local!==this.duration,a=this._isReversed&&0!==this.position.local;s||a?this._playheadEmitter.run():this.paused(!0)}}},{key:"updateProgress",value:function(e){return this.hasDuration()?(this.position.localUnclamped=e,void(this.position.local=d.clamp(this.position.localUnclamped,this.boundsMin,this.boundsMax))):void(this.position.local=this.position.localUnclamped=0)}},{key:"updateBounds",value:function(){if(0===this.keyframeControllers.length)return this.boundsMin=0,void(this.boundsMax=0);for(var e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},t=0,n=this.keyframeControllers.length;t<n;t++)this.keyframeControllers[t].getBounds(e);this.boundsMin=0,this.boundsMax=e.max,this.viewableRange.a=this.viewableRange.b=0,this.viewableRange.c=this.viewableRange.d=this.boundsMax,this.timelineUpdateRequired=!0}},{key:"setupRAFEmitter",value:function(e){this._playheadEmitter=new p.create,this._playheadEmitter.on("update",this.onPlayTimeUpdate),(0,u["default"])((0,c["default"])(t.prototype),"setupRAFEmitter",this).call(this,e)}},{key:"timeScale",value:function(e){return void 0===e?this._timeScale:(this._timeScale=e,this)}},{key:"repeats",value:function(e){return void 0===e?this._repeats:void(this._repeats=e)}},{key:"getPosition",value:function(){return this.position.local}},{key:"convertScrollPositionToTValue",value:function(e){return e}},{key:"convertTValueToScrollPosition",value:function(e){return e}},{key:"hasDuration",value:function(){return this.duration>0}},{key:"destroy",value:function(){this._playheadEmitter.destroy(),this._playheadEmitter=null,(0,u["default"])((0,c["default"])(t.prototype),"destroy",this).call(this)}},{key:"duration",get:function(){return this.keyframesDirty&&this.onKeyframesDirty({silent:!0}),this.boundsMax}}]),t}(h);m.REPEAT_FOREVER=-1,t.exports=m},{128:128,164:164,231:231,71:71,72:72,74:74,75:75,76:76,77:77,78:78,84:84}],166:[function(e,t,n){"use strict";var r=function(e){return e.reduce(function(e,t){return e[t]=t,e},{})};t.exports=r},{}],167:[function(e,t,n){"use strict";t.exports=function(e,t){if("string"!=typeof e)return e;try{return(t||document).querySelector(e)||document.querySelector(e)}catch(n){return!1}}},{}],168:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=r(e(74)),s=r(e(84)),a=r(e(76)),c=r(e(75)),u=r(e(77)),l=e(56).EventEmitterMicro,h=e(153),d={create:e(128),update:e(139),draw:e(135)},f=function(){},p=0,m=function(e){function t(e){var n;return(0,i["default"])(this,t),n=(0,s["default"])(this,(0,a["default"])(t).call(this)),n.el=e.el,n.gum=e.gum,n.componentName=e.componentName,n._keyframeController=null,n}return(0,u["default"])(t,e),(0,o["default"])(t,[{key:"destroy",value:function(){this.el=null,this.gum=null,this._keyframeController=null,(0,c["default"])((0,a["default"])(t.prototype),"destroy",this).call(this)}},{key:"addKeyframe",value:function(e){var t=e.el||this.el;return(e.group||this.anim).addKeyframe(t,e)}},{key:"addDiscreteEvent",value:function(e){e.event=e.event||"Generic-Event-Name-"+p++;var t=void 0!==e.end&&e.end!==e.start,n=this.addKeyframe(e);return t?(e.onEnterOnce&&n.controller.once(e.event+":enter",e.onEnterOnce),e.onExitOnce&&n.controller.once(e.event+":exit",e.onExitOnce),e.onEnter&&n.controller.on(e.event+":enter",e.onEnter),e.onExit&&n.controller.on(e.event+":exit",e.onExit)):(e.onEventOnce&&n.controller.once(e.event,e.onEventOnce),e.onEventReverseOnce&&n.controller.once(e.event+":reverse",e.onEventReverseOnce),e.onEvent&&n.controller.on(e.event,e.onEvent),e.onEventReverse&&n.controller.on(e.event+":reverse",e.onEventReverse)),n}},{key:"addRAFLoop",value:function(e){var t=["start","end"];if(!t.every(function(t){return e.hasOwnProperty(t)}))return void console.log("BubbleGum.BaseComponent::addRAFLoop required options are missing: "+t.join(" "));var n=new d.create;n.on("update",e.onUpdate||f),n.on("draw",e.onDraw||f),n.on("draw",function(){return n.run()});var r=e.onEnter,i=e.onExit;return e.onEnter=function(){n.run(),r?r():0},e.onExit=function(){n.cancel(),i?i():0},this.addDiscreteEvent(e)}},{key:"addContinuousEvent",value:function(e){e.onDraw||console.log("BubbleGum.BaseComponent::addContinuousEvent required option `onDraw` is missing. Consider using a regular keyframe if you do not need a callback"),e.event=e.event||"Generic-Event-Name-"+p++;var t=this.addKeyframe(e);return t.controller.on(e.event,e.onDraw),t}},{key:"mounted",value:function(){}},{key:"onResizeImmediate",value:function(e){}},{key:"onResizeDebounced",value:function(e){}},{key:"onBreakpointChange",value:function(e){}},{key:"anim",get:function(){return this.gum.anim}},{key:"keyframeController",get:function(){return this._keyframeController||(this._keyframeController=this.anim.getControllerForTarget(this.el))}},{key:"pageMetrics",get:function(){return h.pageMetrics}}]),t}(l);t.exports=m},{128:128,135:135,139:139,153:153,56:56,72:72,74:74,75:75,76:76,77:77,78:78,84:84}],169:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=r(e(74)),s=r(e(84)),a=r(e(76)),c=r(e(77)),u=e(56).EventEmitterMicro,l=e(183),h=e(147),d=e(153),f=e(170),p={},m=function(e){function t(e){var n;return(0,i["default"])(this,t),n=(0,s["default"])(this,(0,a["default"])(t).call(this)),n.el=e,n.anim=h,n.components=[],n.el.getAttribute("data-anim-scroll-group")||n.el.setAttribute("data-anim-scroll-group","bubble-gum-group"),h.on(d.EVENTS.ON_DOM_GROUPS_CREATED,function(e){n.componentsInitialized=!1,n.initComponents(),n.setupEvents()}),h.on(d.EVENTS.ON_DOM_KEYFRAMES_CREATED,function(){n.components.forEach(function(e){return e.mounted()}),n.trigger(t.EVENTS.DOM_COMPONENTS_MOUNTED)}),l.add(function(){return h.initialize()}),n}return(0,c["default"])(t,e),(0,o["default"])(t,[{key:"initComponents",value:function(){var e=Array.prototype.slice.call(this.el.querySelectorAll("[data-component-list]"));this.el.hasAttribute("data-component-list")&&e.push(this.el);for(var t=0;t<e.length;t++)for(var n=e[t],r=n.getAttribute("data-component-list"),i=r.split(" "),o=0,s=i.length;o<s;o++){var a=i[o];""!==a&&" "!==a&&this.addComponent({el:n,componentName:a})}this.componentsInitialized=!0}},{key:"setupEvents",value:function(){this.onResizeDebounced=this.onResizeDebounced.bind(this),this.onResizeImmediate=this.onResizeImmediate.bind(this),this.onBreakpointChange=this.onBreakpointChange.bind(this),h.on(d.PageEvents.ON_RESIZE_IMMEDIATE,this.onResizeImmediate),h.on(d.PageEvents.ON_RESIZE_DEBOUNCED,this.onResizeDebounced),h.on(d.PageEvents.ON_BREAKPOINT_CHANGE,this.onBreakpointChange)}},{key:"addComponent",value:function(e){var n=e.el,r=e.componentName,i=e.data;if(!f.hasOwnProperty(r))throw"BubbleGum::addComponent could not add component to '"+n.className+"'. No component type '"+r+"' found!";var o=f[r];if(!t.componentIsSupported(o,r))return void 0===p[r]&&(console.log("BubbleGum::addComponent unsupported component '"+r+"'. Reason: '"+r+".IS_SUPPORTED' returned false"),p[r]=!0),null;var s=n.dataset.componentList||"";s.includes(r)||(n.dataset.componentList=s.split(" ").concat(r).join(" "));var a=new o({el:n,data:i,componentName:e.componentName,gum:this,pageMetrics:d.pageMetrics});return this.components.push(a),this.componentsInitialized&&a.mounted(),a}},{key:"removeComponent",value:function(e){var t=this.components.indexOf(e);t!==-1&&(this.components.splice(t,1),e.el.dataset.componentList=e.el.dataset.componentList.split(" ").filter(function(t){return t!==e.componentName}).join(" "),e.destroy())}},{key:"getComponentOfType",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement,n="[data-component-list*="+e+"]",r=t.matches(n)?t:t.querySelector(n);return r?this.components.find(function(t){return t instanceof f[e]&&t.el===r}):null}},{key:"getComponentsOfType",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement,n="[data-component-list*="+e+"]",r=t.matches(n)?[t]:Array.from(t.querySelectorAll(n));return this.components.filter(function(t){return t instanceof f[e]&&r.includes(t.el)})}},{key:"getComponentsForElement",value:function(e){return this.components.filter(function(t){return t.el===e})}},{key:"onResizeImmediate",value:function(){this.components.forEach(function(e){return e.onResizeImmediate(d.pageMetrics)})}},{key:"onResizeDebounced",value:function(){this.components.forEach(function(e){return e.onResizeDebounced(d.pageMetrics)})}},{key:"onBreakpointChange",value:function(){this.components.forEach(function(e){return e.onBreakpointChange(d.pageMetrics)})}}],[{key:"componentIsSupported",value:function(e,t){var n=e.IS_SUPPORTED;if(void 0===n)return!0;if("function"!=typeof n)return console.error('BubbleGum::addComponent error in "'+t+'".IS_SUPPORTED - it should be a function which returns true/false'),!0;var r=e.IS_SUPPORTED();return void 0===r?(console.error('BubbleGum::addComponent error in "'+t+'".IS_SUPPORTED - it should be a function which returns true/false'),!0):r}}]),t}(u);m.EVENTS={DOM_COMPONENTS_MOUNTED:"DOM_COMPONENTS_MOUNTED"},t.exports=m},{147:147,153:153,170:170,183:183,56:56,72:72,74:74,76:76,77:77,78:78,84:84}],170:[function(e,t,n){"use strict";t.exports={BaseComponent:e(168)}},{168:168}],171:[function(e,t,n){"use strict";function r(e){e=e||{},o.call(this),this.id=a.getNewID(),this.executor=e.executor||s,this._reset(),this._willRun=!1,this._didDestroy=!1}var i,o=e(56).EventEmitterMicro,s=e(141),a=e(126);i=r.prototype=Object.create(o.prototype),i.run=function(){return this._willRun||(this._willRun=!0),this._subscribe()},i.cancel=function(){this._unsubscribe(),this._willRun&&(this._willRun=!1),this._reset()},i.destroy=function(){var e=this.willRun();return this.cancel(),this.executor=null,o.prototype.destroy.call(this),this._didDestroy=!0,e},i.willRun=function(){return this._willRun},i.isRunning=function(){return this._isRunning},i._subscribe=function(){return this.executor.subscribe(this)},i._unsubscribe=function(){return this.executor.unsubscribe(this)},i._onAnimationFrameStart=function(e){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",e))},i._onAnimationFrameEnd=function(e){this._willRun||(this.trigger("stop",e),this._reset())},i._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},t.exports=r},{126:126,141:141,56:56}],172:[function(e,t,n){"use strict";var r=e(174),i=function(e){this.rafEmitter=new r,this.rafEmitter.on(e,this._onRAFExecuted.bind(this)),this.requestAnimationFrame=this.requestAnimationFrame.bind(this),this.cancelAnimationFrame=this.cancelAnimationFrame.bind(this),this._frameCallbacks=[],this._nextFrameCallbacks=[],this._currentFrameID=-1,this._cancelFrameIdx=-1,this._frameCallbackLength=0,this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0},o=i.prototype;o.requestAnimationFrame=function(e){return this._currentFrameID=this.rafEmitter.run(),this._nextFrameCallbacks.push(this._currentFrameID,e),this._nextFrameCallbacksLength+=2,this._currentFrameID},o.cancelAnimationFrame=function(e){this._cancelFrameIdx=this._nextFrameCallbacks.indexOf(e),this._cancelFrameIdx!==-1&&(this._nextFrameCallbacks.splice(this._cancelFrameIdx,2),this._nextFrameCallbacksLength-=2,0===this._nextFrameCallbacksLength&&this.rafEmitter.cancel())},o._onRAFExecuted=function(e){for(this._frameCallbacks=this._nextFrameCallbacks,this._frameCallbackLength=this._nextFrameCallbacksLength,this._nextFrameCallbacks=[],this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0;this._frameCallbackIteration<this._frameCallbackLength;this._frameCallbackIteration+=2)this._frameCallbacks[this._frameCallbackIteration+1](e.time,e)},t.exports=i},{174:174}],173:[function(e,t,n){"use strict";var r=e(172),i=function(){this.events={}},o=i.prototype;o.requestAnimationFrame=function(e){return this.events[e]||(this.events[e]=new r(e)),this.events[e].requestAnimationFrame},o.cancelAnimationFrame=function(e){return this.events[e]||(this.events[e]=new r(e)),this.events[e].cancelAnimationFrame},t.exports=new i},{172:172}],174:[function(e,t,n){"use strict";var r=e(171),i=function(e){r.call(this,e)},o=i.prototype=Object.create(r.prototype);o._subscribe=function(){return this.executor.subscribe(this,!0)},t.exports=i},{171:171}],175:[function(e,t,n){"use strict";var r=e(173);t.exports=r.requestAnimationFrame("draw")},{173:173}],176:[function(e,t,n){"use strict";var r=e(173);t.exports=r.requestAnimationFrame("update")},{173:173}],177:[function(e,t,n){"use strict";var r=e(78),i=r(e(73)),o=r(e(72)),s=r(e(74)),a=e(176),c=e(175),u=e(178),l=e(180),h=e(181),d=e(179),f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,o["default"])(this,e),"number"!=typeof t||!isFinite(t))throw new TypeError('Clip duration must be a finite number; got "'.concat(t,'"'));"function"==typeof n&&(n={draw:n}),this.ease=l(n.ease),this.update=l(n.update),this.draw=n.draw,this.prepare=l(n.prepare),this.finish=l(n.finish),this._duration=1e3*t,this._startTime=null,this._isPrepared=!1,this._promise=null,this._isPlaying=!1}return(0,s["default"])(e,[{key:"_run",value:function(e,t){var n=this;this.lastFrameTime=Date.now(),null===this._startTime&&(this._startTime=this.lastFrameTime);var r=this.easedProgress;this.update&&a(function(){return n._isPlaying&&n.update(r)}),c(function(){n._isPlaying&&(n.draw(r),n.isComplete?h(c,[n.finish,t]):n._run(n,t))})}},{key:"play",value:function(){var e=this;if("function"!=typeof this.draw)throw new Error('Clip must be given a "draw" function as an option or have its "draw" method overriden.');return this._isPlaying=!0,this._promise?this._promise:(this._promise=new Promise(function(t,n){!e._isPrepared&&e.prepare?(e._isPrepared=!0,c(function(){return u(e.prepare(),function(){e._run(e,t)})})):e._run(e,t)}),this._promise)}},{key:"destroy",value:function(){this._isPlaying=!1,this.draw=this.finish=this.update=null}},{key:"isReversed",get:function(){return this._duration<0}},{key:"isComplete",get:function(){var e=this.progress;return!this.isReversed&&e>=1||this.isReversed&&e<=0}},{key:"progress",get:function(){if(0===this._duration)return 1;var e=(this.lastFrameTime-this._startTime)/this._duration;return this.isReversed&&(e=1+e),d(e,0,1)}},{key:"easedProgress",get:function(){return this.ease?this.ease(this.progress):this.progress}}],[{key:"play",value:function(){return(0,i["default"])(this,Array.prototype.slice.call(arguments)).play()}}]),e}();t.exports=f},{175:175,176:176,178:178,179:179,180:180,181:181,72:72,73:73,74:74,78:78}],178:[function(e,t,n){"use strict";t.exports=function(e,t){e instanceof Promise?e.then(t):t()}},{}],179:[function(e,t,n){"use strict";t.exports=function(e,t,n){return Math.min(Math.max(e,t),n)}},{}],180:[function(e,t,n){"use strict";t.exports=function(e){return"function"==typeof e?e:null}},{}],181:[function(e,t,n){"use strict";t.exports=function(e,t){function n(){var o=t[i];"function"==typeof o&&e(t[i]),i++,i<r&&n()}var r=t.length,i=0;n()}},{}],182:[function(e,t,n){"use strict";var r={create:e(236),invert:e(237),clone:e(235),transpose:e(242)},i={create:e(245),dot:e(247),normalize:e(250),length:e(249),cross:e(246),fromValues:e(248)},o={create:e(251),transformMat4:e(253),fromValues:e(252)},s=(Math.PI/180,180/Math.PI),a=0,c=1,u=3,l=4,h=5,d=7,f=11,p=12,m=13,y=15,v=function(e,t){t=t||!1;for(var n=r.clone(e),a=i.create(),c=i.create(),l=i.create(),h=o.create(),p=o.create(),m=(i.create(),0);m<16;m++)n[m]/=n[y];var v=r.clone(n);v[u]=0,v[d]=0,v[f]=0,v[y]=1;var _=(n[3],n[7],n[11],n[12]),w=n[13],x=n[14],S=(n[15],o.create());if(E(n[u])&&E(n[d])&&E(n[f]))h=o.fromValues(0,0,0,1);else{S[0]=n[u],S[1]=n[d],S[2]=n[f],S[3]=n[y];var k=r.invert(r.create(),v),O=r.transpose(r.create(),k);h=o.transformMat4(h,S,O)}a[0]=_,a[1]=w,a[2]=x;var I=[i.create(),i.create(),i.create()];I[0][0]=n[0],I[0][1]=n[1],I[0][2]=n[2],I[1][0]=n[4],I[1][1]=n[5],I[1][2]=n[6],I[2][0]=n[8],I[2][1]=n[9],I[2][2]=n[10],c[0]=i.length(I[0]),i.normalize(I[0],I[0]),l[0]=i.dot(I[0],I[1]),
I[1]=g(I[1],I[0],1,-l[0]),c[1]=i.length(I[1]),i.normalize(I[1],I[1]),l[0]/=c[1],l[1]=i.dot(I[0],I[2]),I[2]=g(I[2],I[0],1,-l[1]),l[2]=i.dot(I[1],I[2]),I[2]=g(I[2],I[1],1,-l[2]),c[2]=i.length(I[2]),i.normalize(I[2],I[2]),l[1]/=c[2],l[2]/=c[2];var T=i.cross(i.create(),I[1],I[2]);if(i.dot(I[0],T)<0)for(m=0;m<3;m++)c[m]*=-1,I[m][0]*=-1,I[m][1]*=-1,I[m][2]*=-1;p[0]=.5*Math.sqrt(Math.max(1+I[0][0]-I[1][1]-I[2][2],0)),p[1]=.5*Math.sqrt(Math.max(1-I[0][0]+I[1][1]-I[2][2],0)),p[2]=.5*Math.sqrt(Math.max(1-I[0][0]-I[1][1]+I[2][2],0)),p[3]=.5*Math.sqrt(Math.max(1+I[0][0]+I[1][1]+I[2][2],0)),I[2][1]>I[1][2]&&(p[0]=-p[0]),I[0][2]>I[2][0]&&(p[1]=-p[1]),I[1][0]>I[0][1]&&(p[2]=-p[2]);var A=o.fromValues(p[0],p[1],p[2],2*Math.acos(p[3])),C=b(p);return t&&(l[0]=Math.round(l[0]*s*100)/100,l[1]=Math.round(l[1]*s*100)/100,l[2]=Math.round(l[2]*s*100)/100,C[0]=Math.round(C[0]*s*100)/100,C[1]=Math.round(C[1]*s*100)/100,C[2]=Math.round(C[2]*s*100)/100,A[3]=Math.round(A[3]*s*100)/100),{translation:a,scale:c,skew:l,perspective:h,quaternion:p,eulerRotation:C,axisAngle:A}},g=function(e,t,n,r){var o=i.create();return o[0]=n*e[0]+r*t[0],o[1]=n*e[1]+r*t[1],o[2]=n*e[2]+r*t[2],o},b=function(e){var t,n,r,o=e[3]*e[3],s=e[0]*e[0],a=e[1]*e[1],c=e[2]*e[2],u=s+a+c+o,l=e[0]*e[1]+e[2]*e[3];return l>.499*u?(n=2*Math.atan2(e[0],e[3]),r=Math.PI/2,t=0,i.fromValues(t,n,r)):l<-.499*u?(n=-2*Math.atan2(e[0],e[3]),r=-Math.PI/2,t=0,i.fromValues(t,n,r)):(n=Math.atan2(2*e[1]*e[3]-2*e[0]*e[2],s-a-c+o),r=Math.asin(2*l/u),t=Math.atan2(2*e[0]*e[3]-2*e[1]*e[2],-s+a-c+o),i.fromValues(t,n,r))},E=function(e){return Math.abs(e)<1e-4},_=function(e){var t=String(getComputedStyle(e).transform).trim(),n=r.create();if("none"===t||""===t)return n;var i,o,s=t.slice(0,t.indexOf("("));if("matrix3d"===s)for(i=t.slice(9,-1).split(","),o=0;o<i.length;o++)n[o]=parseFloat(i[o]);else{if("matrix"!==s)throw new TypeError("Invalid Matrix Value");for(i=t.slice(7,-1).split(","),o=i.length;o--;)i[o]=parseFloat(i[o]);n[a]=i[0],n[c]=i[1],n[p]=i[4],n[l]=i[2],n[h]=i[3],n[m]=i[5]}return n};t.exports=function(e,t){var n=_(e);return v(n,t)}},{235:235,236:236,237:237,242:242,245:245,246:246,247:247,248:248,249:249,250:250,251:251,252:252,253:253}],183:[function(e,t,n){"use strict";var r=!1,i=!1,o=[];t.exports={NUMBER_OF_FRAMES_TO_WAIT:30,add:function(e){var t=this;if(i&&e(),o.push(e),!r){r=!0;var n=document.documentElement.scrollHeight,s=0,a=function c(){var e=document.documentElement.scrollHeight;if(n!==e)s=0;else if(s++,s>=t.NUMBER_OF_FRAMES_TO_WAIT)return void o.forEach(function(e){return e()});n=e,requestAnimationFrame(c)};requestAnimationFrame(a)}}}},{}],184:[function(e,t,n){"use strict";var r=e(55),i=e(185),o=e(53).ELEMENT;t.exports=function(e,t,n,s){if(i.childNode(e,"ancestors"),i.selector(t,"ancestors"),n&&r(e,o)&&(!t||e.matches(t)))return e;if(s=s||document.body,e!==s)for(;(e=e.parentNode)&&r(e,o);){if(!t||e.matches(t))return e;if(e===s)break}return null}},{185:185,53:53,55:55}],185:[function(e,t,n){"use strict";var r=e(55),i=e(53),o=i.COMMENT,s=i.DOCUMENT_FRAGMENT,a=i.DOCUMENT,c=i.ELEMENT,u=i.TEXT,l=[c,a,s],h=" must be an Element, Document, or Document Fragment",d=[c,u,o],f=" must be an Element, TextNode, or Comment",p=" must be a string";t.exports={parentNode:function(e,t){if(!e||!r(e,l))throw new TypeError(t+": node"+h)},childNode:function(e,t){if(!e||!r(e,d))throw new TypeError(t+": node"+f)},selector:function(e,t,n){if(n="boolean"==typeof n&&n,(e||n)&&"string"!=typeof e)throw new TypeError(t+": selector"+p)}}},{53:53,55:55}],186:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=r(e(84)),s=r(e(76)),a=r(e(71)),c=r(e(77)),u=e(57),l=e(189),h=e(195),d=e(192),f=e(197),p=e(202),m=e(191),y=e(196),v=e(198),g=["beforeCreate","created","beforeMount","createItems","itemsCreated","mounted","animateToItem","onItemChangeInitiated","onItemChangeOccurred","onItemChangeCompleted","onResizeImmediate","onBreakpointChange","onResizeDebounced","destroy"],b=function(e){function t(e){var n;return(0,i["default"])(this,t),n=(0,o["default"])(this,(0,s["default"])(t).call(this,e)),n.el=e.el,n.model=Object.assign({options:e},JSON.parse(JSON.stringify(l))),n.model.Item.ConstructorFunction=l.Item.ConstructorFunction,n._items=[],n.currentIndex=0,g.forEach(function(e){n[e]=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];n["__".concat(e)]&&n["__".concat(e)].forEach(function(e){return e.apply((0,a["default"])(n),r)})}}),n.on(l.Events.ITEM_CHANGE_INITIATED,n.onItemChangeInitiated),n.on(l.Events.ITEM_CHANGE_OCCURRED,n.onItemChangeOccurred),n.on(l.Events.ITEM_CHANGE_COMPLETED,n.onItemChangeCompleted),["beforeCreate","created","beforeMount","createItems"].forEach(function(t){return n[t](e)}),n}return(0,c["default"])(t,e),t}(u);b.withMixins=function(){for(var e=function(e){function t(){return(0,i["default"])(this,t),(0,o["default"])(this,(0,s["default"])(t).apply(this,arguments))}return(0,c["default"])(t,e),t}(b),t=e.prototype,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return r.unshift(h,p,f),r.push(m,v,d,y),r.forEach(function(e){for(var n in e)g.includes(n)?(t["__".concat(n)]=t["__".concat(n)]||[],t["__".concat(n)].push(e[n])):t[n]=e[n]}),e},t.exports=b},{189:189,191:191,192:192,195:195,196:196,197:197,198:198,202:202,57:57,71:71,72:72,76:76,77:77,78:78,84:84}],187:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=r(e(74)),s=r(e(84)),a=r(e(76)),c=r(e(71)),u=r(e(77)),l=e(56).EventEmitterMicro,h={draw:e(135),cancelDraw:e(133)},d=function(e){function t(e){var n;return(0,i["default"])(this,t),n=(0,s["default"])(this,(0,a["default"])(t).call(this)),n._x=0,n._y=0,n._opacity=0,n._width=0,n._height=0,n._zIndex=0,n.index=e.index,n.el=e.el,n.applyDraw=n.applyDraw.bind((0,c["default"])(n)),n.measure(),n}return(0,u["default"])(t,e),(0,o["default"])(t,[{key:"measure",value:function(){var e=getComputedStyle(this.el);this._width=this.el.clientWidth,this._height=this.el.clientHeight,this._zIndex=parseInt(e.getPropertyValue("z-index")),this._opacity=parseFloat(e.getPropertyValue("opacity"))}},{key:"select",value:function(){this.el.classList.add("current"),this.trigger("select",this)}},{key:"deselect",value:function(){this.el.classList.remove("current"),this.trigger("deselect",this)}},{key:"progress",value:function(e){}},{key:"needsRedraw",value:function(){h.cancelDraw(this._rafID),this._rafID=h.draw(this.applyDraw,!0)}},{key:"applyDraw",value:function(){this.el.style.zIndex=this._zIndex,this.el.style.opacity=this._opacity,this.el.style.transform="translate(".concat(this._x,"px, ").concat(this._y,"px)")}},{key:"id",get:function(){return this.el.id}},{key:"height",get:function(){return this._height},set:function(e){this._height=e,this.needsRedraw()}},{key:"width",get:function(){return this._width},set:function(e){this._width=e,this.needsRedraw()}},{key:"x",get:function(){return this._x},set:function(e){this._x=e,this.needsRedraw()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this.needsRedraw()}},{key:"opacity",get:function(){return this._opacity},set:function(e){this._opacity=e,this.needsRedraw()}},{key:"zIndex",get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.needsRedraw()}}]),t}(l);t.exports=d},{133:133,135:135,56:56,71:71,72:72,74:74,76:76,77:77,78:78,84:84}],188:[function(e,t,n){"use strict";var r=e(135),i=function(){return"mixin_mask_"+Math.random().toString(16).slice(2)};t.exports={combine:function(e){var t=i(),n={beforeCreate:function(){this[t]=o(this.model.pageMetrics.breakpoint),s(this,"beforeCreate")},onBreakpointChange:function(e){var n=this,i=o(e.breakpoint);i!==this[t]&&(s(this,"destroy"),this[t]=i,r(function(){s(n,"beforeCreate",n.model.options),s(n,"created",n.model.options),s(n,"beforeMount",n.model.options),s(n,"itemsCreated"),s(n,"mounted")},!0))},destroy:function(){s(this,"destroy"),this[t]=null}},o=function(t){var n=e.find(function(e){return e.breakpointMask.includes(t)});if(!n)throw"Cannot find mode for current breakpoint ".concat(t,". Current Settings ").concat(e);return n.mixin},s=function(e,n){if(e[t][n]){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return e[t][n].apply(e,i)}};return e.forEach(function(e){e.mixin||(e.mixin={}),Object.keys(e.mixin).forEach(function(e){return n[e]=n[e]||function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return s.apply(void 0,[this,e].concat(n))}})}),n}}},{135:135}],189:[function(e,t,n){"use strict";t.exports={PrefersReducedMotion:!1,IsRTL:!1,IsTouch:!1,Slide:{Selector:".slide-container"},Item:{Selector:".gallery-item",ConstructorFunction:e(187)},DotNav:{Selector:".dotnav"},PaddleNav:{Selector:".paddlenav"},ChapterPlayer:{defaultEase:function(e){return e}},FadeCaptionOnChange:{ItemSelector:".captions-gallery [data-captions-gallery-item]"},TabNav:{ItemSelector:".tabnav-items .tabnav-item",RoamingTabIndexSelector:"a"},SwipeDrag:{DesktopSwipe:!1,movementRateMultiplier:1.5,velocityMultiplier:8},Events:{ITEM_CHANGE_INITIATED:"ITEM_CHANGE_INITIATED",ITEM_CHANGE_OCCURRED:"ITEM_CHANGE_OCCURRED",ITEM_CHANGE_COMPLETED:"ITEM_CHANGE_COMPLETED"}}},{187:187}],190:[function(e,t,n){"use strict";var r;try{r=e("@marcom/ac-analytics").observer.Gallery}catch(i){}t.exports={created:function(e){this.analytics={lastTrackedItem:null,observer:null,events:{UPDATE:"update",UPDATE_COMPLETE:"update:complete"}}},mounted:function(){if(r){var e=this.el.getAttribute("id");e||(console.warn("No ID attribute found on the Mixin Gallery element - please add an ID",this),e="null"),this.analytics.observer=new r(this,{galleryName:e,beforeUpdateEvent:this.analytics.events.UPDATE,afterUpdateEvent:this.analytics.events.UPDATE_COMPLETE,trackAutoRotate:!0})}},onItemChangeCompleted:function(e){if(e.previous&&e.current!==this.analytics.lastTrackedItem&&(e.current!==e.previous||this.analytics.lastTrackedItem)){this.analytics.lastTrackedItem=e.current;var t={incoming:{id:e.current.id},outgoing:{id:e.previous.id},interactionEvent:this.lastInteractionEvent};this.trigger(this.analytics.events.UPDATE_COMPLETE,t)}}}},{undefined:void 0}],191:[function(e,t,n){"use strict";t.exports={createItems:function(e){var t=this;if(this._items.length)return void this.itemsCreated();if(!this.model.Item.ConstructorFunction)throw new ReferenceError("MixinGallery::AutoCreateItems - this.model.Item.ConstructorFunction is null");if(0===this._items.length){this._items=[],Array.from(this.el.querySelectorAll(this.model.Item.Selector)).forEach(function(e,n){var r=new t.model.Item.ConstructorFunction({el:e,index:n});t._items.push(r)});for(var n=this._items[this._items.length-1],r=0;r<this._items.length;r++){var i=this._items[r];i.prev=n,i.next=this._items[r+1],n=i}n.next=this._items[0]}this.itemsCreated()}}},{}],192:[function(e,t,n){"use strict";t.exports={itemsCreated:function(e){var t=this;this.model.options.gum||this._isVue||(this.anim.on("ON_RESIZE_IMMEDIATE",function(e){return t.onResizeImmediate(e)}),this.anim.on("ON_RESIZE_DEBOUNCED",function(e){return t.onResizeDebounced(e)}),this.anim.on("ON_BREAKPOINT_CHANGE",function(e){return t.onBreakpointChange(e)}),requestAnimationFrame(this.mounted))}}},{}],193:[function(e,t,n){"use strict";t.exports={beforeCreate:function(){this.clampedIndex=!0},wrappedIndex:function(e){return Math.max(0,Math.min(e,this._items.length-1))}}},{}],194:[function(e,t,n){"use strict";var r=e(3),i=e(14),o=e(17);t.exports={created:function(){this.dotNav={navElement:null,current:null,roamingTabIndex:null,items:[],onRoamingTabIndexSelect:function(e){var t=this.dotNav.items.filter(function(t){return t===e.el});if(0===t.length)throw"Could not find tab nav item"}},this.dotNav.onRoamingTabIndexSelect=this.dotNav.onRoamingTabIndexSelect.bind(this)},itemsCreated:function(){var e=this;this.dotNav.navElement=this.el.querySelector(this.model.DotNav.Selector),this._items.forEach(function(t,n){var r=e.dotNav.navElement.querySelector("a[data-ac-gallery-trigger=".concat(t.id,"]"));r.setAttribute("role",o.TAB),r.setAttribute(i.CONTROLS,t.id),r.setAttribute(i.SELECTED,!1),t.on("select",function(){r.classList.add("current"),r.parentElement.classList.add("current"),r.setAttribute(i.SELECTED,!0)}),t.on("deselect",function(){r.classList.remove("current"),r.parentElement.classList.remove("current"),r.setAttribute(i.SELECTED,!1)}),r.parentElement.addEventListener("click",function(n){n.preventDefault(),e.lastInteractionEvent=n;var r=e.currentIndex+(t.index-e.wrappedIndex(e.currentIndex));e.animateToItem(r)}),e.dotNav.items.push(r),t.el.setAttribute("role",o.TABPANEL),t.el.setAttribute(i.LABELLEDBY,e.dotNav.items[n].id)})},mounted:function(){this.dotNav.roamingTabIndex=new r(this.dotNav.navElement,{selector:"a"}),this.dotNav.roamingTabIndex.start(),this.dotNav.roamingTabIndex.on("onSelect",this.dotNav.onRoamingTabIndexSelect)},onItemChangeCompleted:function(e){var t=this.dotNav.items.filter(function(t){return t.getAttribute("data-ac-gallery-trigger")===e.current.id})[0];this.setCurrentItem(t),this.dotNav.roamingTabIndex.setSelectedItemByIndex(this.wrappedIndex(this.currentIndex),!0)},setCurrentItem:function(e){e!==this.dotNav.current&&(this.dotNav.current=e)}}},{14:14,17:17,3:3}],195:[function(e,t,n){"use strict";t.exports={beforeCreate:function(){var e=this;Object.defineProperties(this,{currentItem:{configurable:!0,get:function(){return e._items[e.wrappedIndex(e.currentIndex)]}}})},wrappedIndex:function(e){return e%=this._items.length,e<0?this._items.length+e:e},getItemForTrigger:function(e){return this._items.find(function(t){return t.id===e})}}},{}],196:[function(e,t,n){"use strict";t.exports={mounted:function(){var e=this._items[this.wrappedIndex(this.currentIndex)],t=this;this.trigger(this.model.Events.ITEM_CHANGE_INITIATED,{gallery:t,next:e}),this.trigger(this.model.Events.ITEM_CHANGE_OCCURRED,{gallery:t,current:e}),this.trigger(this.model.Events.ITEM_CHANGE_COMPLETED,{gallery:t,current:e})}}},{}],197:[function(e,t,n){"use strict";t.exports={beforeCreate:function(){document.body._animInfo&&(this.anim=document.body._animInfo.group.anim,this.model.pageMetrics=this.anim.model.pageMetrics)},addKeyframe:function(e){var t=e.el||this.el;return(e.group||this.anim).addKeyframe(t,e)},addDiscreteEvent:function(e){e.event=e.event||"Generic-Event-Name-"+tmpUUID++;var t=void 0!==e.end&&e.end!==e.start,n=this.addKeyframe(e);return t?(e.onEnterOnce&&n.controller.once(e.event+":enter",e.onEnterOnce),e.onExitOnce&&n.controller.once(e.event+":exit",e.onExitOnce),e.onEnter&&n.controller.on(e.event+":enter",e.onEnter),e.onExit&&n.controller.on(e.event+":exit",e.onExit)):(e.onEventOnce&&n.controller.once(e.event,e.onEventOnce),e.onEventReverseOnce&&n.controller.once(e.event+":reverse",e.onEventReverseOnce),e.onEvent&&n.controller.on(e.event,e.onEvent),e.onEventReverse&&n.controller.on(e.event+":reverse",e.onEventReverse)),n},addRAFLoop:function(e){var t=["start","end"];if(!t.every(function(t){return e.hasOwnProperty(t)}))return void console.log("BubbleGum.BaseComponent::addRAFLoop required options are missing: "+t.join(" "));var n=new RAFEmitter.create;n.on("update",e.onUpdate||noop),n.on("draw",e.onDraw||noop),n.on("draw",function(){return n.run()});var r=e.onEnter,i=e.onExit;return e.onEnter=function(){n.run(),r?r():0},e.onExit=function(){n.cancel(),i?i():0},this.addDiscreteEvent(e)},addContinuousEvent:function(e){e.onDraw||console.log("BubbleGum.BaseComponent::addContinuousEvent required option `onDraw` is missing. Consider using a regular keyframe if you do not need a callback"),e.event=e.event||"Generic-Event-Name-"+tmpUUID++;var t=this.addKeyframe(e);return t.controller.on(e.event,e.onDraw),t}}},{}],198:[function(e,t,n){"use strict";var r=e(8),i=e(12);t.exports={itemsCreated:function(e){var t=this;this._items.forEach(function(e,n){n===t.wrappedIndex(t.currentIndex)?i(e.el):r(e.el)})},onItemChangeCompleted:function(e){var t=this.selections.completed,n=t.previous,o=t.current;n&&n!==o&&r(n.el),i(o.el)}}},{12:12,8:8}],199:[function(e,t,n){"use strict";var r=e(177),i=e(161),o=e(139),s=e(135),a=e(133);t.exports={beforeCreate:function(){var e=this;Object.defineProperties(this,{widthOfItem:{configurable:!0,get:function(){return e._items[0].width}}})},created:function(e){this.position=0,this.target=0,this.slideContainer=this.el.querySelector(this.model.Slide.Selector)},mounted:function(){var e=this;o(function(){e._items.forEach(function(e){e.measure(),e.x=e.width*e.index}),s(function(){e.position=e.target=e.convertSlideIndexToHorizontalPosition(e.wrappedIndex(e.currentIndex)),e.slideContainer.style.transform="translate3d(".concat(-e.position,"px, 0,0)"),e.checkForSlideUpdate(!0)})})},animateToItem:function(e){var t=this,n=this.wrappedIndex(e);if(this.currentIndex!==n){this.el.parentElement.scrollLeft=0;var o="cubic-bezier(0.645, 0.045, 0.355, 1)";this.clip&&this.clip._isPlaying&&(this.clip.destroy(),o="cubic-bezier(0.23, 1, 0.32, 1)");var s=this.target,a=this.convertSlideIndexToHorizontalPosition(e),c=this.model.PrefersReducedMotion?.001:1,u=this._items[this.wrappedIndex(e)];this.clip=new r(c,{ease:i.fromCSSString(o),prepare:function(){return t.trigger(t.model.Events.ITEM_CHANGE_INITIATED,{gallery:t,next:u})},update:function(e){e=Math.min(1,Math.max(e,0)),t.target=s+(a-s)*e},draw:function(){return t.draw(1)},finish:function(){return t.trigger(t.model.Events.ITEM_CHANGE_COMPLETED,{gallery:t,current:u})}}),this.slideContainer.style.transition="transform ".concat(c,"s ").concat(o),this.slideContainer.style.transform="translate3d(".concat(-a,"px, 0,0)"),this.clip.play().then(function(){t.clip.destroy(),t.clip=null})}},draw:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=this.target-this.position;this.position+=n*t;var r=Math.abs(this.position-this.target);r<.1&&(this.position=this.target),this.checkForSlideUpdate(),1!==t&&(this.slideContainer.style.transition="transform 0.1s cubic-bezier(0.23, 1, 0.32, 1)",this.slideContainer.style.transform="translate(".concat(-this.position,"px, 0)"),Math.abs(r)>0&&(a(this.dragDrawId),s(function(){return e.draw(t)}))),this._items.forEach(function(t){var n=e.position-t.x,r=n/e.widthOfItem;t._progress=r,t.progress(r)})},checkForSlideUpdate:function(e){var t=Math.floor((this.position+.5*this.widthOfItem)/this.widthOfItem);(t!==this.currentIndex||e)&&(this.currentIndex=t,this.wrapSlideItems(),this.trigger(this.model.Events.ITEM_CHANGE_OCCURRED,{gallery:this,current:this.currentItem}))},wrapSlideItems:function(){this.clampedIndex||(this.currentItem.x=this.convertSlideIndexToHorizontalPosition(this.currentIndex),this.currentItem.prev.x=this.convertSlideIndexToHorizontalPosition(this.currentIndex-1),this.currentItem.next.x=this.convertSlideIndexToHorizontalPosition(this.currentIndex+1))},onResizeImmediate:function(){var e=this;this.clip&&(this.clip.destroy(),this.clip=null),this._items.forEach(function(e){e.measure(),e.x=e.width*e.index}),this.currentIndex=this.wrappedIndex(this.currentItem.index),this.wrapSlideItems(),this.position=this.target=this.convertSlideIndexToHorizontalPosition(this.currentIndex),this.slideContainer.style.transition="none",s(function(){e.slideContainer.style.transform="translate3d(".concat(-e.position,"px, 0,0)")})},convertSlideIndexToHorizontalPosition:function(e){return e*this.widthOfItem},destroy:function(){var e=this;this._items.forEach(function(t){t.measure(),t.x=0,t.zIndex=t===e.currentItem?2:0}),this.slideContainer.removeAttribute("style")}}},{133:133,135:135,139:139,161:161,177:177}],200:[function(e,t,n){"use strict";var r=e(135),i=e(133);t.exports={created:function(e){this.swipeDrag={movementRateMultiplier:this.model.SwipeDrag.movementRateMultiplier,velocityMultiplier:this.model.SwipeDrag.velocityMultiplier,dragDrawId:-1,waitingToReachTargetDrawId:-1,inputStart:{x:0,y:0},swipeVelocity:0,isDragging:!1},this._onStartDrag=this._onStartDrag.bind(this),this._onDrag=this._onDrag.bind(this),this._onStopDrag=this._onStopDrag.bind(this),this.waitingToReachTarget=this.waitingToReachTarget.bind(this)},mounted:function(){this.inputMoveEventName=this.model.IsTouch?"touchmove":"mousemove",this.inputUpEventName=this.model.IsTouch?"touchend":"mouseup",this.inputDownEvent=this.model.IsTouch?"touchstart":"mousedown",(this.model.IsTouch||this.model.SwipeDrag.DesktopSwipe)&&(this.el.removeEventListener(this.inputDownEvent,this._onStartDrag),this.el.addEventListener(this.inputDownEvent,this._onStartDrag))},_onStartDrag:function(e){i(this.swipeDrag.dragDrawId),i(this.swipeDrag.waitingToReachTargetDrawId);var t=e.target||e.relatedTarget;switch(!0){case"A"===t.tagName:case"BUTTON"===t.tagName:case!e.touches&&1!==e.which:return}this.clip&&this.clip.destroy(),this.lastInteractionEvent=e,this.swipeDrag.swipeVelocity=0,this.swipeDrag.isDragging=!1;var n=this.model.IsTouch?e.touches[0]:e,r=n.screenX,o=n.screenY;this.swipeDrag.inputStart={x:r,y:o},window.addEventListener(this.inputMoveEventName,this._onDrag,{passive:!1}),window.addEventListener(this.inputUpEventName,this._onStopDrag)},_onDrag:function(e){var t=this;this.swipeDrag.isDragging&&e.cancelable&&e.preventDefault();var n=this.model.IsTouch?e.touches[0]:e,o=n.screenX,s=n.screenY,a=this.swipeDrag.inputStart.x-o,c=this.swipeDrag.inputStart.y-s;this.swipeDrag.inputStart={x:o,y:s},this.swipeDrag.isDragging||(this.swipeDrag.isDragging=Math.abs(a)>3&&Math.abs(a)>Math.abs(c)),this.swipeDrag.isDragging&&(this.target+=a*this.swipeDrag.movementRateMultiplier,this.swipeDrag.swipeVelocity=a*this.swipeDrag.velocityMultiplier,this.clampedIndex&&(this.target=Math.min(this.widthOfItem*(this._items.length-1),Math.max(0,this.target))),i(this.swipeDrag.dragDrawId),this.swipeDrag.dragDrawId=r(function(){return t.draw(.3)}))},_onStopDrag:function(e){var t=this;if(window.removeEventListener(this.inputMoveEventName,this._onDrag),window.removeEventListener(this.inputUpEventName,this._onStopDrag),this.swipeDrag.isDragging){for(var n=[this.currentIndex-1,this.currentIndex,this.currentIndex+1],o=0,s=Number.MAX_VALUE,a=0,c=n.length;a<c;a++){var u=n[a]*this.widthOfItem,l=Math.abs(u-(this.position+this.swipeDrag.swipeVelocity));l<s&&(s=l,o=a)}this.lastInteractionEvent=e;var h=n[o];this.target=this.convertSlideIndexToHorizontalPosition(h),i(this.swipeDrag.dragDrawId),i(this.swipeDrag.waitingToReachTargetDrawId),this.swipeDrag.dragDrawId=r(function(){t.trigger(t.model.Events.ITEM_CHANGE_INITIATED,{gallery:t,next:t._items[t.wrappedIndex(h)]}),t.draw(.2),t.waitingToReachTarget(h)})}},waitingToReachTarget:function(e){var t=this,n=Math.abs(this.position-this.target);if(n>.1)return void(this.swipeDrag.waitingToReachTargetDrawId=r(function(){return t.waitingToReachTarget(e)}));var i=this.selections.occurred.current;this.trigger(this.model.Events.ITEM_CHANGE_COMPLETED,{gallery:this,current:i})},destroy:function(){this.el.removeEventListener(this.inputDownEvent,this._onStartDrag),window.removeEventListener(this.inputUpEventName,this._onStopDrag),window.removeEventListener(this.inputUpEventName,this._onStopDrag)}}},{133:133,135:135}],201:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=e(3),s=e(14),a=e(17);t.exports={created:function(){this.tabNav={items:[],current:null}},itemsCreated:function(){var e=this;Array.from(this.el.querySelectorAll(this.model.TabNav.ItemSelector)).forEach(function(t,n){var r=new c(t,n),i=e.getItemForTrigger(r.trigger);r.onSelected=function(t){e.lastInteractionEvent=t,t.preventDefault();var r=n-e.wrappedIndex(e.currentIndex),i=e.currentIndex+r;e.animateToItem(i)},i.on("select",function(){t.classList.add("current"),r.anchorEl.classList.add("current")}),i.on("deselect",function(){t.classList.remove("current"),r.anchorEl.classList.remove("current")}),r.anchorEl.addEventListener("click",r.onSelected),e.tabNav.items.push(r)}),this._items.forEach(function(t,n){t.el.setAttribute("role",a.TABPANEL),t.el.setAttribute(s.LABELLEDBY,e.tabNav.items[n].anchorEl.id),e.tabNav.items[n].anchorEl.setAttribute(s.CONTROLS,t.el.id)})},mounted:function(){var e=this.tabNav.items[0].el.parentElement;this.roamingTabIndex=new o(e,{selector:this.model.TabNav.RoamingTabIndexSelector})},onItemChangeCompleted:function(e){var t=this.tabNav.items.filter(function(t){return t.trigger===e.current.id})[0];this.setCurrentItem(t),this.roamingTabIndex.setSelectedItemByIndex(t.index,!0)},setCurrentItem:function(e){e!==this.tabNav.current&&(this.tabNav.current=e)}};var c=function u(e,t){(0,i["default"])(this,u),this.el=e,this.index=t,this.anchorEl=e.querySelector("a"),this.trigger=this.anchorEl.getAttribute("data-ac-gallery-trigger"),this.anchorEl.setAttribute("role",a.TAB)}},{14:14,17:17,3:3,72:72,78:78}],202:[function(e,t,n){"use strict";t.exports={beforeCreate:function(){this.selections={initiated:{current:null,previous:null},occurred:{current:null,previous:null},completed:{current:null,previous:null}}},onItemChangeInitiated:function(e){this.selections.initiated.previous=this.selections.initiated.current,this.selections.initiated.current=this.selections.initiated.next,this.selections.initiated.next=e.next},onItemChangeOccurred:function(e){this.selections.occurred.previous=e.previous=this.selections.occurred.current,this.selections.occurred.current=e.current},onItemChangeCompleted:function(e){this.selections.completed.previous=e.previous=this.selections.completed.current,this.selections.completed.current=e.current}}},{}],203:[function(e,t,n){"use strict";var r=e(78),i=r(e(86)),o=r(e(88)),s=r(e(72)),a=r(e(74)),c=e(68),u=e(222),l=e(226),h=e(229),d=e(215),f=e(206),p={endpoint:null,aliases:null,timeout:5,dummyPrices:!1},m="39f4f1f5-c4a1-4a7c-ab30-085335a11146",y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s["default"])(this,e),this.ids=Array.isArray(t)?t:[t],this._originalIDs=(0,o["default"])(this.ids),this.identifierToAliasMap={},this.options=this._processOptions(n),this.itemsWithDummyPrice=[],this.identifierParam=null}return(0,a["default"])(e,[{key:"formatResponseItem",value:function(){throw new Error("not implemented")}},{key:"getItemsFromResponse",value:function(){throw new Error("not implemented")}},{key:"createDummyItem",value:function(){throw new Error("not implemented")}},{key:"send",value:function(){var e=this;return this._maybeForceError().then(function(){return e._request()}).then(function(t){return e._processResponse(t)}).then(function(t){return e._createProductObjects(t)})["catch"](function(t){return e._handleError(t)})}},{key:"_createProductObjects",value:function(e){var t=this,n={};return Object.entries(e).forEach(function(e){var r=(0,i["default"])(e,2),o=r[0],s=r[1],a=null,c=t.identifierToAliasMap[o]||[o];try{a=t.formatResponseItem(o,s)}catch(u){if("InvalidDataError"!==u.name)throw u}c.forEach(function(e){n[e]=a})}),Object.defineProperty(n,"aliases",{value:this.options.aliases}),l.group("%cResults from Apple Online Store","background-color:#27a33f;color:white;padding:2px 5px"),l.log(n),l.groupEnd(),l.enabled&&this.itemsWithDummyPrice.length&&(l.group("Dummy Prices"),l.warn("Using dummy prices for the following product identifiers: "+this.itemsWithDummyPrice.join(", ")),l.info("$777,777  The API service may require authentication and/or authorization. \n$888,888  The product identifer is currently unknown to the API service. \n$999,999  The product identifier is known to the API service, but the price has yet to be set. \n"),l.groupEnd()),new f(null,n)}},{key:"_handleError",value:function(e){var t=this,n={};this.ids.forEach(function(e){return n[e]=null});var r=new f(e,n);if(!e)return r;var i=!Object.keys(d).some(function(t){return e.name===t});if(i)throw e;if("UnexpectedError"===e.name&&this.options.dummyPrices){var o={};this._originalIDs.forEach(function(e){o[e]=t.createDummyItem(e),t.itemsWithDummyPrice.push(e)}),r=new f(e,o)}return e&&"function"==typeof e.showHint&&e.showHint(r.products),r}},{key:"_maybeForceError",value:function(){var e=this;return new Promise(function(t,n){var r=e.options.dummyPrices&&"undefined"!=typeof window&&window.location.search.indexOf(m)>-1;if(r){var i=c(m,null);n(i&&d[i]&&new d[i])}t()})}},{key:"_processOptions",value:function(e){if(e=Object.assign({},p,e),!e.endpoint)throw new d.ConfigurationError({type:"endpoint"});var t=e.aliases?Object.entries(e.aliases):[];return t.length&&(this.identifierToAliasMap=t.reduce(function(e,t){var n=(0,i["default"])(t,2),r=n[0],o=n[1];return e[o]=e[o]||[],e[o].push(r),e},{}),this.ids=this.ids.map(function(t){return e.aliases[t]||t})),e}},{key:"_processResponse",value:function(e){var t=parseInt(e.getResponseHeader("x-rewrite-status"),10),n=t||e.status,r=null,i=null;switch(n){case 404:throw new d.ServiceNotFoundError;case 503:throw new d.ServiceUnavailableError;case 400:throw new d.UnexpectedError;case 200:if(i=h(e.responseText),null!==i&&(r=this.getItemsFromResponse(i)))return r;default:throw new d.InvalidDataError}}},{key:"_request",value:function(){var e=this;return new Promise(function(t,n){var r=new XMLHttpRequest;r.withCredentials=!0,r.onloadend=t.bind(e,r),r.ontimeout=n.bind(e,new d.TimeoutError(e.options.timeout)),r.onerror=n.bind(e,new d.UnexpectedError),r.open("GET",u(e.options.endpoint,e.identifierParam,e.ids),!0),r.timeout=1e3*(e.options.timeout||0),r.send()})}}]),e}();t.exports=y},{206:206,215:215,222:222,226:226,229:229,68:68,72:72,74:74,78:78,86:86,88:88}],204:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=r(e(74)),s=r(e(84)),a=r(e(76)),c=r(e(77)),u=e(227),l=e(219),h=e(203),d=function(e){function t(e,n){var r;return(0,i["default"])(this,t),r=(0,s["default"])(this,(0,a["default"])(t).call(this,e,n)),r.identifierParam="parts",r}return(0,c["default"])(t,e),(0,o["default"])(t,[{key:"createDummyItem",value:function(e){return u(e,"unauthorized")}},{key:"formatResponseItem",value:function(e,t){var n=null;return this.options.dummyPrices&&"UNKNOWN"===t.type&&(t=u(e,"unknown"),this.itemsWithDummyPrice.push(e)),n=new l(t),999999===n.price.value&&this.itemsWithDummyPrice.push(e),n}},{key:"getItemsFromResponse",value:function(e){return e.items}}]),t}(h);t.exports=d},{203:203,219:219,227:227,72:72,74:74,76:76,77:77,78:78,84:84}],205:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=r(e(74)),s=r(e(84)),a=r(e(76)),c=r(e(77)),u=e(228),l=e(203),h=e(220),d=function(e){function t(e,n){var r;return(0,i["default"])(this,t),r=(0,s["default"])(this,(0,a["default"])(t).call(this,e,n)),r.identifierParam="ids",r}return(0,c["default"])(t,e),(0,o["default"])(t,[{key:"createDummyItem",value:function(e){return u(e,"unauthorized")}},{key:"formatResponseItem",value:function(e,t){var n=null;return this.options.dummyPrices&&"UNKNOWN"===t.productName&&(t=u(e,"unknown"),this.itemsWithDummyPrice.push(e)),n=new h(t),999999===n.credit.value&&this.itemsWithDummyPrice.push(e),n}},{key:"getItemsFromResponse",value:function(e){return e.ids}}]),t}(l);t.exports=d},{203:203,220:220,228:228,72:72,74:74,76:76,77:77,78:78,84:84}],206:[function(e,t,n){"use strict";var r=e(78),i=r(e(72));t.exports=function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i["default"])(this,o),this.error=e,this.products=t}},{72:72,78:78}],207:[function(e,t,n){"use strict";var r=e(78),i=r(e(88)),o=r(e(72)),s=r(e(74)),a=e(216),c=e(217),u=function(){function t(){(0,o["default"])(this,t)}return(0,s["default"])(t,[{key:"getProductID",value:function(e,t){var n=[];return t.forEach(function(t){n.push(t.dataset["".concat(e,"Product")])}),(0,i["default"])(new Set(n))}},{key:"setElements",value:function(e){var t=(0,i["default"])(document.querySelectorAll("[data-".concat(e,"-product]"))),n=Array.prototype.slice.call(t).filter(function(e){return"SCRIPT"!==e.tagName});this["".concat(e,"Elements")]=n}},{key:"fetchProductInfo",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getProductID(e,this["".concat(e,"Elements")]);return"pricing"===e?n=a(i,r):"tradein"===e?n=c(i,r):t="API not supported",t||n}},{key:"getValueFromPath",value:function(e,t){return e.replace(/\s+/g,"").replace(/\$\{([\w\d.]+)\}/g,function(e,n){
return n.split(".").reduce(function(e,t){return e[t]?e[t]:""},t)})}},{key:"handleError",value:function(e){e.textContent||(e.style.display="none")}},{key:"trackDynamicPricingState",value:function(t){try{var n=e("@marcom/ac-analytics"),r={Success:"DP-S0",ConfigurationError:"DP-E1",ServiceNotFoundError:"DP-E2",ServiceUnavailableError:"DP-E3",TimeoutError:"DP-E4",InvalidDataError:"DP-E5",UnexpectedError:"DP-E6"}[t&&t.name||"Success"];n.passiveTracker({eVar100:r})}catch(i){}}},{key:"loadPricingFromHTML",value:function(e){var t=this;return new Promise(function(n){t.pricingElements=[],t.setElements("pricing"),t.fetchProductInfo("pricing",e).then(function(e){t.trackDynamicPricingState(e.error),t.pricingElements.forEach(function(r){var i;if(e.error)t.handleError(r);else{var o=r.dataset.pricingProduct,s=e.products[o],a=r.dataset.productTemplate||"",c=a.replace(/\$\{\s*([\w\d.]+)\s*\}/g,function(e){var n=t.getValueFromPath(e,s);return n||(i=!0),n});!s||i||e.error?t.handleError(r):(r.textContent=c,r.dataset.pricingLoaded="",r.parentElement.classList.add("has-dynamic-content"))}n(e.error)})})["catch"](function(e){throw e})})}},{key:"loadTradeInFromHTML",value:function(e){var t=this;return new Promise(function(n){t.tradeinElements=[],t.setElements("tradein"),t.fetchProductInfo("tradein",e).then(function(e){t.trackDynamicPricingState(e.error),t.tradeinElements.forEach(function(r){var i;if(e.error)t.handleError(r);else{var o=r.dataset.tradeinProduct,s=e.products[o],a=r.dataset.productTemplate||"",c=a.replace(/\$\{\s*([\w\d.]+)\s*\}/g,function(e){var n=t.getValueFromPath(e,s);return n||(i=!0),n});!s||i||e.error?t.handleError(r):(r.textContent=c,r.dataset.pricingLoaded="",r.parentElement.classList.add("has-dynamic-content"))}n(e.error)})})["catch"](function(e){throw e})})}}]),t}();t.exports=new u},{216:216,217:217,72:72,74:74,78:78,88:88,undefined:void 0}],208:[function(e,t,n){"use strict";t.exports={mockPrices:{unauthorized:777777,unknown:888888}}},{}],209:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=r(e(74)),s=r(e(84)),a=r(e(76)),c=r(e(77)),u=r(e(90)),l=e(226);t.exports=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i["default"])(this,t);var r;return"endpoint"===n.type&&(r="Failed to fetch product prices: The API service endpoint was not specified."),e=(0,s["default"])(this,(0,a["default"])(t).call(this,r)),e.name="ConfigurationError",e.type=n.type,e}return(0,c["default"])(t,e),(0,o["default"])(t,[{key:"showHint",value:function(){"endpoint"===this.type&&(l.warn(this.message+" This may be expected if this page's locale doesn't have an Apple Online Store."),l.info('If prices are expected for this locale, check that the API service endpoint is specified in HTML with %c<link rel="ac:pricing-endpoint" href="/path/to/endpoint">%c or the "fetchProducts" function\'s "endpoint" option.',"font-family:monospace",""))}}]),t}((0,u["default"])(Error))},{226:226,72:72,74:74,76:76,77:77,78:78,84:84,90:90}],210:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=r(e(74)),s=r(e(84)),a=r(e(76)),c=r(e(77)),u=r(e(90)),l=e(226);t.exports=function(e){function t(e){var n;return(0,i["default"])(this,t),n=(0,s["default"])(this,(0,a["default"])(t).call(this,e||"Failed to fetch product price: The API service responded with an unexpected data format.")),n.name="InvalidDataError",n}return(0,c["default"])(t,e),(0,o["default"])(t,[{key:"showHint",value:function(){l.warn(this.message)}}]),t}((0,u["default"])(Error))},{226:226,72:72,74:74,76:76,77:77,78:78,84:84,90:90}],211:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=r(e(74)),s=r(e(84)),a=r(e(76)),c=r(e(77)),u=r(e(90)),l=e(226);t.exports=function(e){function t(){var e;return(0,i["default"])(this,t),e=(0,s["default"])(this,(0,a["default"])(t).call(this,"Failed to fetch product prices: The API service responded with a status of 404 (Not Found).")),e.name="ServiceNotFoundError",e}return(0,c["default"])(t,e),(0,o["default"])(t,[{key:"showHint",value:function(){l.warn(this.message),l.info('Check the "href" value of the %c<link rel="ac:pricing-endpoint">%c tag or the "fetchProducts" function\'s "endpoint" option, if specified.',"font-family:monospace","")}}]),t}((0,u["default"])(Error))},{226:226,72:72,74:74,76:76,77:77,78:78,84:84,90:90}],212:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=r(e(74)),s=r(e(84)),a=r(e(76)),c=r(e(77)),u=r(e(90)),l=e(226);t.exports=function(e){function t(){var e;return(0,i["default"])(this,t),e=(0,s["default"])(this,(0,a["default"])(t).call(this,"Failed to fetch product prices: The Apple Online Store is temporarily unavailable.")),e.name="ServiceUnavailableError",e}return(0,c["default"])(t,e),(0,o["default"])(t,[{key:"showHint",value:function(){l.warn(this.message)}}]),t}((0,u["default"])(Error))},{226:226,72:72,74:74,76:76,77:77,78:78,84:84,90:90}],213:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=r(e(74)),s=r(e(84)),a=r(e(76)),c=r(e(77)),u=r(e(90)),l=e(226);t.exports=function(e){function t(e){var n;return(0,i["default"])(this,t),n=(0,s["default"])(this,(0,a["default"])(t).call(this,"Failed to fetch product prices: The API service did not respond within "+e+" seconds, so the request was aborted.")),n.name="TimeoutError",n.timeoutValue=e,n}return(0,c["default"])(t,e),(0,o["default"])(t,[{key:"showHint",value:function(){l.warn(this.message)}}]),t}((0,u["default"])(Error))},{226:226,72:72,74:74,76:76,77:77,78:78,84:84,90:90}],214:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=r(e(74)),s=r(e(84)),a=r(e(76)),c=r(e(77)),u=r(e(90)),l=e(226);t.exports=function(e){function t(){var e;return(0,i["default"])(this,t),e=(0,s["default"])(this,(0,a["default"])(t).call(this,"Failed to fetch prices: An unexpected error occured.")),e.name="UnexpectedError",e}return(0,c["default"])(t,e),(0,o["default"])(t,[{key:"showHint",value:function(){l.warn(this.message),l.info("The API service endpoint may require authentication and/or authorization.")}}]),t}((0,u["default"])(Error))},{226:226,72:72,74:74,76:76,77:77,78:78,84:84,90:90}],215:[function(e,t,n){"use strict";t.exports={ConfigurationError:e(209),ServiceNotFoundError:e(211),ServiceUnavailableError:e(212),TimeoutError:e(213),InvalidDataError:e(210),UnexpectedError:e(214)}},{209:209,210:210,211:211,212:212,213:213,214:214}],216:[function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.length){var n=new o;return Promise.resolve(n)}return i("pricing").then(function(n){var r=Object.assign({},n,t),i=new s(e,r);return i.send()})}var i=e(225),o=e(206),s=e(204);t.exports=r},{204:204,206:206,225:225}],217:[function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.length){var n=new o;return Promise.resolve(n)}return i("tradein").then(function(n){var r=Object.assign({},n,t),i=new s(e,r);return i.send()})}var i=e(225),o=e(206),s=e(205);t.exports=r},{205:205,206:206,225:225}],218:[function(e,t,n){"use strict";t.exports=Object.assign({applyPrices:e(207),fetchProducts:e(216),fetchTradeIns:e(217),Product:e(219),TradeIn:e(220)},e(215))},{207:207,215:215,216:216,217:217,219:219,220:220}],219:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=r(e(74)),s=e(224),a=e(230),c=e(210),u=function(e){return{id:e.isString,name:e.isString,type:function(e){return["WUIP","PART"].includes(e)},price:e.isObject,"price.value":e.isNumber,"price.display":e.isObject,"price.display.disclaimer":e.isOptionalString,"price.display.legal":e.isOptionalString,"price.display.actual":e.isString,"price.display.monthlyFrom":e.isOptionalString,"price.display.smart":e.isString,"price.display.from":function(e,t){return"WUIP"===t.type?"string"==typeof e:"undefined"==typeof e},tradeIn:function(e){return"undefined"==typeof e||a(e,function(e){return{id:e.isString,productName:e.isString,credit:e.isObject,"credit.value":e.isNumber,"credit.display":e.isObject,"credit.display.actual":e.isString,"credit.display.smart":e.isString,"credit.display.upto":e.isString,priceWithCreditApplied:e.isObject,"priceWithCreditApplied.value":e.isNumber,"priceWithCreditApplied.display.actual":e.isString,"priceWithCreditApplied.display.disclaimer":e.isOptionalString,"priceWithCreditApplied.display.from":e.isString,"priceWithCreditApplied.display.monthlyFrom":e.isOptionalString,"priceWithCreditApplied.display.smart":e.isString}})}}},l=function(){function e(t){if((0,i["default"])(this,e),!e.validate(t))throw new c("Could not create Product, because the given JSON contains invalid data.");s(this,t)}return(0,o["default"])(e,[{key:"isWUIP",get:function(){return"WUIP"===this.type}},{key:"isPart",get:function(){return"PART"===this.type}}],[{key:"validate",value:function(e){return a(e,u)}}]),e}();t.exports=l},{210:210,224:224,230:230,72:72,74:74,78:78}],220:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=r(e(74)),s=e(224),a=e(230),c=e(210),u=function(e){return{id:e.isString,productName:e.isString,credit:e.isObject,"credit.value":e.isNumber,"credit.display":e.isObject,"credit.display.actual":e.isString,"credit.display.smart":e.isString,"credit.display.upto":e.isString}},l=function(){function e(t){if((0,i["default"])(this,e),!e.validate(t))throw new c("Could not create TradeIn, because the given JSON contains invalid data.");s(this,t)}return(0,o["default"])(e,null,[{key:"validate",value:function(e){return a(e,u)}}]),e}();t.exports=l},{210:210,224:224,230:230,72:72,74:74,78:78}],221:[function(e,t,n){"use strict";t.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(e)||(e=[e]),e.filter(function(e){return"string"==typeof e}).map(function(e){return encodeURIComponent(String(e).trim())}).join(",")}},{}],222:[function(e,t,n){"use strict";var r=e(221),i=/\?(.+)/,o=/(#.*)/;t.exports=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e=e.replace(o,"");var s=(e.match(i)||[])[1],a=e;return n.length&&(a+=s?"&":"?",a+="".concat(t,"=").concat(r(n))),a}},{221:221}],223:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e%1===0?0:2;return e>9999?e.toLocaleString(t,{minimumFractionDigits:n,maximumFractionDigits:n}):e.toFixed(n)}},{}],224:[function(e,t,n){"use strict";var r=e(78),i=r(e(89)),o=r(e(86));t.exports=function(e,t){Object.entries(t).forEach(function(t){var n=(0,o["default"])(t,2),r=n[0],s=n[1];e[r]||Object.defineProperty(e,r,{enumerable:!0,value:"object"===(0,i["default"])(s)?Object.freeze(JSON.parse(JSON.stringify(s))):s})})}},{78:78,86:86,89:89}],225:[function(e,t,n){"use strict";var r=e(78),i=r(e(86)),o=e(139);t.exports=function(e){return new Promise(function(t){return"undefined"!=typeof window&&window.document?void o(function(){var n={},r=document.querySelector('link[rel="ac:'.concat(e,'-endpoint"]'));r&&(n.endpoint=(r.getAttribute("href")||"").trim());var o=document.querySelectorAll('meta[name="ac:'.concat(e,'-alias"]'));o.forEach(function(e){var t=(e.getAttribute("content")||"").split("="),r=(0,i["default"])(t,2),o=r[0],s=r[1];o&&s&&(n.aliases=n.aliases||{},n.aliases[o]=s)});var s=document.querySelector('meta[name="ac:pricing-dummy"]');s&&(n.dummyPrices="true"===(s.getAttribute("content")||"").trim()),t(n)}):void t({})})}},{139:139,78:78,86:86}],226:[function(e,t,n){"use strict";for(var r=e(24),i="[ @marcom/pricing ]",o=Object.keys(r),s=!1,a=function(){var e=o[c],n="function"==typeof r[e]?r[e]:null;n&&(t.exports[e]=function(){var t=Array.prototype.slice.call(arguments);s||"string"!=typeof t[0]||(t[0]="".concat(i," ").concat(t[0])),"group"!==e&&"groupCollapsed"!==e||(s=!0),"groupEnd"===e&&(s=!1),n.apply(r,t)})},c=0,u=o.length;c<u;c++)a();t.exports.enabled=r.enabled},{24:24}],227:[function(e,t,n){"use strict";var r=e(208),i=r.mockPrices,o=e(223);t.exports=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",r=parseFloat(i[t]||t||0),s=o(r,n);return{id:e,name:"",type:"WUIP",price:{value:r,display:{actual:"$"+Number(r).toLocaleString(n,{minimumFractionDigits:2}),smart:"$"+s,from:"From $"+s}}}}},{208:208,223:223}],228:[function(e,t,n){"use strict";var r=e(208),i=r.mockPrices,o=e(223);t.exports=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",r=parseFloat(i[t]||t||0),s=o(r,n);return{id:e,productName:"",credit:{value:r,display:{actual:"$"+Number(r).toLocaleString(n,{minimumFractionDigits:2}),smart:"$"+s,from:"From $"+s,upto:"Up to $"+s}}}}},{208:208,223:223}],229:[function(e,t,n){"use strict";t.exports=function(e){try{return JSON.parse(e)}catch(t){return null}}},{}],230:[function(e,t,n){"use strict";function r(e,t){return t.split(".").reduce(function(e,t){return e&&e[t]},e)}var i=e(78),o=i(e(86)),s={isString:function(e){return"string"==typeof e},isOptionalString:function(e){return!e||"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)}};t.exports=function(e,t){"function"==typeof t&&(t=t(s));for(var n=Object.entries(t),i=0,a=n.length;i<a;i++){var c=(0,o["default"])(n[i],2),u=c[0],l=c[1],h=u.indexOf(".")>-1?r(e,u):e[u];if(l.call(e,h,e)!==!0)return!1}return!0}},{78:78,86:86}],231:[function(e,t,n){"use strict";t.exports={lerp:function(e,t,n){return t+(n-t)*e},map:function(e,t,n,r,i){return r+(i-r)*(e-t)/(n-t)},mapClamp:function(e,t,n,r,i){var o=r+(i-r)*(e-t)/(n-t);return Math.max(r,Math.min(i,o))},norm:function(e,t,n){return(e-t)/(n-t)},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},randFloat:function(e,t){return Math.random()*(t-e)+e},randInt:function(e,t){return Math.floor(Math.random()*(t-e)+e)}}},{}],232:[function(e,t,n){"use strict";var r=e(78),i=r(e(72)),o=r(e(74)),s=r(e(84)),a=r(e(71)),c=r(e(76)),u=r(e(75)),l=r(e(77)),h=e(56).EventEmitterMicro,d=[{name:"S",mediaQuery:"only screen and (max-width: 734px)"},{name:"M",mediaQuery:"only screen and (min-width: 735px) and (max-width: 1068px)  "},{name:"L",mediaQuery:"only screen and (min-width: 1069px) and (max-width: 1440px)"},{name:"X",mediaQuery:"only screen and (min-width: 1441px)"}],f="only screen and (-webkit-min-device-pixel-ratio: 1.5), screen and (min-resolution: 1.5dppx), screen and (min-resolution: 144dpi)",p="only screen and (orientation: portrait)",m=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i["default"])(this,t),e=(0,s["default"])(this,(0,c["default"])(t).call(this)),e.BREAKPOINTS=n.breakpoints||d,e._setupProperties(),e._onRetinaChange=e._onRetinaChange.bind((0,a["default"])(e)),e._onOrientationChange=e._onOrientationChange.bind((0,a["default"])(e)),e.listenersAdded={orientation:!1,retina:!1,viewport:!1},e}return(0,l["default"])(t,e),(0,o["default"])(t,[{key:"on",value:function(){this._setupListeners(arguments[0]),(0,u["default"])((0,c["default"])(t.prototype),"on",this).apply(this,arguments)}},{key:"_onRetinaChange",value:function(){this.trigger(t.CHANGE_EVENTS.RETINA,this)}},{key:"_onOrientationChange",value:function(){this.trigger(t.CHANGE_EVENTS.ORIENTATION,this)}},{key:"_setupProperties",value:function(){Object.defineProperty(this,"retina",{get:function(){return window.matchMedia(f).matches}}),Object.defineProperty(this,"orientation",{get:function(){return window.matchMedia(p).matches?"portrait":"landscape"}}),this.viewport=this.getBreakpoint()}},{key:"_setupListeners",value:function(e){var n=this;if(e!==t.CHANGE_EVENTS.RETINA||this.listenersAdded.retina||(window.matchMedia(f).addListener(this._onRetinaChange),this.listenersAdded.retina=!0),e!==t.CHANGE_EVENTS.ORIENTATION||this.listenersAdded.orientation||(window.matchMedia(p).addListener(this._onOrientationChange),this.listenersAdded.orientation=!0),e===t.CHANGE_EVENTS.VIEWPORT&&!this.listenersAdded.viewport){for(var r=function(e){var r=n.BREAKPOINTS[e];window.matchMedia(r.mediaQuery).addListener(function(e){e.matches&&(n.oldViewport=n.viewport,n.viewport=r.name,n.trigger(t.CHANGE_EVENTS.VIEWPORT,n))})},i=0;i<this.BREAKPOINTS.length;i++)r(i);this.listenersAdded.viewport=!0}}},{key:"getBreakpoint",value:function(){for(var e=0;e<this.BREAKPOINTS.length;e++){var t=this.BREAKPOINTS[e],n=window.matchMedia(t.mediaQuery);if(n.matches)return t.name}}}],[{key:"CHANGE_EVENTS",get:function(){return{ORIENTATION:"change:orientation",RETINA:"change:retina",VIEWPORT:"change:viewport"}}}]),t}(h);t.exports=m},{56:56,71:71,72:72,74:74,75:75,76:76,77:77,78:78,84:84}],233:[function(e,t,n){"use strict";function r(e,t){i.call(this),this._id=e||s.ID,this._options=Object.assign({},s.OPTIONS,t),this._allowDOMEventDispatch=!1,this._allowElementStateData=!1,this._options.removeNamespace="boolean"!=typeof this._options.removeNamespace||this._options.removeNamespace,this._el=this._initViewportEl(this._id),this._resizing=!1,this._mediaQueryLists={resolution:{retina:window.matchMedia(u.RETINA)},orientation:{portrait:window.matchMedia(u.PORTRAIT),landscape:window.matchMedia(u.LANDSCAPE)}},this._viewport=this._getViewport(this._options.removeNamespace),this._retina=this._getRetina(this._mediaQueryLists.resolution.retina),this._orientation=this._initOrientation(),this._addListeners(),this._updateElementStateData()}var i=e(56).EventEmitterMicro,o=e(139),s={ID:"viewport-emitter",OPTIONS:{removeNamespace:!0}},a={DOM_DISPATCH:"data-viewport-emitter-dispatch",STATE:"data-viewport-emitter-state"},c="::before",u={RETINA:"only screen and (-webkit-min-device-pixel-ratio: 1.5), screen and (min-resolution: 1.5dppx), screen and (min-resolution: 144dpi)",PORTRAIT:"only screen and (orientation: portrait)",LANDSCAPE:"only screen and (orientation: landscape)"},l={any:"change:any",orientation:"change:orientation",retina:"change:retina",viewport:"change:viewport"};Object.defineProperty(r,"DOM_DISPATCH_ATTRIBUTE",{get:function(){return a.DOM_DISPATCH}}),Object.defineProperty(r,"DOM_STATE_ATTRIBUTE",{get:function(){return a.STATE}});var h=r.prototype=Object.create(i.prototype);Object.defineProperty(h,"id",{get:function(){return this._id}}),Object.defineProperty(h,"element",{get:function(){return this._el}}),Object.defineProperty(h,"mediaQueryLists",{get:function(){return this._mediaQueryLists}}),Object.defineProperty(h,"viewport",{get:function(){return this._viewport}}),Object.defineProperty(h,"retina",{get:function(){return this._retina}}),Object.defineProperty(h,"orientation",{get:function(){return this._orientation}}),Object.defineProperty(h,"hasDomDispatch",{get:function(){return this._allowDOMEventDispatch}}),h.destroy=function(){this._removeListeners();for(var e in this._options)this._options[e]=null;for(var t in this._mediaQueryLists){var n=this._mediaQueryLists[t];for(var r in n)n[r]=null}this._id=null,this._el=null,this._viewport=null,this._retina=null,this._orientation=null,i.prototype.destroy.call(this)},h._initViewportEl=function(e){var t=document.getElementById(e);return t||(t=document.createElement("div"),t.id=e,t=document.body.appendChild(t)),t.hasAttribute(a.DOM_DISPATCH)||(t.setAttribute(a.DOM_DISPATCH,""),this._allowDOMEventDispatch=!0),t.hasAttribute(a.STATE)||(this._allowElementStateData=!0),t},h._dispatch=function(e,t){var n={viewport:this._viewport,orientation:this._orientation,retina:this._retina};if(this._allowDOMEventDispatch){var r=new CustomEvent(e,{detail:t}),i=new CustomEvent(l.any,{detail:n});this._el.dispatchEvent(r),this._el.dispatchEvent(i)}this.trigger(e,t),this.trigger(l.any,n)},h._addListeners=function(){this._onOrientationChange=this._onOrientationChange.bind(this),this._onRetinaChange=this._onRetinaChange.bind(this),this._onViewportChange=this._onViewportChange.bind(this),this._onViewportChangeUpdate=this._onViewportChangeUpdate.bind(this),this._mediaQueryLists.orientation.portrait.addListener(this._onOrientationChange),this._mediaQueryLists.orientation.landscape.addListener(this._onOrientationChange),this._mediaQueryLists.resolution.retina.addListener(this._onRetinaChange),window.addEventListener("resize",this._onViewportChange)},h._removeListeners=function(){this._mediaQueryLists.orientation.portrait.removeListener(this._onOrientationChange),this._mediaQueryLists.orientation.landscape.removeListener(this._onOrientationChange),this._mediaQueryLists.resolution.retina.removeListener(this._onRetinaChange),window.removeEventListener("resize",this._onViewportChange)},h._updateElementStateData=function(){if(this._allowElementStateData){var e=JSON.stringify({viewport:this._viewport,orientation:this._orientation,retina:this._retina});this._el.setAttribute(a.STATE,e)}},h._getViewport=function(e){var t=window.getComputedStyle(this._el,c).content;return t?(t=t.replace(/["']/g,""),e?t.split(":").pop():t):null},h._getRetina=function(e){return e.matches},h._getOrientation=function(e){var t=this._orientation;if(e.matches){var n=/portrait|landscape/;return e.media.match(n)[0]}return t},h._initOrientation=function(){var e=this._getOrientation(this._mediaQueryLists.orientation.portrait);return e?e:this._getOrientation(this._mediaQueryLists.orientation.landscape)},h._onViewportChange=function(){this._resizing||(this._resizing=!0,o(this._onViewportChangeUpdate))},h._onViewportChangeUpdate=function(){var e=this._viewport;if(this._viewport=this._getViewport(this._options.removeNamespace),e!==this._viewport){var t={from:e,to:this._viewport};this._updateElementStateData(),this._dispatch(l.viewport,t)}this._resizing=!1},h._onRetinaChange=function(e){var t=this._retina;if(this._retina=this._getRetina(e),t!==this._retina){var n={from:t,to:this._retina};this._updateElementStateData(),this._dispatch(l.retina,n)}},h._onOrientationChange=function(e){var t=this._orientation;if(this._orientation=this._getOrientation(e),t!==this._orientation){var n={from:t,to:this._orientation};this._updateElementStateData(),this._dispatch(l.orientation,n)}},t.exports=r},{139:139,56:56}],234:[function(e,t,n){function r(e){return d[125613361*(e&-e)>>>27]}function i(e){return e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e=(e>>1)+1,d[125613361*e>>>27]}function o(e,t,n){var r=(1<<t)-1<<n;return e^r}function s(e,t,n){var r=(1<<t)-1<<n;return e|r}function a(e,t,n){var r=2147483647^(1<<t)-1<<n;return e&r}function c(e,t){return e&t}function u(e,t){return e|t}function l(e,t){return e^t}var h=31,d=[0,1,28,2,29,14,24,3,30,22,20,15,25,17,4,8,31,27,13,23,21,19,16,7,26,12,18,6,11,5,10,9];BitSet=function(e){var t,n,r,i,o;if("number"==typeof e)e=e||h,t=Math.ceil(e/h),this.arr=new Uint32Array(t),this.MAX_BIT=e-1;else{if(n=JSON.parse("["+e+"]"),this.MAX_BIT=n.pop(),i=n.pop(),i>0){for(r=[],o=0;o<i;o++)r[o]=0;for(o=0;o<n.length;o++)r[i+o]=n[o];n=r}t=Math.ceil((this.MAX_BIT+1)/h),this.arr=new Uint32Array(t),this.arr.set(n)}},BitSet.prototype.get=function(e){var t=this._getWord(e);return t!==-1&&1===(this.arr[t]>>e%h&1)},BitSet.prototype.set=function(e){var t=this._getWord(e);return t!==-1&&(this.arr[t]|=1<<e%h,!0)},BitSet.prototype.setRange=function(e,t){return this._doRange(e,t,s)},BitSet.prototype.unset=function(e){var t=this._getWord(e);return t!==-1&&(this.arr[t]&=~(1<<e%h),!0)},BitSet.prototype.unsetRange=function(e,t){return this._doRange(e,t,a)},BitSet.prototype.toggle=function(e){var t=this._getWord(e);return t!==-1&&(this.arr[t]^=1<<e%h,!0)},BitSet.prototype.toggleRange=function(e,t){return this._doRange(e,t,o)},BitSet.prototype.clear=function(){for(var e=0;e<this.arr.length;e++)this.arr[e]=0;return!0},BitSet.prototype.clone=function(){return new BitSet(this.dehydrate())},BitSet.prototype.dehydrate=function(){var e,t,n,r=0;for(e=0;e<this.arr.length&&0===this.arr[e];e++)r++;for(e=this.arr.length-1;e>=r;e--)if(0!==this.arr[e]){t=e;break}for(n="",e=r;e<=t;e++)n+=this.arr[e]+",";return n+=r+","+this.MAX_BIT},BitSet.prototype.and=function(e){return this._op(e,c)},BitSet.prototype.or=function(e){return this._op(e,u)},BitSet.prototype.xor=function(e){return this._op(e,l)},BitSet.prototype.forEach=function(e){for(var t=this.ffs();t!==-1;t=this.nextSetBit(t+1))e(t)},BitSet.prototype.getCardinality=function(){for(var e=0,t=this.arr.length-1;t>=0;t--){var n=this.arr[t];n-=n>>1&1431655765,n=(858993459&n)+(n>>2&858993459),e+=16843009*(n+(n>>4)&252645135)>>24}return e},BitSet.prototype.getIndices=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},BitSet.prototype.isSubsetOf=function(e){for(var t=this.arr,n=e.arr,r=t.length,i=0;i<r;i++)if((t[i]&n[i])!==t[i])return!1;return!0},BitSet.prototype.isEmpty=function(){var e,t;for(t=this.arr,e=0;e<t.length;e++)if(t[e])return!1;return!0},BitSet.prototype.isEqual=function(e){var t;for(t=0;t<this.arr.length;t++)if(this.arr[t]!==e.arr[t])return!1;return!0},BitSet.prototype.toString=function(){var e,t,n="";for(e=this.arr.length-1;e>=0;e--)t=this.arr[e].toString(2),n+=("0000000000000000000000000000000"+t).slice(-h);return n},BitSet.prototype.ffs=function(e){var t,n,i=-1;for(e=e||0,n=e;n<this.arr.length;n++)if(t=this.arr[n],0!==t){i=r(t)+n*h;break}return i<=this.MAX_BIT?i:-1},BitSet.prototype.ffz=function(e){var t,n,i=-1;for(e=e||0,t=e;t<this.arr.length;t++)if(n=this.arr[t],2147483647!==n){n^=2147483647,i=r(n)+t*h;break}return i<=this.MAX_BIT?i:-1},BitSet.prototype.fls=function(e){var t,n,r=-1;for(void 0===e&&(e=this.arr.length-1),t=e;t>=0;t--)if(n=this.arr[t],0!==n){r=i(n)+t*h;break}return r},BitSet.prototype.flz=function(e){var t,n,r=-1;for(void 0===e&&(e=this.arr.length-1),t=e;t>=0;t--){if(n=this.arr[t],t===this.arr.length-1){var o=this.MAX_BIT%h,s=h-o-1;n|=(1<<s)-1<<o+1}if(2147483647!==n){n^=2147483647,r=i(n)+t*h;break}}return r},BitSet.prototype.nextSetBit=function(e){var t=this._getWord(e);if(t===-1)return-1;var n=e%h,i=h-n,o=(1<<i)-1<<n,s=this.arr[t]&o;return s>0?r(s)+t*h:this.ffs(t+1)},BitSet.prototype.nextUnsetBit=function(e){var t=this._getWord(e);if(t===-1)return-1;var n=(1<<e%h)-1,i=this.arr[t]|n;return 2147483647===i?this.ffz(t+1):r(2147483647^i)+t*h},BitSet.prototype.previousSetBit=function(e){var t=this._getWord(e);if(t===-1)return-1;var n=2147483647>>>h-e%h-1,r=this.arr[t]&n;return r>0?i(r)+t*h:this.fls(t-1)},BitSet.prototype.previousUnsetBit=function(e){var t=this._getWord(e);if(t===-1)return-1;var n=e%h,r=(1<<h-n-1)-1<<n+1,o=this.arr[t]|r;return 2147483647===o?this.flz(t-1):i(2147483647^o)+t*h},BitSet.prototype._getWord=function(e){return e<0||e>this.MAX_BIT?-1:~~(e/h)},BitSet.prototype._doRange=function(e,t,n){var r,i,o,s;t<e&&(t^=e,e^=t,t^=e);var a=this._getWord(e),c=this._getWord(t);if(a===-1||c===-1)return!1;for(r=a;r<=c;r++)i=r===a?e%h:0,o=r===c?t%h:h-1,s=o-i+1,this.arr[r]=n(this.arr[r],s,i);return!0},BitSet.prototype._op=function(e,t){var n,r,i,o,s,a;if(r=this.arr,"number"==typeof e)a=this._getWord(e),s=this.clone(),a!==-1&&(s.arr[a]=t(r[a],1<<e%h));else for(i=e.arr,o=r.length,s=new BitSet(this.MAX_BIT+1),n=0;n<o;n++)s.arr[n]=t(r[n],i[n]);return s},"function"==typeof define&&define.amd?define([],function(){return BitSet}):"object"==typeof n&&(t.exports=BitSet)},{}],235:[function(e,t,n){function r(e){var t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}t.exports=r},{}],236:[function(e,t,n){function r(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}t.exports=r},{}],237:[function(e,t,n){function r(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],c=t[6],u=t[7],l=t[8],h=t[9],d=t[10],f=t[11],p=t[12],m=t[13],y=t[14],v=t[15],g=n*a-r*s,b=n*c-i*s,E=n*u-o*s,_=r*c-i*a,w=r*u-o*a,x=i*u-o*c,S=l*m-h*p,k=l*y-d*p,O=l*v-f*p,I=h*y-d*m,T=h*v-f*m,A=d*v-f*y,C=g*A-b*T+E*I+_*O-w*k+x*S;return C?(C=1/C,e[0]=(a*A-c*T+u*I)*C,e[1]=(i*T-r*A-o*I)*C,e[2]=(m*x-y*w+v*_)*C,e[3]=(d*w-h*x-f*_)*C,e[4]=(c*O-s*A-u*k)*C,e[5]=(n*A-i*O+o*k)*C,e[6]=(y*E-p*x-v*b)*C,e[7]=(l*x-d*E+f*b)*C,e[8]=(s*T-a*O+u*S)*C,e[9]=(r*O-n*T-o*S)*C,e[10]=(p*w-m*E+v*g)*C,e[11]=(h*E-l*w-f*g)*C,e[12]=(a*k-s*I-c*S)*C,e[13]=(n*I-r*k+i*S)*C,e[14]=(m*b-p*_-y*g)*C,e[15]=(l*_-h*b+d*g)*C,e):null}t.exports=r},{}],238:[function(e,t,n){function r(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],s=t[5],a=t[6],c=t[7],u=t[8],l=t[9],h=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+u*r,e[5]=s*i+l*r,e[6]=a*i+h*r,e[7]=c*i+d*r,e[8]=u*i-o*r,e[9]=l*i-s*r,e[10]=h*i-a*r,e[11]=d*i-c*r,e}t.exports=r},{}],239:[function(e,t,n){function r(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],s=t[1],a=t[2],c=t[3],u=t[8],l=t[9],h=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-u*r,e[1]=s*i-l*r,e[2]=a*i-h*r,e[3]=c*i-d*r,e[8]=o*r+u*i,e[9]=s*r+l*i,e[10]=a*r+h*i,e[11]=c*r+d*i,e}t.exports=r},{}],240:[function(e,t,n){function r(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],s=t[1],a=t[2],c=t[3],u=t[4],l=t[5],h=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+u*r,e[1]=s*i+l*r,e[2]=a*i+h*r,e[3]=c*i+d*r,e[4]=u*i-o*r,e[5]=l*i-s*r,e[6]=h*i-a*r,e[7]=d*i-c*r,e}t.exports=r},{}],241:[function(e,t,n){function r(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}t.exports=r},{}],242:[function(e,t,n){function r(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],o=t[6],s=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=i,e[13]=s,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}t.exports=r},{}],243:[function(e,t,n){"use strict";function r(e){n.ARRAY_TYPE=a=e}function i(e){return e*u}function o(e,t){return Math.abs(e-t)<=s*Math.max(1,Math.abs(e),Math.abs(t))}Object.defineProperty(n,"__esModule",{value:!0}),n.setMatrixArrayType=r,n.toRadian=i,n.equals=o,n.RANDOM=n.ARRAY_TYPE=n.EPSILON=void 0;var s=1e-6;n.EPSILON=s;var a="undefined"!=typeof Float32Array?Float32Array:Array;n.ARRAY_TYPE=a;var c=Math.random;n.RANDOM=c;var u=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)})},{}],244:[function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{"default":e};var t=i();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=e[s]}return n["default"]=e,t&&t.set(e,n),n}function s(){var e=new Z.ARRAY_TYPE(16);return Z.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function a(e){var t=new Z.ARRAY_TYPE(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function c(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function u(e,t,n,r,i,o,s,a,c,u,l,h,d,f,p,m){var y=new Z.ARRAY_TYPE(16);return y[0]=e,y[1]=t,y[2]=n,y[3]=r,y[4]=i,y[5]=o,y[6]=s,y[7]=a,y[8]=c,y[9]=u,y[10]=l,y[11]=h,y[12]=d,y[13]=f,y[14]=p,y[15]=m,y}function l(e,t,n,r,i,o,s,a,c,u,l,h,d,f,p,m,y){
return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=s,e[6]=a,e[7]=c,e[8]=u,e[9]=l,e[10]=h,e[11]=d,e[12]=f,e[13]=p,e[14]=m,e[15]=y,e}function h(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function d(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],o=t[6],s=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=i,e[13]=s,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function f(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],c=t[6],u=t[7],l=t[8],h=t[9],d=t[10],f=t[11],p=t[12],m=t[13],y=t[14],v=t[15],g=n*a-r*s,b=n*c-i*s,E=n*u-o*s,_=r*c-i*a,w=r*u-o*a,x=i*u-o*c,S=l*m-h*p,k=l*y-d*p,O=l*v-f*p,I=h*y-d*m,T=h*v-f*m,A=d*v-f*y,C=g*A-b*T+E*I+_*O-w*k+x*S;return C?(C=1/C,e[0]=(a*A-c*T+u*I)*C,e[1]=(i*T-r*A-o*I)*C,e[2]=(m*x-y*w+v*_)*C,e[3]=(d*w-h*x-f*_)*C,e[4]=(c*O-s*A-u*k)*C,e[5]=(n*A-i*O+o*k)*C,e[6]=(y*E-p*x-v*b)*C,e[7]=(l*x-d*E+f*b)*C,e[8]=(s*T-a*O+u*S)*C,e[9]=(r*O-n*T-o*S)*C,e[10]=(p*w-m*E+v*g)*C,e[11]=(h*E-l*w-f*g)*C,e[12]=(a*k-s*I-c*S)*C,e[13]=(n*I-r*k+i*S)*C,e[14]=(m*b-p*_-y*g)*C,e[15]=(l*_-h*b+d*g)*C,e):null}function p(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],c=t[6],u=t[7],l=t[8],h=t[9],d=t[10],f=t[11],p=t[12],m=t[13],y=t[14],v=t[15];return e[0]=a*(d*v-f*y)-h*(c*v-u*y)+m*(c*f-u*d),e[1]=-(r*(d*v-f*y)-h*(i*v-o*y)+m*(i*f-o*d)),e[2]=r*(c*v-u*y)-a*(i*v-o*y)+m*(i*u-o*c),e[3]=-(r*(c*f-u*d)-a*(i*f-o*d)+h*(i*u-o*c)),e[4]=-(s*(d*v-f*y)-l*(c*v-u*y)+p*(c*f-u*d)),e[5]=n*(d*v-f*y)-l*(i*v-o*y)+p*(i*f-o*d),e[6]=-(n*(c*v-u*y)-s*(i*v-o*y)+p*(i*u-o*c)),e[7]=n*(c*f-u*d)-s*(i*f-o*d)+l*(i*u-o*c),e[8]=s*(h*v-f*m)-l*(a*v-u*m)+p*(a*f-u*h),e[9]=-(n*(h*v-f*m)-l*(r*v-o*m)+p*(r*f-o*h)),e[10]=n*(a*v-u*m)-s*(r*v-o*m)+p*(r*u-o*a),e[11]=-(n*(a*f-u*h)-s*(r*f-o*h)+l*(r*u-o*a)),e[12]=-(s*(h*y-d*m)-l*(a*y-c*m)+p*(a*d-c*h)),e[13]=n*(h*y-d*m)-l*(r*y-i*m)+p*(r*d-i*h),e[14]=-(n*(a*y-c*m)-s*(r*y-i*m)+p*(r*c-i*a)),e[15]=n*(a*d-c*h)-s*(r*d-i*h)+l*(r*c-i*a),e}function m(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],s=e[5],a=e[6],c=e[7],u=e[8],l=e[9],h=e[10],d=e[11],f=e[12],p=e[13],m=e[14],y=e[15],v=t*s-n*o,g=t*a-r*o,b=t*c-i*o,E=n*a-r*s,_=n*c-i*s,w=r*c-i*a,x=u*p-l*f,S=u*m-h*f,k=u*y-d*f,O=l*m-h*p,I=l*y-d*p,T=h*y-d*m;return v*T-g*I+b*O+E*k-_*S+w*x}function y(e,t,n){var r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],c=t[5],u=t[6],l=t[7],h=t[8],d=t[9],f=t[10],p=t[11],m=t[12],y=t[13],v=t[14],g=t[15],b=n[0],E=n[1],_=n[2],w=n[3];return e[0]=b*r+E*a+_*h+w*m,e[1]=b*i+E*c+_*d+w*y,e[2]=b*o+E*u+_*f+w*v,e[3]=b*s+E*l+_*p+w*g,b=n[4],E=n[5],_=n[6],w=n[7],e[4]=b*r+E*a+_*h+w*m,e[5]=b*i+E*c+_*d+w*y,e[6]=b*o+E*u+_*f+w*v,e[7]=b*s+E*l+_*p+w*g,b=n[8],E=n[9],_=n[10],w=n[11],e[8]=b*r+E*a+_*h+w*m,e[9]=b*i+E*c+_*d+w*y,e[10]=b*o+E*u+_*f+w*v,e[11]=b*s+E*l+_*p+w*g,b=n[12],E=n[13],_=n[14],w=n[15],e[12]=b*r+E*a+_*h+w*m,e[13]=b*i+E*c+_*d+w*y,e[14]=b*o+E*u+_*f+w*v,e[15]=b*s+E*l+_*p+w*g,e}function v(e,t,n){var r,i,o,s,a,c,u,l,h,d,f,p,m=n[0],y=n[1],v=n[2];return t===e?(e[12]=t[0]*m+t[4]*y+t[8]*v+t[12],e[13]=t[1]*m+t[5]*y+t[9]*v+t[13],e[14]=t[2]*m+t[6]*y+t[10]*v+t[14],e[15]=t[3]*m+t[7]*y+t[11]*v+t[15]):(r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],c=t[5],u=t[6],l=t[7],h=t[8],d=t[9],f=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=o,e[3]=s,e[4]=a,e[5]=c,e[6]=u,e[7]=l,e[8]=h,e[9]=d,e[10]=f,e[11]=p,e[12]=r*m+a*y+h*v+t[12],e[13]=i*m+c*y+d*v+t[13],e[14]=o*m+u*y+f*v+t[14],e[15]=s*m+l*y+p*v+t[15]),e}function g(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function b(e,t,n,r){var i,o,s,a,c,u,l,h,d,f,p,m,y,v,g,b,E,_,w,x,S,k,O,I,T=r[0],A=r[1],C=r[2],P=Math.hypot(T,A,C);return P<Z.EPSILON?null:(P=1/P,T*=P,A*=P,C*=P,i=Math.sin(n),o=Math.cos(n),s=1-o,a=t[0],c=t[1],u=t[2],l=t[3],h=t[4],d=t[5],f=t[6],p=t[7],m=t[8],y=t[9],v=t[10],g=t[11],b=T*T*s+o,E=A*T*s+C*i,_=C*T*s-A*i,w=T*A*s-C*i,x=A*A*s+o,S=C*A*s+T*i,k=T*C*s+A*i,O=A*C*s-T*i,I=C*C*s+o,e[0]=a*b+h*E+m*_,e[1]=c*b+d*E+y*_,e[2]=u*b+f*E+v*_,e[3]=l*b+p*E+g*_,e[4]=a*w+h*x+m*S,e[5]=c*w+d*x+y*S,e[6]=u*w+f*x+v*S,e[7]=l*w+p*x+g*S,e[8]=a*k+h*O+m*I,e[9]=c*k+d*O+y*I,e[10]=u*k+f*O+v*I,e[11]=l*k+p*O+g*I,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function E(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],s=t[5],a=t[6],c=t[7],u=t[8],l=t[9],h=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+u*r,e[5]=s*i+l*r,e[6]=a*i+h*r,e[7]=c*i+d*r,e[8]=u*i-o*r,e[9]=l*i-s*r,e[10]=h*i-a*r,e[11]=d*i-c*r,e}function _(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],s=t[1],a=t[2],c=t[3],u=t[8],l=t[9],h=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-u*r,e[1]=s*i-l*r,e[2]=a*i-h*r,e[3]=c*i-d*r,e[8]=o*r+u*i,e[9]=s*r+l*i,e[10]=a*r+h*i,e[11]=c*r+d*i,e}function w(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],s=t[1],a=t[2],c=t[3],u=t[4],l=t[5],h=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+u*r,e[1]=s*i+l*r,e[2]=a*i+h*r,e[3]=c*i+d*r,e[4]=u*i-o*r,e[5]=l*i-s*r,e[6]=h*i-a*r,e[7]=d*i-c*r,e}function x(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function S(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function k(e,t,n){var r,i,o,s=n[0],a=n[1],c=n[2],u=Math.hypot(s,a,c);return u<Z.EPSILON?null:(u=1/u,s*=u,a*=u,c*=u,r=Math.sin(t),i=Math.cos(t),o=1-i,e[0]=s*s*o+i,e[1]=a*s*o+c*r,e[2]=c*s*o-a*r,e[3]=0,e[4]=s*a*o-c*r,e[5]=a*a*o+i,e[6]=c*a*o+s*r,e[7]=0,e[8]=s*c*o+a*r,e[9]=a*c*o-s*r,e[10]=c*c*o+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function O(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function I(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function T(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function A(e,t,n){var r=t[0],i=t[1],o=t[2],s=t[3],a=r+r,c=i+i,u=o+o,l=r*a,h=r*c,d=r*u,f=i*c,p=i*u,m=o*u,y=s*a,v=s*c,g=s*u;return e[0]=1-(f+m),e[1]=h+g,e[2]=d-v,e[3]=0,e[4]=h-g,e[5]=1-(l+m),e[6]=p+y,e[7]=0,e[8]=d+v,e[9]=p-y,e[10]=1-(l+f),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function C(e,t){var n=new Z.ARRAY_TYPE(3),r=-t[0],i=-t[1],o=-t[2],s=t[3],a=t[4],c=t[5],u=t[6],l=t[7],h=r*r+i*i+o*o+s*s;return h>0?(n[0]=2*(a*s+l*r+c*o-u*i)/h,n[1]=2*(c*s+l*i+u*r-a*o)/h,n[2]=2*(u*s+l*o+a*i-c*r)/h):(n[0]=2*(a*s+l*r+c*o-u*i),n[1]=2*(c*s+l*i+u*r-a*o),n[2]=2*(u*s+l*o+a*i-c*r)),A(e,t,n),e}function P(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function M(e,t){var n=t[0],r=t[1],i=t[2],o=t[4],s=t[5],a=t[6],c=t[8],u=t[9],l=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(o,s,a),e[2]=Math.hypot(c,u,l),e}function R(e,t){var n=new Z.ARRAY_TYPE(3);M(n,t);var r=1/n[0],i=1/n[1],o=1/n[2],s=t[0]*r,a=t[1]*i,c=t[2]*o,u=t[4]*r,l=t[5]*i,h=t[6]*o,d=t[8]*r,f=t[9]*i,p=t[10]*o,m=s+l+p,y=0;return m>0?(y=2*Math.sqrt(m+1),e[3]=.25*y,e[0]=(h-f)/y,e[1]=(d-c)/y,e[2]=(a-u)/y):s>l&&s>p?(y=2*Math.sqrt(1+s-l-p),e[3]=(h-f)/y,e[0]=.25*y,e[1]=(a+u)/y,e[2]=(d+c)/y):l>p?(y=2*Math.sqrt(1+l-s-p),e[3]=(d-c)/y,e[0]=(a+u)/y,e[1]=.25*y,e[2]=(h+f)/y):(y=2*Math.sqrt(1+p-s-l),e[3]=(a-u)/y,e[0]=(d+c)/y,e[1]=(h+f)/y,e[2]=.25*y),e}function D(e,t,n,r){var i=t[0],o=t[1],s=t[2],a=t[3],c=i+i,u=o+o,l=s+s,h=i*c,d=i*u,f=i*l,p=o*u,m=o*l,y=s*l,v=a*c,g=a*u,b=a*l,E=r[0],_=r[1],w=r[2];return e[0]=(1-(p+y))*E,e[1]=(d+b)*E,e[2]=(f-g)*E,e[3]=0,e[4]=(d-b)*_,e[5]=(1-(h+y))*_,e[6]=(m+v)*_,e[7]=0,e[8]=(f+g)*w,e[9]=(m-v)*w,e[10]=(1-(h+p))*w,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function F(e,t,n,r,i){var o=t[0],s=t[1],a=t[2],c=t[3],u=o+o,l=s+s,h=a+a,d=o*u,f=o*l,p=o*h,m=s*l,y=s*h,v=a*h,g=c*u,b=c*l,E=c*h,_=r[0],w=r[1],x=r[2],S=i[0],k=i[1],O=i[2],I=(1-(m+v))*_,T=(f+E)*_,A=(p-b)*_,C=(f-E)*w,P=(1-(d+v))*w,M=(y+g)*w,R=(p+b)*x,D=(y-g)*x,F=(1-(d+m))*x;return e[0]=I,e[1]=T,e[2]=A,e[3]=0,e[4]=C,e[5]=P,e[6]=M,e[7]=0,e[8]=R,e[9]=D,e[10]=F,e[11]=0,e[12]=n[0]+S-(I*S+C*k+R*O),e[13]=n[1]+k-(T*S+P*k+D*O),e[14]=n[2]+O-(A*S+M*k+F*O),e[15]=1,e}function N(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],s=n+n,a=r+r,c=i+i,u=n*s,l=r*s,h=r*a,d=i*s,f=i*a,p=i*c,m=o*s,y=o*a,v=o*c;return e[0]=1-h-p,e[1]=l+v,e[2]=d-y,e[3]=0,e[4]=l-v,e[5]=1-u-p,e[6]=f+m,e[7]=0,e[8]=d+y,e[9]=f-m,e[10]=1-u-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function L(e,t,n,r,i,o,s){var a=1/(n-t),c=1/(i-r),u=1/(o-s);return e[0]=2*o*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*c,e[6]=0,e[7]=0,e[8]=(n+t)*a,e[9]=(i+r)*c,e[10]=(s+o)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=s*o*2*u,e[15]=0,e}function K(e,t,n,r,i){var o,s=1/Math.tan(t/2);return e[0]=s/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(o=1/(r-i),e[10]=(i+r)*o,e[14]=2*i*r*o):(e[10]=-1,e[14]=-2*r),e}function U(e,t,n,r){var i=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),s=Math.tan(t.leftDegrees*Math.PI/180),a=Math.tan(t.rightDegrees*Math.PI/180),c=2/(s+a),u=2/(i+o);return e[0]=c,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-((s-a)*c*.5),e[9]=(i-o)*u*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}function q(e,t,n,r,i,o,s){var a=1/(t-n),c=1/(r-i),u=1/(o-s);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*c,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+n)*a,e[13]=(i+r)*c,e[14]=(s+o)*u,e[15]=1,e}function j(e,t,n,r){var i,o,s,a,c,u,l,d,f,p,m=t[0],y=t[1],v=t[2],g=r[0],b=r[1],E=r[2],_=n[0],w=n[1],x=n[2];return Math.abs(m-_)<Z.EPSILON&&Math.abs(y-w)<Z.EPSILON&&Math.abs(v-x)<Z.EPSILON?h(e):(l=m-_,d=y-w,f=v-x,p=1/Math.hypot(l,d,f),l*=p,d*=p,f*=p,i=b*f-E*d,o=E*l-g*f,s=g*d-b*l,p=Math.hypot(i,o,s),p?(p=1/p,i*=p,o*=p,s*=p):(i=0,o=0,s=0),a=d*s-f*o,c=f*i-l*s,u=l*o-d*i,p=Math.hypot(a,c,u),p?(p=1/p,a*=p,c*=p,u*=p):(a=0,c=0,u=0),e[0]=i,e[1]=a,e[2]=l,e[3]=0,e[4]=o,e[5]=c,e[6]=d,e[7]=0,e[8]=s,e[9]=u,e[10]=f,e[11]=0,e[12]=-(i*m+o*y+s*v),e[13]=-(a*m+c*y+u*v),e[14]=-(l*m+d*y+f*v),e[15]=1,e)}function B(e,t,n,r){var i=t[0],o=t[1],s=t[2],a=r[0],c=r[1],u=r[2],l=i-n[0],h=o-n[1],d=s-n[2],f=l*l+h*h+d*d;f>0&&(f=1/Math.sqrt(f),l*=f,h*=f,d*=f);var p=c*d-u*h,m=u*l-a*d,y=a*h-c*l;return f=p*p+m*m+y*y,f>0&&(f=1/Math.sqrt(f),p*=f,m*=f,y*=f),e[0]=p,e[1]=m,e[2]=y,e[3]=0,e[4]=h*y-d*m,e[5]=d*p-l*y,e[6]=l*m-h*p,e[7]=0,e[8]=l,e[9]=h,e[10]=d,e[11]=0,e[12]=i,e[13]=o,e[14]=s,e[15]=1,e}function z(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function G(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function V(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function H(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function W(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}function Y(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e}function X(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function Q(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],c=e[6],u=e[7],l=e[8],h=e[9],d=e[10],f=e[11],p=e[12],m=e[13],y=e[14],v=e[15],g=t[0],b=t[1],E=t[2],_=t[3],w=t[4],x=t[5],S=t[6],k=t[7],O=t[8],I=t[9],T=t[10],A=t[11],C=t[12],P=t[13],M=t[14],R=t[15];return Math.abs(n-g)<=Z.EPSILON*Math.max(1,Math.abs(n),Math.abs(g))&&Math.abs(r-b)<=Z.EPSILON*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(i-E)<=Z.EPSILON*Math.max(1,Math.abs(i),Math.abs(E))&&Math.abs(o-_)<=Z.EPSILON*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(s-w)<=Z.EPSILON*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(a-x)<=Z.EPSILON*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(c-S)<=Z.EPSILON*Math.max(1,Math.abs(c),Math.abs(S))&&Math.abs(u-k)<=Z.EPSILON*Math.max(1,Math.abs(u),Math.abs(k))&&Math.abs(l-O)<=Z.EPSILON*Math.max(1,Math.abs(l),Math.abs(O))&&Math.abs(h-I)<=Z.EPSILON*Math.max(1,Math.abs(h),Math.abs(I))&&Math.abs(d-T)<=Z.EPSILON*Math.max(1,Math.abs(d),Math.abs(T))&&Math.abs(f-A)<=Z.EPSILON*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(p-C)<=Z.EPSILON*Math.max(1,Math.abs(p),Math.abs(C))&&Math.abs(m-P)<=Z.EPSILON*Math.max(1,Math.abs(m),Math.abs(P))&&Math.abs(y-M)<=Z.EPSILON*Math.max(1,Math.abs(y),Math.abs(M))&&Math.abs(v-R)<=Z.EPSILON*Math.max(1,Math.abs(v),Math.abs(R))}Object.defineProperty(n,"__esModule",{value:!0}),n.create=s,n.clone=a,n.copy=c,n.fromValues=u,n.set=l,n.identity=h,n.transpose=d,n.invert=f,n.adjoint=p,n.determinant=m,n.multiply=y,n.translate=v,n.scale=g,n.rotate=b,n.rotateX=E,n.rotateY=_,n.rotateZ=w,n.fromTranslation=x,n.fromScaling=S,n.fromRotation=k,n.fromXRotation=O,n.fromYRotation=I,n.fromZRotation=T,n.fromRotationTranslation=A,n.fromQuat2=C,n.getTranslation=P,n.getScaling=M,n.getRotation=R,n.fromRotationTranslationScale=D,n.fromRotationTranslationScaleOrigin=F,n.fromQuat=N,n.frustum=L,n.perspective=K,n.perspectiveFromFieldOfView=U,n.ortho=q,n.lookAt=j,n.targetTo=B,n.str=z,n.frob=G,n.add=V,n.subtract=H,n.multiplyScalar=W,n.multiplyScalarAndAdd=Y,n.exactEquals=X,n.equals=Q,n.sub=n.mul=void 0;var Z=o(e(243)),J=y;n.mul=J;var $=H;n.sub=$},{243:243}],245:[function(e,t,n){function r(){var e=new Float32Array(3);return e[0]=0,e[1]=0,e[2]=0,e}t.exports=r},{}],246:[function(e,t,n){function r(e,t,n){var r=t[0],i=t[1],o=t[2],s=n[0],a=n[1],c=n[2];return e[0]=i*c-o*a,e[1]=o*s-r*c,e[2]=r*a-i*s,e}t.exports=r},{}],247:[function(e,t,n){function r(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}t.exports=r},{}],248:[function(e,t,n){function r(e,t,n){var r=new Float32Array(3);return r[0]=e,r[1]=t,r[2]=n,r}t.exports=r},{}],249:[function(e,t,n){function r(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}t.exports=r},{}],250:[function(e,t,n){function r(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o),e}t.exports=r},{}],251:[function(e,t,n){function r(){var e=new Float32Array(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}t.exports=r},{}],252:[function(e,t,n){function r(e,t,n,r){var i=new Float32Array(4);return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}t.exports=r},{}],253:[function(e,t,n){function r(e,t,n){var r=t[0],i=t[1],o=t[2],s=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*s,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*s,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*s,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*s,e}t.exports=r},{}],254:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(56).EventEmitterMicro,f="function"==typeof HTMLImageElement.prototype.decode,p=function(e){function t(e){var n;i(this,t),n=a(this,u(t).call(this)),n.friendlyName="ImageSequencePlayer",n.desiredIndex=0,n.displayIndex=-1,n.numImages=e.numImages,n.numPadding=e.numPadding,n.images=new Array(n.numImages),n.retinaScale=1,n.canvas=null,n.ctx=null;var r="";return e.retina&&e.retina===e.viewport&&(r="_2x"),n.baseUrl="/105/media/us/ipad-pro/2020/7be9ce7b-fa4e-4f54-968b-4a7687066ed8/anim/depth-sensor/".concat(e.viewport).concat(r,"/").concat(e.viewport).concat(r),n.setup(),n}return l(t,e),s(t,[{key:"setup",value:function(){var e=this;this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d",{alpha:!0}),this.once(t.FIRST_IMAGE_LOADED,function(t){return e.setSize(t.naturalWidth,t.naturalHeight)})}},{key:"splitArray",value:function(e,t,n){var r=Math.floor(t.length/2),i=t[r],o=e[i];e[i]={value:o,bucket:n};var s=t.slice(0,r),a=t.slice(r+1);return s.length&&this.splitArray(e,s,n+1),a.length&&this.splitArray(e,a,n+1),e}},{key:"loadImages",value:function(){var e=this;if(!this.buckets){for(var t=[],n=0;n<this.numImages;n++)t.push(n);var r=this.splitArray(t,t,0);this.buckets=[],r.forEach(function(t){e.buckets[t.bucket]=e.buckets[t.bucket]||[],e.buckets[t.bucket].push(t.value)}),this.firstImageLoaded=!1,this.canPlayThrough=!1,this.loadImage(0),this.loadImage(this.numImages-1),this.loadbucket()}}},{key:"loadImage",value:function(e,n){var r=this;if(this.images[e])return void(n&&n());var i=new Image,o=function a(){n&&n(),i.removeEventListener("load",a),r.firstImageLoaded||(r.firstImageLoaded=!0,r.trigger(t.FIRST_IMAGE_LOADED,i)),r.images[e]=i},s=String(e).padStart(this.numPadding,"0");i.src="".concat(this.baseUrl,"_").concat(s,".jpg"),i.index=e,f?i.decode().then(o)["catch"](function(e){return console.error}):i.addEventListener("load",o)}},{key:"loadbucket",value:function(){var e=this;if(this.inLoadArea){var n=this.buckets.shift();if(!n)return this.canPlayThrough=!0,void this.trigger(t.LOADING_COMPLETE);var r=[];n.forEach(function(t){var n=new Promise(function(n,r){e.loadImage(t,n)});r.push(n)}),Promise.all(r).then(this.loadbucket.bind(this))}}},{key:"renderIndex",value:function(e){if(this.images[e])return void this.drawImage(e);for(var t=Number.MAX_SAFE_INTEGER,n=e;n>0;n--)if(this.images[n]){t=n;break}for(var r=Number.MAX_SAFE_INTEGER,i=e;i<this.images.length;i++)if(this.images[i]){r=i;break}this.images[t]&&Math.abs(e-t)<=Math.abs(e-r)?this.drawImage(t):this.images[r]&&this.drawImage(r)}},{key:"drawImage",value:function(e){this.displayIndex=e,this.ctx.drawImage(this.images[this.displayIndex],0,0)}},{key:"setSize",value:function(e,t){this.canvas.width=e*this.retinaScale,this.canvas.height=t*this.retinaScale}},{key:"percent",get:function(){return this.desiredIndex/this.images.length},set:function(e){this.desiredIndex=Math.round(e*this.images.length),this.renderIndex(this.desiredIndex)}}]),t}(d);p.FIRST_IMAGE_LOADED="FIRST_IMAGE_LOADED",p.LOADING_COMPLETE="LOADING_COMPLETE",p.CAN_PLAY_THROUGH="CAN_PLAY_THROUGH",t.exports=p},{56:56}],255:[function(e,t,n){"use strict";t.exports=function(e){return{X:"xlarge",L:"large",M:"medium",S:"small"}[e]}},{}],256:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(168),f=e(147),p=e(135),m=e(290),y=function(e){function t(e){var n;i(this,t),n=a(this,u(t).call(this,e));var r=getComputedStyle(document.documentElement);return n.breakpoints={L:parseInt(r.getPropertyValue("--viewport-medium"))+1,M:parseInt(r.getPropertyValue("--viewport-small"))+1},n._pageMetrics=e.pageMetrics,n.currentBreakpoint=e.pageMetrics.breakpoint,n.overflowContainer=n.el.querySelector(".sticky-overflow"),n.cursor=n.el.querySelector(".cursor"),n.dock=n.el.querySelector(".dock"),n.imageDock=n.el.querySelector(".image-dock-bg"),n.imageScreen=n.el.querySelector(".image-screen"),n.ipadosBg=n.el.querySelector(".image-bg"),n.ipadosBgBlur=n.el.querySelector(".image-bg-blur"),n.photosIcon=n.el.querySelector(".image-icon-photos"),n.calendarIcon=n.el.querySelector(".image-icon-calendar"),n.notesIcon=n.el.querySelector(".image-icon-notes"),n.svg=n.el.querySelector("svg"),n.path=n.el.querySelector("path"),n.startOffset=JSON.parse(n.cursor.getAttribute("data-start-offset")),n.endOffset=JSON.parse(n.cursor.getAttribute("data-end-offset")),n.headlineContainer=n.el.querySelector(".cursor-headline"),n.cursorCopyContainer=n.el.querySelector(".cursor-copy"),n.deviceContainer=n.el.querySelector(".device-container"),n.screenContainer=n.el.querySelector(".screen-container"),n.sectionElem=document.querySelector(".section-ipados"),n.previousSectionElem=document.querySelector(".section-magic-keyboard"),n.rightScreenVideo=n.el.querySelector(".inline-video-screen.right"),n.snipeAppears=n.el.querySelector(".snipes-ipados .image-snipe-appears"),n.snipeAdapts=n.el.querySelector(".snipes-ipados .image-snipe-adapts"),n.snipeEdits=n.el.querySelector(".snipes-ipados .image-snipe-edits"),n.imageHeightScale=77.3,n.imageWidthScale=81.4,n.translateXScale=.5/14.36,n.translateYScale=84.5/11.32,n.hardwareInitialScale="S"===n.currentBreakpoint?.4:.8,n.hardwareInitialY=(100-100*n.hardwareInitialScale)/2,n.baseExpression="a0t + 60vh",n.cursorWidth={L:13,M:10,S:8},n}return l(t,e),s(t,[{key:"createCopyKf",value:function(e){this.addKeyframe({el:this.cursor,group:this.group,start:"".concat(this.baseExpression),end:"".concat(this.baseExpression," + 40vh"),anchors:[this.sectionElem],x:[e[this.inlineEnd]+this.startOffset[this.currentBreakpoint].x,e[this.inlineEnd]+this.startOffset[this.currentBreakpoint].x],y:[e.bottom+this.startOffset[this.currentBreakpoint].y,e.bottom+this.startOffset[this.currentBreakpoint].y]}),this.addKeyframe({el:this.headlineContainer,group:this.group,start:"".concat(this.baseExpression," + 45vh"),anchors:[this.sectionElem],cssClass:"fade-out",toggle:!0}),this.addKeyframe({el:this.cursorCopyContainer,group:this.group,start:"".concat(this.baseExpression," + 180vh - 100h"),end:"".concat(this.baseExpression," + 180vh + 100h"),anchors:[this.sectionElem],y:["100h","-100h"]})}},{key:"createSVG",value:function(e,t){var n=e[this.inlineEnd]+this.startOffset[this.currentBreakpoint].x,r=e.bottom+this.startOffset[this.currentBreakpoint].y,i=t[this.inlineEnd]+this.endOffset.x,o=t.top+t.height/2+this.endOffset.y,s={L:{x:Math.min(100+this._pageMetrics.windowWidth-this.breakpoints.L,200)*this.direction,y:-70},M:{x:Math.min(100+this._pageMetrics.windowWidth-this.breakpoints.M,200)*this.direction,y:-70},S:{x:100*this.direction,y:-80}},a={L:{x:Math.min(250+this._pageMetrics.windowWidth-this.breakpoints.L,350)*this.direction,y:200},M:{x:Math.min(50+this._pageMetrics.windowWidth-this.breakpoints.M,150)*this.direction,y:100},S:{x:80*this.direction,y:50}};this.svg.setAttribute("viewBox","0 0 ".concat(this._pageMetrics.windowWidth," ").concat(this._pageMetrics.windowHeight)),this.path.setAttribute("d","M".concat(n+this.cursorWidth[this.currentBreakpoint]/2,",").concat(r+this.cursorWidth[this.currentBreakpoint]/2," C").concat(n+s[this.currentBreakpoint].x,",").concat(r+s[this.currentBreakpoint].y," ").concat(i+a[this.currentBreakpoint].x,",").concat(o+a[this.currentBreakpoint].y," ").concat(i,",").concat(o+10)),this.pathLength=this.path.getTotalLength()}},{key:"createScaling",value:function(){this.addKeyframe({el:this.deviceContainer,group:this.group,start:"".concat(this.baseExpression," + 150vh"),end:"".concat(this.baseExpression," + 180vh"),anchors:[this.sectionElem],scale:["max(100vh/".concat(this.imageHeightScale,"h, 100vw/").concat(this.imageWidthScale,"w)"),this.hardwareInitialScale],x:["".concat(this.translateXScale,"w*max(100vh/").concat(this.imageHeightScale,"h, 100vw/").concat(this.imageWidthScale,"w)"),0],y:["".concat(this.translateYScale,"h*max(100vh/").concat(this.imageHeightScale,"h, 100vw/").concat(this.imageWidthScale,"w) + ").concat(this.offsetY),"-".concat(this.hardwareInitialY,"h - ").concat(this.offsetYSmall," - 50")],easeFunction:"easeOutSin"}),this.addKeyframe({el:this.ipadosBgBlur,group:this.group,start:"".concat(this.baseExpression," + 140vh"),end:"".concat(this.baseExpression," + 160vh"),anchors:[this.sectionElem],opacity:[0,.99],easeFunction:"easeOutQuad"})}},{key:"createCursorAnimations",value:function(e,t,n){var r=this;this.addKeyframe({el:this.cursor,group:this.group,start:"a0t",end:"a0t + 1vh",anchors:[this.sectionElem],opacity:[0,1]}),this.addKeyframe({el:this.cursor,group:this.group,start:"".concat(this.baseExpression," + 39vh"),end:"".concat(this.baseExpression," + 40vh"),scale:[1,1],anchors:[this.sectionElem]}),this.addContinuousEvent({el:this.cursor,group:this.group,event:"animate-cursor",start:"".concat(this.baseExpression," + 40vh"),end:"".concat(this.baseExpression," + 100vh"),anchors:[this.sectionElem],progress:[0,1],opacity:[1,.4],pathLength:[0,this.pathLength],onDraw:function(e){var t=e.tweenProps.progress.current,n=r.path.getPointAtLength(e.tweenProps.pathLength.current);r.cursor.style.transform="translate(".concat(n.x-r.cursorWidth[r.currentBreakpoint]/2,"px, ").concat(n.y-r.cursorWidth[r.currentBreakpoint]/2,"px) scale(").concat(Math.min(1+t,1.5),")")}}),this.addKeyframe({el:this.cursor,group:this.group,start:"".concat(this.baseExpression," + 140vh"),cssClass:"hide",toggle:!0,anchors:[this.sectionElem]}),this.addContinuousEvent({el:this.cursor,group:this.group,event:"morph-cursor",start:"".concat(this.baseExpression," + 108vh"),end:"".concat(this.baseExpression," + 110vh"),anchors:[this.sectionElem],radius:[50,22],onDraw:function(e){r.cursor.style.borderRadius="".concat(Math.round(e.tweenProps.radius.current),"%")}}),this.addKeyframe({el:this.cursor,group:this.group,start:"".concat(this.baseExpression," + 100vh"),end:"".concat(this.baseExpression," + 140vh"),anchors:[this.sectionElem],cssClass:"shadow",toggle:!0});var i=this.path.getPointAtLength(this.pathLength);this.addKeyframe({el:this.cursor,group:this.group,start:"".concat(this.baseExpression," + 100vh"),end:"".concat(this.baseExpression," + 110vh"),x:[i.x-this.cursorWidth[this.currentBreakpoint]/2,e.left+e.width/2-this.cursorWidth[this.currentBreakpoint]/2],y:[i.y-this.cursorWidth[this.currentBreakpoint]/2,e.top+e.height/2-this.cursorWidth[this.currentBreakpoint]/2],anchors:[this.sectionElem]}),this.addKeyframe({el:this.cursor,group:this.group,start:"".concat(this.baseExpression," + 105vh"),end:"".concat(this.baseExpression," + 110vh"),scale:[1.5,"110a1w/w"],opacity:[.4,.2],anchors:[this.sectionElem,this.notesIcon]}),this.addKeyframe({el:this.cursor,group:this.group,start:"".concat(this.baseExpression," + 110vh"),end:"".concat(this.baseExpression," + 115vh"),x:[e.left+e.width/2-this.cursorWidth[this.currentBreakpoint]/2,e.left+e.width/2-this.cursorWidth[this.currentBreakpoint]/2-5*this.direction],anchors:[this.sectionElem]}),this.addKeyframe({el:this.cursor,group:this.group,start:"".concat(this.baseExpression," + 115vh"),end:"".concat(this.baseExpression," + 120vh"),x:[n.left+n.width/2-this.cursorWidth[this.currentBreakpoint]/2,n.left+n.width/2-this.cursorWidth[this.currentBreakpoint]/2],scale:["a1w/w","110a1w/w"],anchors:[this.sectionElem,this.photosIcon]}),this.addKeyframe({el:this.cursor,group:this.group,start:"".concat(this.baseExpression," + 120vh"),end:"".concat(this.baseExpression," + 125vh"),x:[n.left+n.width/2-this.cursorWidth[this.currentBreakpoint]/2,n.left+n.width/2-this.cursorWidth[this.currentBreakpoint]/2-5*this.direction],anchors:[this.sectionElem]}),this.addKeyframe({el:this.cursor,group:this.group,start:"".concat(this.baseExpression," + 125vh"),end:"".concat(this.baseExpression," + 130vh"),x:[t.left+t.width/2-this.cursorWidth[this.currentBreakpoint]/2,t.left+t.width/2-this.cursorWidth[this.currentBreakpoint]/2],scale:["a1w/w","110a1w/w"],anchors:[this.sectionElem,this.calendarIcon]}),this.addKeyframe({el:this.cursor,group:this.group,start:"".concat(this.baseExpression," + 135vh"),end:"".concat(this.baseExpression," + 140vh"),scale:["110a1w/w","a1w/w"],anchors:[this.sectionElem,this.calendarIcon]}),this.addDiscreteEvent({el:this.cursor,group:this.group,event:"switch-cursor-color",start:"".concat(this.baseExpression," + 135vh"),anchors:[this.sectionElem],onEvent:function(e){r.cursor.style.backgroundColor="#000000"},onEventReverse:function(e){r.cursor.style.backgroundColor="#ffffff"}})}},{key:"createDockAnimations",value:function(){this.addKeyframe({el:this.imageDock,group:this.group,start:"".concat(this.baseExpression," + 90vh"),end:"".concat(this.baseExpression," + 100vh"),anchors:[this.sectionElem],y:[130,0]}),this.addKeyframe({el:this.photosIcon,group:this.group,start:"".concat(this.baseExpression," + 90vh"),end:"".concat(this.baseExpression," + 100vh"),anchors:[this.sectionElem],y:[130,0]}),this.addKeyframe({el:this.calendarIcon,group:this.group,start:"".concat(this.baseExpression," + 90vh"),end:"".concat(this.baseExpression," + 100vh"),anchors:[this.sectionElem],y:[130,0]}),this.addKeyframe({el:this.notesIcon,group:this.group,start:"".concat(this.baseExpression," + 90vh"),end:"".concat(this.baseExpression," + 100vh"),anchors:[this.sectionElem],y:[130,0]}),this.addKeyframe({el:this.imageDock,group:this.group,start:"".concat(this.baseExpression," + 140vh"),end:"".concat(this.baseExpression," + 150vh"),anchors:[this.sectionElem],y:[0,130]}),this.addKeyframe({el:this.dock,group:this.group,start:"".concat(this.baseExpression," + 160vh"),anchors:[this.sectionElem],cssClass:"hide",toggle:!0}),this.addKeyframe({el:this.photosIcon,group:this.group,start:"".concat(this.baseExpression," + 140vh"),end:"".concat(this.baseExpression," + 150vh"),anchors:[this.sectionElem],y:[0,130]}),this.addKeyframe({el:this.notesIcon,group:this.group,start:"".concat(this.baseExpression," + 140vh"),end:"".concat(this.baseExpression," + 150vh"),anchors:[this.sectionElem],
y:[0,130]})}},{key:"createIconAnimations",value:function(){this.addKeyframe({el:this.notesIcon,group:this.group,start:"".concat(this.baseExpression," + 100vh"),end:"".concat(this.baseExpression," + 110vh"),anchors:[this.sectionElem],scale:[1,1.1]}),this.addKeyframe({el:this.notesIcon,group:this.group,start:"".concat(this.baseExpression," + 110vh"),end:"".concat(this.baseExpression," + 115vh"),anchors:[this.sectionElem],x:[0,-5*this.direction]}),this.addKeyframe({el:this.notesIcon,group:this.group,start:"".concat(this.baseExpression," + 115vh"),end:"".concat(this.baseExpression," + 120vh"),anchors:[this.sectionElem],x:[-5*this.direction,0],scale:[1.1,1]}),this.addKeyframe({el:this.photosIcon,group:this.group,start:"".concat(this.baseExpression," + 115vh"),end:"".concat(this.baseExpression," + 120vh"),anchors:[this.sectionElem],scale:[1,1.1]}),this.addKeyframe({el:this.photosIcon,group:this.group,start:"".concat(this.baseExpression," + 120vh"),end:"".concat(this.baseExpression," + 125vh"),anchors:[this.sectionElem],x:[0,-5*this.direction]}),this.addKeyframe({el:this.photosIcon,group:this.group,start:"".concat(this.baseExpression," + 125vh"),end:"".concat(this.baseExpression," + 130vh"),anchors:[this.sectionElem],x:[-5*this.direction,0],scale:[1.1,1]}),this.addKeyframe({el:this.calendarIcon,group:this.group,start:"".concat(this.baseExpression," + 125vh"),end:"".concat(this.baseExpression," + 130vh"),anchors:[this.sectionElem],scale:[1,1.1]}),this.addKeyframe({el:this.calendarIcon,group:this.group,start:"".concat(this.baseExpression," + 135vh"),end:"".concat(this.baseExpression," + 140vh"),anchors:[this.sectionElem],scale:[1.1,1]})}},{key:"createScreenAnimations",value:function(e,t){var n=this;this.addKeyframe({el:this.screenContainer,group:this.group,start:"".concat(this.baseExpression," + 140vh"),end:"".concat(this.baseExpression," + 150vh"),anchors:[this.sectionElem],opacity:[0,1]});var r="S"===this.currentBreakpoint?3:7,i=e.x+e.width/2-t.x-t.width/2-this.translateXScale*this.deviceContainer.offsetWidth/100,o=e.y+e.height/2-t.y-t.height/2-this.translateYScale*this.deviceContainer.offsetHeight/100,s="max(100vh/".concat(this.imageHeightScale,"a1h, 100vw/").concat(this.imageWidthScale,"a1w)");this.addKeyframe({el:this.screenContainer,group:this.group,start:"".concat(this.baseExpression," + 140vh"),end:"".concat(this.baseExpression," + 150vh"),anchors:[this.sectionElem,this.deviceContainer],x:["".concat(i,"/").concat(s),"".concat(i,"/").concat(s)],y:["".concat(o-this.offsetY,"/").concat(s),"(".concat(o-this.offsetY," - ").concat(.4*r*e.height,")/").concat(s)],scaleX:["".concat(e.width/t.width,"/").concat(s),"".concat(r," * ").concat(e.width/t.width,"/").concat(s)],scaleY:["".concat(e.height/t.height,"/").concat(s),"".concat(r," * ").concat(e.height/t.height,"/").concat(s)]}),this.addKeyframe({el:this.screenContainer,group:this.group,start:"".concat(this.baseExpression," + 150vh"),end:"".concat(this.baseExpression," + 180vh"),anchors:[this.sectionElem,this.deviceContainer],x:["".concat(i,"/").concat(s),0],y:["(".concat(o-this.offsetY," - ").concat(.4*r*e.height,"px)/").concat(s),0],scaleX:["".concat(r," * ").concat(e.width/t.width,"/").concat(s),1],scaleY:["".concat(r," * ").concat(e.height/t.height,"/").concat(s),1],easeFunction:"easeOutSin"}),this.addContinuousEvent({el:this.screenContainer,group:this.group,event:"screen-border-radius",start:"".concat(this.baseExpression," + 150vh"),end:"".concat(this.baseExpression," + 180vh"),anchors:[this.sectionElem],radiusX:["css(--ipados-border-radius-x)",10],radiusY:["css(--ipados-border-radius-y)",10],easeFunction:"easeOutQuad",onDraw:function(e){n.screenContainer.style.borderRadius="".concat(Math.round(e.tweenProps.radiusX.current),"px/").concat(Math.round(e.tweenProps.radiusY.current),"px")}}),this.addKeyframe({el:this.calendarIcon,group:this.group,start:"".concat(this.baseExpression," + 140vh"),end:"".concat(this.baseExpression," + 150vh"),anchors:[this.sectionElem],scale:[1,r],y:[0,"-".concat(40*r,"h")]}),this.addKeyframe({el:this.calendarIcon,group:this.group,start:"".concat(this.baseExpression," + 145vh"),end:"".concat(this.baseExpression," + 150vh"),anchors:[this.sectionElem],opacity:[1,0]}),this.addKeyframe({el:this.deviceContainer,group:this.group,start:"".concat(this.baseExpression," + 180vh + 50"),end:"".concat(this.baseExpression," + 180vh + 100a1h"),anchors:[this.sectionElem,this.cursorCopyContainer],scale:[this.hardwareInitialScale,1.1],x:[0,"-34.5w"],y:[null,"css(--ipados-padding-top) - a1h + 5h"],easeFunction:"easeOutSin",breakpointMask:"XL"}),this.addKeyframe({el:this.deviceContainer,group:this.group,start:"".concat(this.baseExpression," + 180vh + 50"),end:"".concat(this.baseExpression," + 180vh + 100a1h"),anchors:[this.sectionElem,this.cursorCopyContainer],scale:[this.hardwareInitialScale,1.1],x:[0,"-34.5w"],y:[null,"clamp(50vh - 50h, css(--ipados-padding-top), 50vh) - a1h + 5h"],easeFunction:"easeOutSin",breakpointMask:"M"}),this.addKeyframe({el:this.deviceContainer,group:this.group,start:"".concat(this.baseExpression," + 180vh + (100a1h - 100vh + 40h + 50)"),end:"".concat(this.baseExpression," + 180vh + 100a1h"),anchors:[this.sectionElem,this.cursorCopyContainer],scale:[this.hardwareInitialScale,1.1],x:[0,"-34.5w"],y:[null,"css(--ipados-padding-top) - a1h + 5h"],easeFunction:"easeOutSin",breakpointMask:"S"}),this.addKeyframe({el:this.rightScreenVideo,group:this.group,start:"".concat(this.baseExpression," + 375vh"),anchors:[this.sectionElem],cssClass:"hide",toggle:!0}),this.addKeyframe({el:this.deviceContainer,group:this.group,start:"".concat(this.baseExpression," + 350vh"),end:"".concat(this.baseExpression," + 400vh"),anchors:[this.sectionElem],x:["-34.5w","34.5w"],easeFunction:"easeInOutSin"})}},{key:"createSnipeTriggerKeyframes",value:function(){this.addKeyframe({el:this.snipeAppears,group:this.group,start:"".concat(this.baseExpression," + 180vh + 100a1h"),end:"".concat(this.baseExpression," + 350vh"),anchors:[this.sectionElem,this.cursorCopyContainer],y:[50,-100],breakpointMask:"XL"}),this.addKeyframe({el:this.snipeAdapts,group:this.group,start:"".concat(this.baseExpression," + 400vh"),end:"".concat(this.baseExpression," + 510vh"),anchors:[this.sectionElem],y:[50,-50],breakpointMask:"XLM"}),this.addKeyframe({el:this.snipeEdits,group:this.group,start:"".concat(this.baseExpression," + 400vh"),end:"".concat(this.baseExpression," + 510vh"),anchors:[this.sectionElem],y:[50,-50],breakpointMask:"XLM"}),this.addKeyframe({el:this.snipeAppears,group:this.group,start:"".concat(this.baseExpression," + 180vh + 100a1h"),end:"".concat(this.baseExpression," + 350vh"),anchors:[this.sectionElem,this.cursorCopyContainer],y:[50,-50],breakpointMask:"M"}),this.addKeyframe({el:this.snipeAppears,group:this.group,start:"".concat(this.baseExpression," + 180vh + 100a1h"),end:"".concat(this.baseExpression," + 350vh"),anchors:[this.sectionElem,this.cursorCopyContainer],y:[20,-20],breakpointMask:"S"}),this.addKeyframe({el:this.snipeAdapts,group:this.group,start:"".concat(this.baseExpression," + 400vh"),end:"".concat(this.baseExpression," + 455vh"),anchors:[this.sectionElem],y:[20,-20],breakpointMask:"S"}),this.addKeyframe({el:this.snipeEdits,group:this.group,start:"".concat(this.baseExpression," + 455vh"),end:"".concat(this.baseExpression," + 510vh"),anchors:[this.sectionElem],y:[20,-20],breakpointMask:"S"}),this.addKeyframe({el:this.snipeAppears,group:this.group,start:"".concat(this.baseExpression," + 180vh + 100a1h"),end:"".concat(this.baseExpression," + 350vh"),anchors:[this.sectionElem,this.cursorCopyContainer],cssClass:"fade-in",toggle:!0}),this.addKeyframe({el:this.snipeAppears,group:this.group,start:"".concat(this.baseExpression," + 180vh + 100a1h"),end:"".concat(this.baseExpression," + 350vh"),anchors:[this.sectionElem,this.cursorCopyContainer],cssClass:"animation-trigger",toggle:!0}),this.addKeyframe({el:this.snipeAdapts,group:this.group,start:"".concat(this.baseExpression," + 455vh"),end:"".concat(this.baseExpression," + 510vh"),anchors:[this.sectionElem],cssClass:"fade-in",toggle:!0,breakpointMask:"XLM"}),this.addKeyframe({el:this.snipeEdits,group:this.group,start:"".concat(this.baseExpression," + 400vh"),end:"".concat(this.baseExpression," + 510vh"),anchors:[this.sectionElem],cssClass:"fade-in",toggle:!0,breakpointMask:"XLM"}),this.addKeyframe({el:this.snipeAdapts,group:this.group,start:"".concat(this.baseExpression," + 400vh"),end:"".concat(this.baseExpression," + 455vh"),anchors:[this.sectionElem],cssClass:"fade-in",toggle:!0,breakpointMask:"S"}),this.addKeyframe({el:this.snipeEdits,group:this.group,start:"".concat(this.baseExpression," + 455vh"),end:"".concat(this.baseExpression," + 510vh"),anchors:[this.sectionElem],cssClass:"fade-in",toggle:!0,breakpointMask:"S"})}},{key:"updateMargins",value:function(){var e=1.1*this.deviceContainer.offsetHeight,t=152,n=Math.max(e+t-this._pageMetrics.windowHeight,0);this.overflowContainer.style.paddingBottom="".concat(n,"px"),this.sectionElem.style.marginBottom="".concat(n,"px"),this.dock.style.bottom="".concat(n+15,"px"),this.anim.forceUpdate()}},{key:"clearMargins",value:function(){this.overflowContainer.style.paddingBottom=null,this.sectionElem.style.marginBottom=null,this.dock.style.bottom=null}},{key:"init",value:function(){this.group=f.createScrollGroup(this.el),this.group.name="Cursor",this.sectionRect=this.sectionElem.getBoundingClientRect(),this.sectionVH=this.sectionRect.height/this._pageMetrics.windowHeight,this.isRTL="rtl"===document.documentElement.getAttribute("dir"),this.inlineEnd=this.isRTL?"left":"right",this.inlineStart=this.isRTL?"right":"left",this.direction=this.isRTL?-1:1;var e=this.stickyBoundingBox(this.deviceContainer.getBoundingClientRect()),t=this.stickyBoundingBox(this.photosIcon.getBoundingClientRect()),n=this.stickyBoundingBox(this.imageScreen.getBoundingClientRect()),r=this.stickyBoundingBox(this.headlineContainer.getBoundingClientRect()),i=this.stickyBoundingBox(this.notesIcon.getBoundingClientRect()),o=this.stickyBoundingBox(this.calendarIcon.getBoundingClientRect());this.offsetY=this._pageMetrics.windowHeight/2-(e.y+.5*e.height),this.offsetYSmall="S"===this.currentBreakpoint?e.y-(this._pageMetrics.windowHeight-.4*e.height):0,this.updateMargins(),this.createCopyKf(r),this.createSVG(r,i),this.createScaling(),this.createCursorAnimations(i,o,t),this.createIconAnimations(),this.createDockAnimations(),this.createScreenAnimations(o,n),this.createSnipeTriggerKeyframes()}},{key:"calculateOffset",value:function(e){var t=0;return t=this.sectionRect.y<-this.sectionRect.height*(this.sectionVH-1)/this.sectionVH?e.y-this.sectionRect.y-this.sectionRect.height+this._pageMetrics.windowHeight:this.sectionRect.y<0?e.y:e.y-this.sectionRect.y}},{key:"stickyBoundingBox",value:function(e){var t=this.calculateOffset(e);return{x:e.x,y:t,top:t,bottom:e.height+t,left:e.left,right:e.right,width:e.width,height:e.height}}},{key:"mounted",value:function(){var e=this;p(function(){e.init()}),m.swap(this,{toDark:{start:"a0b",end:"a1t + 210vh",anchors:[this.previousSectionElem,this.sectionElem]}}),this.anim.on("before-anim-remove",function(){p(function(){e.clearMargins()})})}},{key:"onResizeDebounced",value:function(e){var t=this;this.group.remove().then(function(){e.breakpoint===t.currentBreakpoint&&t.init()})["catch"](function(e){})}}],[{key:"IS_SUPPORTED",value:function(){return!document.documentElement.className.match(/(\sreduced-motion)|(\sie)|(\sno-overview-enhanced)/)}}]),t}(d);t.exports=y},{135:135,147:147,168:168,290:290}],257:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return a(e)||s(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function a(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function h(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=e(168),v=e(162),g=!1,b=function(e){function t(e){var n;return c(this,t),n=h(this,f(t).call(this,e)),n.options=e,n.numOfTransitions=0,n.mainTimeline={},n.scaleAppTimelines={},n.videoEl=n.el.querySelector("video"),n.endFrame=n.el.querySelector(".endframe"),n.deviceContainer=n.el.querySelector(".device-container"),n.contentTimeline=n.el.querySelector(".content-timeline.ar"),g=n.options.pageMetrics.windowWidth<736,n}return p(t,e),l(t,[{key:"mounted",value:function(){this._initAppSwitcherTimeline(),this._initCopyOpacity(),this._initCopyParallax(),this._setFixedPadding(this.options.pageMetrics)}},{key:"_initAppSwitcherTimeline",value:function(){var e=this,t=this.anim.createTimeGroup();t.name="Camera - AppSwitcher";var n=this.el.querySelector(".apps"),r=i(n.querySelectorAll(".screen"));this.numOfTransitions=r.length-1,this.videoFrame=0;var o="",s="",a=.2;this.chapters=[];var c=new Promise(function(i){for(var c=function(c){var u=.5,l=.6*u,h=.2,d=.2*u,f=l-2*d;o="".concat(c,"*100w + ").concat(c,"*10px"),s="(".concat(c,"+1) * 100w + (").concat(c,"+1)*10px"),t.addKeyframe(n,{start:a,end:a+l,x:[o,s]}),t.addKeyframe(r[c],{start:a,end:a+d,scale:[null,1]}),t.addKeyframe(r[c],{start:a+d+f,end:a+d+f+d,scale:[null,1]}),t.addKeyframe(r[c+1],{start:a,end:a+d,scale:[null,1]}),t.addKeyframe(r[c+1],{start:a+d+f,end:a+d+f+d,scale:[null,1]});var p=e.anim.createTimeGroup();p.name="app - ".concat(c);var m=p.addKeyframe({},{start:0,end:.8,progress:[a,a+l+h],easeFunction:"cubic-bezier(.56,.18,.58,.99)"});m.controller.on("draw",function(n){t.progress(n.tweenProps.progress.current),c===e.numOfTransitions-1&&i()}),e.chapters.push(p),a=a+l+h},u=0;u<e.numOfTransitions;u++)c(u)});c.then(function(){t.progress(0)})}},{key:"_initCopyOpacity",value:function(){var e=this;this.copyBlocks=i(this.el.querySelectorAll(".section-content .content-timeline .copy-wrap .feature-copyblock"));var t;this.copyBlocks.forEach(function(n,r){0!=r&&(e.addKeyframe({el:n.parentElement,start:"t - css(--content-timeline-height) - css(--localnav-height)",end:"t - css(--localnav-height) + 50h",cssClass:"fade-in",toggle:!0,anchors:[n]}),e.addDiscreteEvent({el:n.parentElement,start:"t - css(--content-timeline-height) - css(--localnav-height)",event:"play:".concat(r),onEvent:function(){t&&t.pause(),t=e.chapters[r-1],t.play(0)},onEventReverse:function(){t&&t.pause(),t=e.chapters[r-1],t.reverse(t.duration)},anchors:[n]}))})}},{key:"_initCopyParallax",value:function(){var e=this.el.querySelector(".shoot .feature-copyblock-subhead"),t=this.el.querySelector(".shoot .feature-copyblock-copy"),n=this.el.querySelector(".shoot .snipes"),r=[e,t,n];this._translateInCopy(r),this.anim.addKeyframe(this.el.querySelector(".cameras-snipe.image-overview-camera-cameras-snipe-take"),{start:"a0t - 37vh",end:"a0t - 12vh",y:["20px",0],breakpointMask:"S",anchors:[r[0]]});var i=this.el.querySelector(".depth .feature-copyblock-subhead"),o=this.el.querySelector(".depth .feature-copyblock-copy"),s=[i,o];this._translateInCopy(s)}},{key:"_translateInCopy",value:function(e){var t=this;e.forEach(function(n,r){t.anim.addKeyframe(n,{start:"a0t - 37vh",end:"a0t - 12vh",y:["20px + ".concat(r,"*20px"),0],breakpointMask:"MS",anchors:[e[0]]})})}},{key:"_setFixedPadding",value:function(e){var t=v.parse("h",{target:this.deviceContainer}),n=v.parse("h",{target:this.contentTimeline}),r=e.windowHeight,i=t+n;if(r<i){var o=(r-i)*-1;this.el.style.setProperty("--dynamic-offset","".concat(o,"px"))}else this.el.style.setProperty("--dynamic-offset","0px")}},{key:"onResizeDebounced",value:function(e){this._setFixedPadding(e)}}],[{key:"IS_SUPPORTED",value:function(){var e=document.documentElement.className.match(/(\sreduced-motion)|(\sie)|(\sno-overview-enhanced)/);return!e||g}}]),t}(y);t.exports=b},{162:162,168:168}],258:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(168),f=e(147),p=(e(135),function(e){function t(e){var n;return i(this,t),n=a(this,u(t).call(this,e)),n.snipeTransform=n.el.hasAttribute("data-snipe-transform"),n.snipeIn=JSON.parse(n.el.dataset.snipeIn),n.snipeOut=JSON.parse(n.el.dataset.snipeOut),n.anchor=n.el.dataset.anchor,n.triggerClassName="animation-trigger",n.snipeHasSprite=n.el.querySelector(".image-sprite"),n.anchor=document.querySelector(n.anchor),n.currentOpacity=0,n.keyFrameInit=!1,n}return l(t,e),s(t,[{key:"mounted",value:function(){this.triggerSpriteAnimation()}},{key:"_snipeKeyframe",value:function(e){var t=e==this.snipeIn?[0,1]:[1,0],n={el:this.el,opacity:t,anchors:[this.anchor]};for(var r in e)n[r]=e[r];return n}},{key:"triggerSpriteAnimation",value:function(){var e=this,t=f.addKeyframe(this.el,this._snipeKeyframe(this.snipeIn)),n=f.addKeyframe(this.el,this._snipeKeyframe(this.snipeOut));this.snipeTransform&&f.addKeyframe(this.el,{el:this.el,anchors:[this.anchor],start:this.snipeIn.start,end:this.snipeOut.end,y:[30,-30]}),this.snipeHasSprite&&([t,n].forEach(function(t){t.controller.on("draw",function(t){e.currentOpacity=t.tweenProps.opacity.current,!e.keyFrameInit&&e.currentOpacity>.5&&(e.keyFrameInit=!0,e.el.classList.add(e.triggerClassName)),0===e.currentOpacity&&(e.keyFrameInit=!1,e.el.classList.remove(e.triggerClassName))})}),f.addKeyframe(this.el,{start:this.snipeIn.start,end:this.snipeOut.end,cssClass:"show",toggle:!0,anchors:[this.anchor]}))}}],[{key:"IS_SUPPORTED",value:function(){return!document.documentElement.className.match(/(\sreduced-motion)|(\sie)|(\sno-overview-enhanced)/)}}]),t}(d));t.exports=p},{135:135,147:147,168:168}],259:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return a(e)||s(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function a(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function h(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=e(168),v=e(135),g=e(184),b=e(290),E=function(e){function t(e){var n;return c(this,t),n=h(this,f(t).call(this,e)),n.options=e,n.section=document.querySelector(".section-cameras"),n.cameraContainer=n.el.querySelector(".camera-container"),n.camera=n.el.querySelector(".camera"),n.cameraSystemHeadline=document.querySelector(".camera-system-headline"),n.cameraSensorHeadline=document.querySelector(".camera-sensor-headline"),n.cameraRareHeadline=document.querySelector(".camera-rare-headline"),n.cameraRotationTrigger=document.querySelector(".hardware-rotation-trigger"),n.cameraGutTrigger=document.querySelector(".camera-gut-trigger"),n.cameraZoomTrigger=document.querySelector(".camera-zoom-trigger"),n.lidarAnimationTrigger=document.querySelector(".lidar-animation-trigger"),n.videoWidth=parseInt(getComputedStyle(n.section).getPropertyValue("--video-width")),n.videoHeight=parseInt(getComputedStyle(n.section).getPropertyValue("--video-height")),n.videoGutWidth=parseInt(getComputedStyle(n.section).getPropertyValue("--video-gut-width")),n.videoRatio=n.videoWidth/n.videoHeight,n.setRatio(e.pageMetrics),n}return p(t,e),l(t,[{key:"mounted",value:function(){var e=this;this.HardwareRotation=this.gum.getComponentOfType("HardwareRotation");var t=this.anim.createTimeGroup();t.name="Camera Zoom",this.headlineFadeIn(),this.addContinuousEvent({start:"a0t + 50vh",end:"a0b",progress:[0,1],anchors:[this.cameraZoomTrigger],onDraw:function(e){t.progress(e.tweenProps.progress.current)}}),this.addKeyframe({start:"a0t",end:"a1b",cssClass:"show",toggle:!0,anchors:[this.cameraRotationTrigger,this.cameraZoomTrigger]}),[document.querySelector(".section-cameras .sticky-wrapper"),this.el.querySelector(".image-overview-camera-cameras-lidar")].forEach(function(t){e.anim.addKeyframe(t,{start:"a0b",cssClass:"fade-in",toggle:!0,anchors:[e.cameraSystemHeadline]})});var n=1;t.addKeyframe({},{start:0,end:1,length:[0,1]});var r="css(--base) * css(--ratio)/css(--gut-width)";this.HardwareRotation.once("updated:cssvar",function(){v(function(){e.scaleKeyframe=t.addKeyframe(e.camera,{start:0,end:1*n,y:[0,"-css(--ipad-right-end-y) + css(--center-lense-y)"],x:[0,"-css(--ipad-right-x) + css(--ipad-right-x) - css(--ipad-right-end-x)  + css(--center-lense-x)"],scale:[1,r],anchors:[e.cameraContainer]})})}),t.addKeyframe(this.el.querySelector(".camera-lense-gut"),{start:.3*n,end:.5*n,opacity:[0,1]}),b.swap(this,{toDark:{start:"a0b",end:"a1b",anchors:[this.cameraSystemHeadline,this.lidarAnimationTrigger]}})}},{key:"headlineFadeIn",value:function(){var e=[this.cameraGutTrigger.querySelector(".feature-copyblock-subhead"),this.cameraGutTrigger.querySelector(".feature-copyblock-copy")].concat(i(this.cameraGutTrigger.querySelectorAll("figure"))),t=[this.cameraSensorHeadline.querySelector(".feature-copyblock-subhead")].concat(i(this.cameraSensorHeadline.querySelectorAll(".feature-copyblock-copy")));this.copyElementFadeIn(e),this.copyElementFadeIn(t),this.copyElementFadeIn([this.cameraRareHeadline])}},{key:"copyElementFadeIn",value:function(e){var t=this;e.forEach(function(n,r){t.anim.addKeyframe(n,{start:"a0t - 55vh",end:"a0t - 30vh",y:["20px + ".concat(r,"*20px"),0],anchors:[e[0]],breakpointMask:"ML"})}),this.anim.addKeyframe(g(e[0],"[data-anim-fade-in]"),{start:"a0t - 50vh",cssClass:"fade-in",toggle:!0,anchors:[e[0]]})}},{key:"setRatio",value:function(e){e.windowHeight*this.videoRatio<e.windowWidth?(this.section.style.setProperty("--base","100vw"),this.section.style.setProperty("--ratio",this.videoGutWidth/this.videoWidth)):(this.section.style.setProperty("--base","100vh"),this.section.style.setProperty("--ratio",this.videoGutWidth/this.videoHeight))}}],[{key:"IS_SUPPORTED",value:function(){return!document.documentElement.className.match(/(\sreduced-motion)|(\sie)|(\sno-overview-enhanced)/)}}]),t}(y);t.exports=E},{135:135,168:168,184:184,290:290}],260:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(168),f=function(e){function t(e){var n;return i(this,t),n=a(this,u(t).call(this,e)),n.ipad13=n.el.querySelector(".display-ipad-13-small"),n.introHeadline=n.el.querySelector(".subsection-display-intro-small [data-anim-fade-out]"),n.introScrim=n.el.querySelector(".subsection-display-hardware-small .display-screen-scrim"),n}return l(t,e),s(t,[{key:"mounted",value:function(){var e=".sticky-wrapper-hero-small";this.anim.addKeyframe(this.ipad13,{start:"a0t - 50vh",end:"a0b",cssClass:"will-change",breakpointMask:"S",anchors:[e]}),this.anim.addKeyframe(this.ipad13,{start:"a0t + 100vh - css(--lovalnav-height)",end:"a0t + 150vh",scale:["max(100vw/90w, 100vh/60h)",1],y:["-20h - 50vh",0],breakpointMask:"S",anchors:[e]}),this.anim.addKeyframe(this.introHeadline,{start:"a0t + 120vh",cssClass:"fade-out",toggle:!0,breakpointMask:"S",anchors:[e]}),this.anim.addKeyframe(this.introScrim,{start:"a0t + 100vh",end:"a0t + 120vh",opacity:[1,0],breakpointMask:"S",anchors:[e]})}}],[{key:"IS_SUPPORTED",value:function(){var e=window.matchMedia("(max-width: 734px)").matches||window.matchMedia("(max-height: 710px)").matches;return!!e&&!document.documentElement.className.match(/(\sno-overview-enhanced)/)}}]),t}(d);t.exports=f},{168:168}],261:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(168),f=function(e){function t(e){var n;return i(this,t),n=a(this,u(t).call(this,e)),n.ipad11=n.el.querySelector(".display-sizes-ipad-11-small"),n.ipad13=n.el.querySelector(".display-sizes-ipad-13-small"),n.sizesAnchorElSelector=n.el,n.sizesSnipeLabels=n.el.querySelector(".display-size-labels-small"),n}return l(t,e),s(t,[{key:"mounted",value:function(){this.anim.addKeyframe(this.ipad13,{start:"a0t - 5vh",end:"a0t + 20vh",x:[0,"50w - 10px"],easeFunction:"easeInOutSin",breakpointMask:"S",anchors:[this.sizesAnchorElSelector]}),this.anim.addKeyframe(this.ipad11,{start:"a0t - 5vh",end:"a0t + 20vh",x:[0,"-50a1w"],easeFunction:"easeInOutSin",breakpointMask:"S",anchors:[this.sizesAnchorElSelector,this.ipad13]}),this.anim.addKeyframe(this.sizesSnipeLabels,{start:"a0t + 5vh",end:"a0t + 20vh",cssClass:"fade-in",toggle:!0,breakpointMask:"S",anchors:[this.sizesAnchorElSelector]})}}],[{key:"IS_SUPPORTED",value:function(){var e=window.matchMedia("(max-width: 734px)").matches||window.matchMedia("(max-height: 710px)").matches;return!!e&&!document.documentElement.className.match(/(\sno-overview-enhanced)/)}}]),t}(d);t.exports=f},{168:168}],262:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(168),f=function(e){function t(e){return i(this,t),a(this,u(t).call(this,e))}return l(t,e),s(t,[{key:"mounted",value:function(){var e=this,t=".timeline-display-retina";this.addDiscreteEvent({start:"a0t - 35vh",event:"unlock-play",breakpointMask:"ML",anchors:[t],onEvent:function(){e.el.classList.add("unlock-play")}}),this.addDiscreteEvent({start:"a0t - 100vh",event:"unlock-reset",breakpointMask:"ML",anchors:[t],onEvent:function(){e.el.classList.remove("unlock-reset")},onEventReverse:function(){e.el.classList.add("unlock-reset"),e.el.classList.remove("unlock-play")}})}}],[{key:"IS_SUPPORTED",value:function(){var e=window.matchMedia("(max-width: 734px)").matches;return!e&&!document.documentElement.className.match(/(\sno-overview-enhanced)/)}}]),t}(d);t.exports=f;
},{168:168}],263:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(168),f=function(e){function t(e){var n;return i(this,t),n=a(this,u(t).call(this,e)),n.introHeadline=n.el.querySelector(".subsection-display-intro [data-anim-fade-out]"),n.introScrim=n.el.querySelector(".subsection-display-hardware .display-screen-scrim"),n.ipad11=n.el.querySelector(".sticky-wrapper-display .display-ipad-11"),n.ipad13=n.el.querySelector(".sticky-wrapper-display .display-ipad-13"),n.videoStartframeContainer=n.el.querySelector(".display-screen-startframes"),n.displayScreen=n.el.querySelector(".display-screen"),n.videoStartframeBlurred=n.el.querySelector(".display-video-startframe-blurred"),n.swipeBarUi=n.el.querySelector(".display-screen-unlocked .display-screen-bar"),n.retinaCopy=n.el.querySelector(".subsection-display-retina .feature-copyblock"),n.retinaCopy.setAttribute("data-anim-fade-in",""),n.snipesContainer=n.el.querySelector(".subsection-display-snipes"),n.sizesSnipeLabels=n.el.querySelector(".display-size-labels"),n.sizesAnchorElSelector=n.el.querySelector(".timeline-display-sizes"),n}return l(t,e),s(t,[{key:"mounted",value:function(){this.setupWillChangeKeyframes(),this.setupIntroKeyframes(),this.setupRetinaKeyframes(),this.setupSnipesKeyframes(),this.setupSizesKeyframes()}},{key:"setupWillChangeKeyframes",value:function(){var e=".timeline-display-intro";this.anim.addKeyframe(this.el,{start:"a0t - 100vh",end:"a0b + 150vh",cssClass:"will-change-hero",toggle:!0,breakpointMask:"ML",anchors:[e]})}},{key:"setupIntroKeyframes",value:function(){var e=".timeline-display-intro";this.anim.addKeyframe(this.ipad13,{start:"a0t - 10vh",end:"a0b",scale:["max(100vw/90w, 100vh/70h)","css(--intro-end-scale)"],y:["-50vh - 200px","50h - 50vh + 40vh"],easeFunction:"easeInOutQuad",breakpointMask:"L",anchors:[e]}),this.anim.addKeyframe(this.ipad13,{start:"a0t - 10vh",end:"a0b",scale:["max(100vw/90w, 100vh/66h)","css(--intro-end-scale)"],y:["-50vh - 220px","min(50h - 50vh + 40vh, 50h - 50vh + 400px)"],easeFunction:"easeInOutQuad",breakpointMask:"M",anchors:[e]}),this.anim.addKeyframe(this.introHeadline,{start:"a0t + 30vh",cssClass:"fade-out",toggle:!0,breakpointMask:"ML",anchors:[e]}),this.anim.addKeyframe(this.introScrim,{start:"a0t + 10vh",end:"a0t + 30vh",opacity:[1,0],breakpointMask:"ML",anchors:[e]})}},{key:"setupRetinaKeyframes",value:function(){var e=".timeline-display-retina";this.anim.addKeyframe(this.ipad13,{start:"a0t",end:"a0b",scale:["css(--intro-end-scale)",1],y:[null,0],easeFunction:"easeInOutQuad",breakpointMask:"ML",anchors:[e]}),this.anim.addKeyframe(this.displayScreen,{start:"a0b - 25vh",end:"a0b + 10vh",y:[0,"-101h"],easeFunction:"linear",breakpointMask:"ML",anchors:[e]}),this.anim.addKeyframe(this.videoStartframeContainer,{start:"a0b - 25vh",end:"a0b + 10vh",y:[0,"30h"],breakpointMask:"ML",anchors:[e]}),this.anim.addKeyframe(this.videoStartframeBlurred,{start:"a0b - 25vh",end:"a0b - 5vh",opacity:[0,1],easeFunction:"cubic-bezier(0.075, 0.82, 0.165, 1)",breakpointMask:"ML",anchors:[e]}),this.anim.addKeyframe(this.swipeBarUi,{start:"a0b + 8vh",end:"a0b + 12vh",opacity:[0,1],breakpointMask:"ML",anchors:[e]}),this.anim.addKeyframe(this.retinaCopy,{start:"a0t - 40vh",end:"a0t + 40vh",cssClass:"fade-in",toggle:!0,breakpointMask:"ML",anchors:[e]})}},{key:"setupSnipesKeyframes",value:function(){var e=".timeline-display-snipes";this.anim.addKeyframe(this.snipesContainer,{start:"a0t - 20vh",cssClass:"fade-in",toggle:!0,breakpointMask:"ML",anchors:[e]}),this.anim.addKeyframe(this.snipesContainer,{start:"a0t + 50vh",cssClass:"fade-out",toggle:!0,breakpointMask:"L",anchors:[e]}),this.anim.addKeyframe(this.snipesContainer,{start:"a0t + 40vh",cssClass:"fade-out",toggle:!0,breakpointMask:"M",anchors:[e]})}},{key:"setupSizesKeyframes",value:function(){this.anim.addKeyframe(this.el,{start:"a0t - 75vh",anchors:[this.sizesAnchorElSelector],cssClass:"transform-origin-bottom",toggle:!0,breakpointMask:"ML"}),this.anim.addKeyframe(this.ipad13,{start:"a0t - 70vh",end:"a0t",x:[0,"css(--sizes-center-offset) - 50w"],breakpointMask:"ML",anchors:[this.sizesAnchorElSelector]}),this.anim.addKeyframe(this.ipad11,{start:"a0t - 70vh",end:"a0t",x:[0,"(css(--sizes-center-offset) * -1) + 50w"],breakpointMask:"ML",anchors:[this.sizesAnchorElSelector]}),this.anim.addKeyframe(this.sizesSnipeLabels,{start:"a0t - 30vh",end:"a0t",cssClass:"fade-in",toggle:!0,breakpointMask:"ML",anchors:[this.sizesAnchorElSelector]})}}],[{key:"IS_SUPPORTED",value:function(){var e=window.matchMedia("(max-width: 734px)").matches;return!e&&!document.documentElement.className.match(/(\sno-overview-enhanced)/)}}]),t}(d);t.exports=f},{168:168}],264:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return{X:"xlarge",L:"large",M:"medium",S:"small"}[e]}var f=e(168),p=e(58),m=e(59),y=e(289),v={flow:"/flow/flow_manifest.json",mask:"/mask/mask_manifest.json"},g="/ac/ac-flow-micro/1/ac-flow-worker-min.js",b=function(e){function t(e){var n;i(this,t),n=a(this,u(t).call(this,e)),n.baseURL=n.el.dataset.baseUrl,n.anchor=n.el.dataset.anchor||n.el,n.alpha=n.el.dataset.alpha,n.duration=n.el.dataset.duration||1,n.retinaViewport=n.el.dataset.retina,n.canvas=n.el.querySelector("canvas"),n.startEnd=n.el.dataset.animStartend?JSON.parse(n.el.dataset.animStartend):{start:"a0t",end:"a0b - 100vh"};var r=Object.assign({progress:[0,n.duration],anchors:[n.anchor]},n.startEnd);return n.animOptions=Object.assign(r,n.el.dataset.anim),n.currentViewport=d(e.pageMetrics.breakpoint),n.inLoadArea=!1,n.multiplier=n.alpha?2:1,n}return l(t,e),s(t,[{key:"mounted",value:function(){var e=this;this.addDiscreteEvent({start:"a0t - 300vh",end:"a0b + 300vh",event:"load:flow",anchors:[this.anchor],onEnter:function(){e.inLoadArea=!0,e.initFlow()},onExit:function(){e.inLoadArea=!1,e.cleared=!0,e.flow.stopLoading(),e.flow.glCanvas.texturePool._objects=[],e.flow.glCanvas.texturePool._all=[],e.flow.glCanvas.texturePool.size=0}})}},{key:"initFlow",value:function(){if(this.flow){if(this.cleared=!1,!this.flow.manifest)return;return this.flow.glCanvas.modifyPoolSize(this.flow.manifest.frameCount*this.multiplier),void this.flow.startLoading()}var e=this.retinaViewport===this.currentViewport?this.currentViewport+"_2x":this.currentViewport,t="".concat(this.baseURL,"/").concat(e);this.alpha?this.createAlphaFlow(t):this.createFlow(t)}},{key:"createFlow",value:function(e){var t=this;this.flow=new m("".concat(e).concat(v.flow),this.canvas,30,"jpg",g),this.flow.startLoading(),this.flow.once(m.Events.ChapterFramesLoaded,function(){t.animKeyFrame=t.addContinuousEvent(Object.assign({group:t.anim.getGroupForTarget(t.el),el:{},onDraw:function(e){t.cleared||(t.flow.progress=e.tweenProps.progress.current)}},t.animOptions)),t.resize(),t.canvas.classList.add("visible"),t.trigger("canplay",t.el)}),this.flow.once(m.Events.ManifestReady,function(){t.flow.manifest=t.flow.manifest})}},{key:"createAlphaFlow",value:function(e){var t=this,n={url:"".concat(e).concat(v.flow),fps:30,extension:"jpg"},r={url:"".concat(e).concat(v.mask),fps:30,extension:"jpg"};this.flow=new p(n,r,this.canvas,g),this.flow.startLoading().then(function(){t.gum&&t.gum.keyframeGroupsActive&&(t.resize(),t.canvas.classList.add("visible"),t.animKeyFrame=t.addContinuousEvent(Object.assign({group:t.anim.getGroupForTarget(t.el),el:{},onDraw:function(e){t.cleared||(t.flow.progress=e.tweenProps.progress.current)}},t.animOptions)),t.trigger("canplay"))}),this.flow.once(m.Events.ManifestReady,function(e){t.flow.manifest=t.flow.colorFlow.manifest})}},{key:"resize",value:function(){this.retinaViewport===this.currentViewport&&(this.canvas.style.width="".concat(this.canvas.width/2,"px"),this.canvas.style.height="".concat(this.canvas.height/2,"px"))}},{key:"onBreakpointChange",value:function(e){this.canvas.classList.remove("visible")}},{key:"onResizeDebounced",value:function(){this.gum.keyframeGroupsActive||(document.documentElement.classList.remove("allow-hero"),this.canvas.classList.remove("visible"))}}],[{key:"IS_SUPPORTED",value:function(){return document.documentElement.classList.contains("allow-hero")?!!y()||(document.documentElement.classList.remove("allow-hero"),!1):!document.documentElement.className.match(/(\sreduced-motion)|(\sie)|(\sno-overview-enhanced)/)}}]),t}(f);t.exports=b},{168:168,289:289,58:58,59:59}],265:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return a(e)||s(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function a(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function h(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=e(168),v=e(186),g=e(114).createStandardModal,b=e(193),E=e(199),_=e(200),w=e(194),x=e(201),S=e(190),k=e(188),O=e(283),I=e(285),T=e(284),A=e(282),C=e(286),P=e(281),M=k.combine([{mixin:_,breakpointMask:"S"},{mixin:null,breakpointMask:"ML"}]),R=k.combine([{mixin:null,breakpointMask:"S"},{mixin:I,breakpointMask:"ML"}]),D=k.combine([{mixin:E,breakpointMask:"S"},{mixin:P,breakpointMask:"ML"}]),F=[O,w,x,M,C,b,S,A,R,D],N="data-mixin-gallery",L=function(e){function t(e){var n;return c(this,t),n=h(this,d(t).call(this,e)),n.galleryTrigger=n.el.querySelector("[".concat(e.galleryDataAttribute||N,"]")),n.galleryTrigger?(n.galleryEl=document.querySelector("#".concat(n.galleryTrigger.getAttribute(N))),n.modal={},n.gesturesInlineVideoComponents=[],n.gesturesGallery="",n.cachedCurrentItemIndex=0,n.currentBreakpoint=e.pageMetrics.breakpoint,n.setupGalleryTrigger=n._setupGalleryTrigger.bind(f(n)),n.isModalOpen=!1,n.isInlineVideoAvailable=n._isEnhanced(),n.anim.on("before-anim-remove",function(){n.isInlineVideoAvailable=!1}),n):h(n,!1)}return p(t,e),l(t,[{key:"staticMixins",value:function(){return F}},{key:"enhancedMixins",value:function(){return F.concat([T(this.gesturesInlineVideoComponents)])}},{key:"cacheCurrentSlide",value:function(){this.cachedCurrentItemIndex=this.gesturesGallery.currentItem.index}},{key:"createModal",value:function(){this.onWillOpen=this.onWillOpen.bind(this),this.onOpen=this.onOpen.bind(this),this.onClose=this.onClose.bind(this),this.modal=g(this.galleryEl),this.modal.modalElement.classList.add("modal-gestures-gallery"),this.modal.on("willopen",this.onWillOpen),this.modal.on("open",this.onOpen),this.modal.on("close",this.onClose)}},{key:"onWillOpen",value:function(){this.isInlineVideoAvailable&&this.gesturesInlineVideoComponents.forEach(function(e){e.videoComponent.inLoadArea=!0,e.videoComponent.load()})}},{key:"onOpen",value:function(){if(!this.gesturesGallery){var e=this.isInlineVideoAvailable?this.enhancedMixins():this.staticMixins();this.createMixinGallery(e)}this.isModalOpen=!0,this.isInlineVideoAvailable||this.recalculateItemWidths(),this.gesturesGallery.addKeydownEventListener()}},{key:"onClose",value:function(){this.isModalOpen=!1,this.gesturesGallery.removeKeydownEventListener(),this.cacheCurrentSlide()}},{key:"createMixinGallery",value:function(e){var t=v.withMixins.apply(v,i(e));this.gesturesGallery=new t({el:this.galleryEl})}},{key:"recalculateItemWidths",value:function(){var e=this;if(this.cachedCurrentItemIndex&&(this.gesturesGallery._items.forEach(function(t){t.measure(),"S"===e.currentBreakpoint?t.x=t.width*t.index:(t.x=0,t.zIndex=t===e.gesturesGallery.currentItem?2:0)}),this.gesturesGallery.slideContainer)){var t=this.gesturesGallery.wrappedIndex(this.cachedCurrentItemIndex),n=this.gesturesGallery.convertSlideIndexToHorizontalPosition(t);this.gesturesGallery.position=this.gesturesGallery.target=n,this.gesturesGallery.slideContainer.style.transform="translate3d(".concat(-this.gesturesGallery.position,"px, 0,0)"),this.gesturesGallery.checkForSlideUpdate(!0)}}},{key:"_setupGalleryTrigger",value:function(){this.createModal(),this.modal.open()}},{key:"addGalleryTriggerListener",value:function(){this.galleryTrigger.addEventListener("click",this.setupGalleryTrigger)}},{key:"removeGalleryTriggerListener",value:function(){this.galleryTrigger.removeEventListener("click",this.setupGalleryTrigger)}},{key:"mounted",value:function(){return!!this.galleryTrigger&&(this.gesturesInlineVideoComponents=this.gum.getComponentsOfType("InlineVideo",this.galleryEl),void this.addGalleryTriggerListener())}},{key:"_isEnhanced",value:function(){return!document.documentElement.className.match(/(\sno-inline-video)|(\sreduced-motion)|(\sie)|(\sno-overview-enhanced)/)}},{key:"onBreakpointChange",value:function(e){this.currentBreakpoint=e.breakpoint}},{key:"onResizeImmediate",value:function(){this.gesturesGallery&&!this.isModalOpen&&(this.gesturesGallery.currentIndex=this.cachedCurrentItemIndex)}},{key:"destroy",value:function(){this.removeGalleryTriggerListener()}}],[{key:"IS_SUPPORTED",value:function(){return!0}}]),t}(y);t.exports=L},{114:114,168:168,186:186,188:188,190:190,193:193,194:194,199:199,200:200,201:201,281:281,282:282,283:283,284:284,285:285,286:286}],266:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(168),f=e(162),p=e(135),m=function(e){function t(e){var n;return i(this,t),n=a(this,u(t).call(this,e)),n.ipad11=n.el.querySelector(".display-ipad-11"),n.ipad13=n.el.querySelector(".display-ipad-13"),n.cameraSection=document.querySelector(".section-cameras"),n.cameraSystemHeadline=document.querySelector(".camera-system-headline"),n.rationTrigger=document.querySelector(".hardware-rotation-trigger"),n.cameraZoomTrigger=document.querySelector(".camera-zoom-trigger"),n.currentBreakpoint=e.pageMetrics.breakpoint,n.cameraEnd={M:{x:"css(--ipad-right-x) + 50px",y:"max(0, (50vh-350))"},S:{x:"50w - 87.5vw/2 + 8px",y:"20vh + 20px"}},n}return l(t,e),s(t,[{key:"mounted",value:function(){var e=this;"S"===this.currentBreakpoint?this.DisplayZoom=this.gum.getComponentOfType("DisplaySizesSplitSmall"):this.DisplayZoom=this.gum.getComponentOfType("DisplayZoomSplit"),this.anim.addKeyframe(this.rationTrigger,{start:"t - 100vh + 40h",cssClass:"move-back",toggle:!0}),this.once("updated:cssvar",function(){e.anim.addKeyframe(e.ipad11,{start:"a0t - max(100vh, css(--max-height-large))",end:"a0t",x:["css(--ipad-left-x)","css(--ipad-left-x) - 100px"],y:[0,"-50vh -150h"],scale:[1,1.5],easeFunction:"cubic-bezier(0,.15,1,.59)",anchors:[e.rationTrigger]}),e.anim.addKeyframe(e.ipad13,{start:"a0t - 100vh",end:"a0t - 80vh",x:["css(--ipad-right-x)",e.cameraEnd.M.x],y:[0,e.cameraEnd.M.y],anchors:[e.rationTrigger],breakpointMask:"M"}),e.anim.addKeyframe(e.ipad13,{start:"a0t - 100vh",end:"a0t",y:[0,e.cameraEnd.S.y],anchors:[e.rationTrigger],breakpointMask:"S"}),e.anim.addKeyframe(e.ipad13,{start:"a0t - 40vh",end:"a0t",x:["css(--ipad-right-x)",e.cameraEnd.S.x],anchors:[e.rationTrigger],breakpointMask:"S"})});var t={start:"a0t - max(100vh, css(--max-height-large))",toggle:!0,anchors:[this.rationTrigger]};this.addDiscreteEvent(Object.assign({el:this.ipad11,cssClass:"show"},t)),this.addKeyframe({el:this.ipad13,start:"a0t - max(100vh, css(--max-height-large))",end:"a1b",cssClass:"show",toggle:!0,anchors:[this.rationTrigger,this.cameraSystemHeadline]}),this.addKeyframe({el:this.ipad13,start:"a0b - 10vh",cssClass:"transition",toggle:!0,anchors:[this.cameraSystemHeadline]}),this.addDiscreteEvent(Object.assign({el:this.DisplayZoom.ipad11,style:{on:{opacity:0}}},t)),this.addDiscreteEvent(Object.assign({el:this.DisplayZoom.ipad13,style:{on:{opacity:0}}},t)),p(function(){e.updateDevicesPosition()})}},{key:"updateDevicesPosition",value:function(){var e=this;this.ipad11.x=f.parse(this.DisplayZoom.ipad11._animInfo.controller.keyframes.x[0].jsonProps.x[1],{target:this.DisplayZoom.ipad11,anchors:[this.DisplayZoom.sizesAnchorElSelector,this.DisplayZoom.ipad13]}),this.ipad13.x=f.parse(this.DisplayZoom.ipad13._animInfo.controller.keyframes.x[0].jsonProps.x[1],{target:this.DisplayZoom.ipad13,anchors:[this.DisplayZoom.sizesAnchorElSelector]});var t={ipad11:"ipad-left",ipad13:"ipad-right"};if(["ipad11","ipad13"].forEach(function(n){e.cameraSection.style.setProperty("--".concat(t[n],"-x"),e[n].x+"px")}),"L"!==this.currentBreakpoint){var n=f.parse(this.cameraEnd[this.currentBreakpoint].y,{target:this.ipad13});this.cameraSection.style.setProperty("--ipad-right-end-y",n+"px");var r=f.parse(this.cameraEnd[this.currentBreakpoint].x,{target:this.ipad13});this.cameraSection.style.setProperty("--ipad-right-end-x",r+"px")}else this.cameraSection.style.setProperty("--ipad-right-end-y","0px"),this.cameraSection.style.setProperty("--ipad-right-end-x",this.ipad13.x+"px");this.trigger("updated:cssvar")}},{key:"onResizeDebounced",value:function(e){this.currentBreakpoint===e.breakpoint&&this.updateDevicesPosition()}}],[{key:"IS_SUPPORTED",value:function(){return!document.documentElement.className.match(/(\sno-overview-enhanced)/)}}]),t}(d);t.exports=m},{135:135,162:162,168:168}],267:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(168),f=e(135),p=function(e){function t(e){var n;return i(this,t),n=a(this,c(t).call(this,e)),n.videoEl=n.el.querySelector("video")||n.el,n.pauseRelativeTo=n.el.dataset.pauseRelativeTo||n.el,n.replay=n.el.dataset.replay,n.autoReplay=n.el.hasAttribute("data-auto-replay"),n.customExpressions=n.el.dataset.anim?JSON.parse(n.el.dataset.anim):{},n.animOptions=Object.assign({start:"a0t - 50vh",end:"a0b + 100vh",anchors:[n.pauseRelativeTo]},n.customExpressions),n.replay&&(n.replayButton=document.querySelector('[data-replay-for="'.concat(n.videoEl.id,'"]')),n.replayButton.addEventListener("click",n._rePlay.bind(u(n)))),n}return l(t,e),s(t,[{key:"mounted",value:function(){var e=this;this.startFrame=this.el.querySelector("[data-video-startframe]"),this.endFrame=this.el.querySelector("[data-video-endframe]"),this.videoComponent=this.gum.getComponentOfType("VideoViewportSource",this.videoEl),this.videoComponent.video.addEventListener("ended",this._onMediaEnded.bind(this)),this.videoComponent.video.addEventListener("play",this._onPlay.bind(this)),this.autoReplay?this.addDiscreteEvent(Object.assign({event:"Video: Play - Auto Replay",onEnter:function(){return e.videoComponent.queueVideoPlayback()},onExit:function(){return e._reset()}},this.animOptions)):this.addDiscreteEvent(Object.assign({event:"Video: Play",onEnterOnce:function(){return e.videoComponent.queueVideoPlayback()},onExit:function(){return e._reset()}},this.animOptions))}},{key:"_reset",value:function(){var e=this;f(function(){e.videoComponent.pauseVideoPlayback(),e.videoComponent.video.currentTime=0}),this._onMediaEnded()}},{key:"_onMediaEnded",value:function(){this.replayButton&&(this.replayButton.disabled=!1),this.endFrame&&(this.endFrame.classList.remove("hide"),this.videoComponent.video.classList.add("hide"))}},{key:"_onPlay",value:function(){this.startFrame&&this.startFrame.classList.add("hide"),this.videoComponent.video.classList.remove("hide")}},{key:"reset",value:function(){var e=this;f(function(){e.videoComponent.pauseVideoPlayback(),e.videoComponent.video.currentTime=0}),this.endFrame&&this.endFrame.classList.add("hide"),this.startFrame&&this.startFrame.classList.remove("hide")}},{key:"_rePlay",value:function(){this.replayButton&&(this.replayButton.disabled=!0),this.endFrame&&this.endFrame.classList.add("hide"),this.videoComponent.video.play()}}],[{key:"IS_SUPPORTED",value:function(){return!document.documentElement.className.match(/(\sno-inline-video)|(\sreduced-motion)|(\sie)|(\sno-overview-enhanced)/)}}]),t}(d);t.exports=p},{135:135,168:168}],268:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(168),f=e(162),p=function(e){function t(e){var n;return i(this,t),n=a(this,u(t).call(this,e)),n.focusElementsData=[{selector:n.el.querySelector(".section-display .subsection-display-retina .footnote a"),scrollAnchor:n.el.querySelector(".section-display .feature-copyblock.horizontal"),offset:20},{selector:n.el.querySelector(".section-magic-keyboard .footnote a"),scrollAnchor:n.el.querySelector(".section-magic-keyboard .image-overview-keyboard-keyboard-snipe-magnet")},{selector:n.el.querySelector(".section-apple-pencil .create-copy .footnote a"),scrollAnchor:n.el.querySelector(".section-apple-pencil .section-content.create-copy"),attribute:"y",end:!0},{selector:n.el.querySelector(".section-portability .sticky-wrapper-portability .footnote a"),scrollAnchor:n.el.querySelector(".section-portability .portability-copyblock")},{selector:n.el.querySelector(".section-portability .connectivity-wrapper .footnote a"),scrollAnchor:n.el.querySelector(".section-portability .connectivity-copyblock"),attribute:"y",end:!0},{selector:n.el.querySelector(".section-hero .hero-headline"),scrollAnchor:n.el.querySelector(".section-hero .sticky-wrapper"),attribute:"load:flow",end:!0,vo:!0},{selector:n.el.querySelector(".section-display .subsection-display-intro .column"),scrollAnchor:n.el.querySelector(".section-display .sticky-wrapper .display-ipad-13"),attribute:"y",vo:!0},{selector:n.el.querySelector(".section-display .subsection-display-intro .column"),scrollAnchor:n.el.querySelector(".section-display .sticky-wrapper .display-ipad-13"),attribute:"y",vo:!0},{selector:n.el.querySelector(".section-display .subsection-display-retina .section-content"),scrollAnchor:n.el.querySelector(".section-display .subsection-display-retina .feature-copyblock.horizontal"),offset:20,vo:!0},{selector:n.el.querySelector(".section-display .subsection-display-hardware .display-size-labels"),scrollAnchor:n.el.querySelector(".section-display .subsection-display-hardware .display-ipad-13"),attribute:"x",end:!0,offset:-20,vo:!0},{selector:n.el.querySelector(".section-display .display-snipe.display-snipe-accuracy"),scrollAnchor:n.el.querySelector(".section-display .subsection-display-hardware .display-ipad-13"),attribute:"x",vo:!0},{selector:n.el.querySelector(".section-display .display-snipe.display-snipe-color-gamut"),scrollAnchor:n.el.querySelector(".section-display .subsection-display-hardware .display-ipad-13"),attribute:"x",vo:!0},{selector:n.el.querySelector(".section-cameras .sticky-app-switcher .content-timeline.shoot .copy-wrap"),scrollAnchor:n.el.querySelector(".section-cameras .sticky-app-switcher .content-timeline.shoot .copy-wrap"),vo:!0,offset:function(){return f.parse("h",{target:this.selector})}},{selector:n.el.querySelector(".section-cameras .sticky-app-switcher .content-timeline.depth .copy-wrap"),scrollAnchor:n.el.querySelector(".section-cameras .sticky-app-switcher .content-timeline.depth .copy-wrap"),vo:!0,offset:function(){return f.parse("h",{target:this.selector})}},{selector:n.el.querySelector(".section-performance .sticky-wrapper-performance .column"),scrollAnchor:n.el.querySelector(".section-performance .performance-content .feature-copyblock-copy"),attribute:"y",vo:!0},{selector:n.el.querySelector(".section-performance .performance-content .column-content-bionic .feature-copyblock-subhead"),scrollAnchor:n.el.querySelector(".section-performance .performance-hero.image-overview-performance-hero"),attribute:"y",end:!0,vo:!0},{selector:n.el.querySelector(".image-snipe.image-overview-keyboard-keyboard-snipe-magnet"),scrollAnchor:n.el.querySelector(".image-snipe.image-overview-keyboard-keyboard-snipe-magnet"),vo:!0},{selector:n.el.querySelector(".section-magic-keyboard .magic-typing .column"),scrollAnchor:n.el.querySelector(".image-snipe.image-overview-keyboard-keyboard-snipe-magnet"),vo:!0},{selector:n.el.querySelector(".section-magic-keyboard .magickeyboard-stand .endframe"),scrollAnchor:n.el.querySelector(".section-magic-keyboard .image-overview-keyboard-keyboard-snipe-angle"),vo:!0},{selector:n.el.querySelector(".section-magic-keyboard .magickeyboard-keyboard .image-snipe"),scrollAnchor:n.el.querySelector(".section-magic-keyboard .magickeyboard-keyboard .flow-container"),attribute:"y",vo:!0},{selector:n.el.querySelector(".section-magic-keyboard .keyboard-backlit-trigger .backlit-copyblock"),scrollAnchor:n.el.querySelector(".section-magic-keyboard .keyboard-backlit-trigger .backlit-copyblock"),vo:!0,offset:function(){return f.parse("h",{target:this.selector})}},{selector:n.el.querySelector(".section-magic-keyboard .keyboard-trackpad-trigger .trackpad-copyblock"),scrollAnchor:n.el.querySelector(".section-magic-keyboard .keyboard-trackpad-trigger .trackpad-copyblock"),vo:!0,offset:function(){return f.parse("h",{target:this.selector})}},{selector:n.el.querySelector(".section-ipados .section-content.cursor-headline"),scrollAnchor:n.el.querySelector(".section-ipados .cursor"),attribute:"y",end:!0,vo:!0},{selector:n.el.querySelector(".section-ipados .cursor-copy .feature-copyblock"),scrollAnchor:n.el.querySelector(".section-ipados .device-container .screen-container"),attribute:"y",kfNumber:1,end:!0,vo:!0},{selector:n.el.querySelector(".section-ipados .snipes-ipados .image-snipe-appears"),scrollAnchor:n.el.querySelector(".section-ipados .snipes-ipados .image-snipe-appears"),vo:!0},{selector:n.el.querySelector(".section-ipados .snipes-ipados .image-snipe-adapts"),scrollAnchor:n.el.querySelector(".section-ipados .snipes-ipados .image-snipe-adapts"),vo:!0,offset:20},{selector:n.el.querySelector(".section-ipados .snipes-ipados .image-snipe-edits"),
scrollAnchor:n.el.querySelector(".section-ipados .snipes-ipados .image-snipe-edits"),vo:!0,offset:20},{selector:n.el.querySelector(".section-apple-pencil .height-container .feature-copyblock"),scrollAnchor:n.el.querySelector(".section-apple-pencil .height-container .create-copy"),attribute:"y",end:!0,vo:!0},{selector:n.el.querySelector(".section-apple-pencil .pencil-content .image-snipe.image-snipe-tap"),scrollAnchor:n.el.querySelector(".section-apple-pencil .pencil-content .image-snipe.image-snipe-tap"),attribute:"opacity",end:!0,vo:!0},{selector:n.el.querySelector(".section-portability .portability-snipes .portability-snipe-weight"),scrollAnchor:n.el.querySelector(".section-portability .portability-hero"),attribute:"x",end:!0,vo:!0},{selector:n.el.querySelector(".section-portability .connectivity-snipes .portability-snipe-wifi"),scrollAnchor:n.el.querySelector(".section-portability .portability-copyblock"),attribute:"y",end:!0,vo:!0}],n}return l(t,e),s(t,[{key:"onFocus",value:function(e,t){var n=this.focusElementsData[t].scrollAnchor,r=this.focusElementsData[t].end,i=this.focusElementsData[t].attribute||".fade-in",o=this.focusElementsData[t].offset||0,s=this.focusElementsData[t].kfNumber||0;if("function"==typeof o&&(o=this.focusElementsData[t].offset()),n._animInfo){var a=this.gum.anim.getControllerForTarget(n),c=a.getNearestKeyframeForAttribute(i,s),u=f.parse(c.jsonProps[r?"end":"start"],{target:this.focusElementsData[t].selector,anchors:c.anchors});window.scrollTo(0,Math.round(u+o))}}},{key:"mounted",value:function(){var e=this;this.focusElementsData.forEach(function(t,n){t.selector&&(t.vo&&t.selector.setAttribute("tabindex","-1"),t.selector.style.visibility="visible",t.selector.addEventListener("focus",function(r){"mouse"!==r.currentTarget.dataset.focusMethod&&e.onFocus(t.selector,n)}))})}}],[{key:"IS_SUPPORTED",value:function(){return!document.documentElement.className.match(/(\sno-overview-enhanced)/)}}]),t}(d);t.exports=p},{162:162,168:168}],269:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(168),f=e(255),p=e(254),m=function(e){function t(e){var n;return i(this,t),n=a(this,u(t).call(this,e)),n.allowVideoScrub=document.documentElement.classList.contains("video-scrub"),n.media=n.el.querySelector("video"),n.isRetina=window.devicePixelRatio>1&&n.media.dataset.enableRetina,n.allowVideoScrub||(n.imageSequence=new p({numImages:parseInt(n.el.dataset.sequence),numPadding:4,viewport:f(e.pageMetrics.breakpoint),retina:n.isRetina}),n.media=n.imageSequence.canvas),n.animationTrigger=document.querySelector(".lidar-animation-trigger"),n.section=document.querySelector(".section-cameras"),n.videoWidth=parseInt(getComputedStyle(n.section).getPropertyValue("--video-width")),n.videoHeight=parseInt(getComputedStyle(n.section).getPropertyValue("--video-height")),n.videoRatio=n.videoWidth/n.videoHeight,n.updateVideoScale(e.pageMetrics),n}return l(t,e),s(t,[{key:"mounted",value:function(){this.allowVideoScrub?this.setUpVideoScrub():this.setUpSequence()}},{key:"setUpVideoScrub",value:function(){var e=this;this.addKeyframe({el:this.media,start:"a0t",cssClass:"show",toggle:!0,anchors:[this.animationTrigger]}),this.addContinuousEvent({el:this.media,start:"a0t",end:"a0b - 100vh",event:"play-particle-video",progress:[0,1],anchors:[this.animationTrigger],onDraw:function(t){void 0!==e.media.currentTime&&e.media.duration&&(e.media.currentTime=t.tweenProps.progress.current*e.media.duration)}})}},{key:"setUpSequence",value:function(){var e=this;this.imageSequence.once(p.FIRST_IMAGE_LOADED,function(t){e.el.querySelector(".video-particles").appendChild(e.imageSequence.canvas),e.prepareAnimation()}),this.imageSequence.once(p.LOADING_COMPLETE,function(){return console.log("loading complete")}),this.imageSequence.loadImages()}},{key:"prepareAnimation",value:function(){var e=this;this.addKeyframe({el:this.media,start:"a0t",cssClass:"show",toggle:!0,anchors:[this.animationTrigger]}),this.anim.addKeyframe(this.imageSequence,{percent:[0,1],start:"a0t",end:"a0b - 100vh",event:"update:sequence",anchors:[this.animationTrigger]}),this.addDiscreteEvent({el:this.el,start:"a0t - 200vh",end:"a0b",event:"load:sequence",anchors:[this.animationTrigger],onEnter:function(){e.imageSequence.inLoadArea=!0,e.imageSequence.loadbucket()},onExit:function(){e.imageSequence.inLoadArea=!1}})}},{key:"updateVideoScale",value:function(e){e.windowHeight*this.videoRatio<e.windowWidth?this.media.classList.remove("video-cover"):this.media.classList.add("video-cover")}},{key:"onResizeDebounced",value:function(e){this.updateVideoScale(e)}},{key:"onBreakpointChange",value:function(e){}}],[{key:"IS_SUPPORTED",value:function(){return!document.documentElement.className.match(/(\sreduced-motion)|(\sie)|(\sno-overview-enhanced)/)}}]),t}(d);t.exports=m},{168:168,254:254,255:255}],270:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return a(e)||s(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function a(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function h(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=e(168),v=(e(135),e(184)),g=e(290),b=function(e){function t(e){var n;return c(this,t),n=h(this,f(t).call(this,e)),n.angleCanvas=n.el.querySelector(".magickeyboard-angle canvas"),n.keyboardCanvas=n.el.querySelector(".magickeyboard-keyboard canvas"),n.standTrigger=document.querySelector("#section-magic-keyboard .stand-trigger"),n.angleTrigger=document.querySelector("#section-magic-keyboard .angle-trigger"),n.keyboardTrigger=document.querySelector("#section-magic-keyboard .keyboard-trigger"),n.snipeDesign=n.el.querySelector(".image-overview-keyboard-keyboard-snipe-design"),n.snipeMagnet=n.el.querySelector(".image-overview-keyboard-keyboard-snipe-magnet"),n.snipeAngle=n.el.querySelector(".image-overview-keyboard-keyboard-snipe-angle"),n.bg=n.el.querySelector(".section-magic-keyboard .bg"),n.magicTyping=n.el.querySelector(".magic-typing [data-anim-fade-in]"),n.angleKeyline=n.el.querySelector(".magickeyboard-angle .keyline"),n.endFrame=n.el.querySelector(".endframe"),n.keyboardBacklitAnchor=n.el.querySelector(".keyboard-backlit-trigger"),n.keyboardBackLitCopyblock=n.el.querySelector(".backlit-copyblock"),n.keyboardTrackpadAnchor=n.el.querySelector(".keyboard-trackpad-trigger"),n.keyboardTrackpadCopyblock=n.el.querySelector(".trackpad-copyblock"),n.keyboardTrackpadImage=n.el.querySelector(".keyboard-trackpad .image-overview-keyboard-keyboard-trackpad"),n.ipadOS=document.querySelector(".section-ipados"),n}return p(t,e),l(t,[{key:"mounted",value:function(){this.setupStandKeyframes(),this.setupAngleKeyframes(),this.setupKeyboardKeyframes(),this.setupBackLitKeyframes(),this.setupTrackpadKeyframes(),g.swap(this,{toDark:{start:"a0t - 60vh",end:"a1t - 100vh",anchors:[this.keyboardTrigger,this.keyboardTrackpadAnchor]}}),this.addKeyframe({el:this.ipadOS,start:"a0t",end:"a1b - 100vh",cssClass:"hidden",toggle:!0,anchors:[document.documentElement,this.keyboardTrackpadAnchor]})}},{key:"setupStandKeyframes",value:function(){var e=this,t=i(document.querySelector(".stand-trigger .column").children);t.forEach(function(n,r){e.addKeyframe({el:n,start:"a0t - css(--localnav-height) - 55vh",end:"a0t - css(--localnav-height) - 35vh",y:["20px + ".concat(r,"* 20px"),0],anchors:[t[0]],breakpointMask:"ML"})}),this.addKeyframe({el:v(t[0],"[data-anim-fade-in]"),start:"t - css(--localnav-height)- 55vh",cssClass:"fade-in",toggle:!0,breakpointMask:"ML"}),this.standOnSmall(),this.addKeyframe({start:"a0t - 100vh",cssClass:"show",toggle:!0,anchors:[this.standTrigger]}),this.addKeyframe({el:this.magicTyping,start:"t + 50h - 50vh",cssClass:"fade-in",toggle:!0,breakpointMask:"ML"}),[this.snipeDesign,this.snipeMagnet].forEach(function(t){e.addKeyframe({el:t,start:"a0t + 50a0h - 50vh",end:"a0t",cssClass:"fade-in",toggle:!0,anchors:[e.magicTyping],breakpointMask:"ML"})}),this.addKeyframe({el:this.snipeAngle,start:"a0t",end:"a0t + 20a0h",cssClass:"fade-in",toggle:!0,anchors:[this.angleTrigger]})}},{key:"standOnSmall",value:function(){var e=this,t=this.el.querySelector(".keyboard-headline [data-anim-fade-in]");this.addKeyframe({el:t,start:"t - 50vh",end:"a0b - 80vh",cssClass:"fade-in",toggle:!0,anchors:[this.magicTyping],breakpointMask:"S"}),this.addKeyframe({el:this.magicTyping,start:"a0t",cssClass:"fade-in",toggle:!0,anchors:[t],breakpointMask:"S"}),[this.snipeDesign,this.snipeMagnet].forEach(function(n){e.addKeyframe({el:n,start:"a0t",cssClass:"fade-in",toggle:!0,anchors:[t],breakpointMask:"S"})})}},{key:"setupAngleKeyframes",value:function(){this.addKeyframe({el:this.endFrame,start:"a0t",cssClass:"hide",toggle:!0,anchors:[this.angleTrigger]}),this.addKeyframe({el:this.snipeAngle,start:"a0t",end:"a0t + 20a0h",cssClass:"fade-in",toggle:!0,anchors:[this.angleTrigger]}),this.addKeyframe({el:this.angleCanvas,start:"a0t",end:"a0b -100vh",cssClass:"show",toggle:!0,anchors:[this.angleTrigger],breakpointMask:"ML"}),this.addKeyframe({el:this.angleCanvas,start:"a0t - 100vh",end:"a0b -100vh",cssClass:"show",toggle:!0,anchors:[this.angleTrigger],breakpointMask:"S"}),this.addKeyframe({el:this.angleKeyline,start:"a0t",end:"a0b - 100vh",cssClass:"fade-in",toggle:!0,anchors:[this.angleTrigger]}),this.addKeyframe({el:this.angleCanvas.parentElement,start:"a0b - 130vh",end:"a0b - 110vh",y:[0,"css(margin-top, a1)/2"],anchors:[this.angleTrigger,this.keyboardCanvas.parentElement],breakpointMask:"ML"})}},{key:"setupKeyboardKeyframes",value:function(){this.addKeyframe({el:this.keyboardCanvas,start:"a0t - 100vh",cssClass:"show",toggle:!0,anchors:[this.keyboardTrigger]}),this.addKeyframe({el:this.bg,start:"a0t - 60vh",end:"a1t - 100vh",cssClass:"fade-in",toggle:!0,anchors:[this.keyboardTrigger,this.keyboardTrackpadAnchor]}),this.addKeyframe({el:this.keyboardCanvas.parentElement,start:"a0t - 90vh",end:"a0b - 150vh",x:[0,"css(--left-alignment)"],y:[0," -(100h - (100vh - css(--localnav-height)))/2 - css(--bottom-padding) + css(--bottom-alignment)"],anchors:[this.keyboardTrigger],breakpointMask:"ML"}),this.addKeyframe({el:this.keyboardCanvas.parentElement,start:"a0t - 100vh",end:"a0b - 150vh",x:[0,"css(--left-alignment)"],y:[0,"(100a1h - 100h) - css(--bottom-padding) + css(--bottom-alignment)"],anchors:[this.keyboardTrigger,this.el.querySelector(".sticky-wrapper-keyboard .sticky")],breakpointMask:"S"})}},{key:"setupBackLitKeyframes",value:function(){this.addKeyframe({el:this.keyboardBackLitCopyblock,start:"a0t - 100vh",end:"a1t - 100vh",cssClass:"fade-in",toggle:!0,anchors:[this.keyboardBacklitAnchor,this.keyboardTrackpadAnchor]})}},{key:"setupTrackpadKeyframes",value:function(){this.addKeyframe({el:this.keyboardTrackpadImage,start:"a0t - 100vh",cssClass:"fade-in",toggle:!0,anchors:[this.keyboardTrackpadAnchor]}),this.addKeyframe({el:this.keyboardTrackpadCopyblock,start:"a0t - 100vh",cssClass:"fade-in",toggle:!0,anchors:[this.keyboardTrackpadAnchor]})}}],[{key:"IS_SUPPORTED",value:function(){return!document.documentElement.className.match(/(\sreduced-motion)|(\sie)|(\sno-overview-enhanced)/)}}]),t}(y);t.exports=b},{135:135,168:168,184:184,290:290}],271:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(168),f=e(135),p=function(e){function t(e){var n;return i(this,t),n=a(this,c(t).call(this,e)),n._pageMetrics=e.pageMetrics,n.currentBreakpoint=e.pageMetrics.breakpoint,n.overflowContainer=n.el.querySelector(".sticky-overflow"),n.copyContainer=n.el.querySelector(".intro-copyblock"),n.introEyebrowContainer=n.el.querySelector(".pencil-intro-eyebrow"),n.introHeadlineContainer=n.el.querySelector(".pencil-intro-headline"),n.createCopy=n.el.querySelector(".create-copy"),n.deviceContainer=n.el.querySelector(".device-container"),n.screenContainer=n.el.querySelector(".screen-container"),n.heightContainer=n.el.querySelector(".height-container"),n.pencilContent=document.querySelector(".pencil-content"),n.pencil=n.el.querySelector(".pencil-holder"),n.pencilVideoContainer=n.el.querySelector(".pencil-video-container"),n.pencilImage=n.el.querySelector(".image-pencil"),n.svg=n.el.querySelector("svg"),n.linePath=n.el.querySelector("path"),n.lineImage=n.el.querySelector("#line-image"),n.linePattern=n.el.querySelector("#line-pattern"),n.gondola=n.el.querySelector(".gondola"),n.gondolaImage=n.el.querySelector(".image-artwork-gondola"),n.mainBG=n.el.querySelector(".image-artwork-bg"),n.mountainFront=n.el.querySelector(".image-artwork-mountain-front"),n.mountainBack=n.el.querySelector(".image-artwork-mountain-back"),n.treeFront=n.el.querySelector(".image-artwork-tree-front"),n.treeBack=n.el.querySelector(".image-artwork-tree-back"),n.cloudsFront=n.el.querySelector(".image-artwork-clouds-front"),n.cloudsMid=n.el.querySelector(".image-artwork-clouds-mid"),n.cloudsBack=n.el.querySelector(".image-artwork-clouds-back"),n.birds=n.el.querySelector(".image-artwork-birds"),n.appLabel=n.el.querySelector("[data-anim-fade-in].app-label"),n.overlay=n.el.querySelector(".gradient-overlay"),n.pencilPill=n.el.querySelector(".image-pencil-pill"),n.artworkUI=n.el.querySelector(".image-artwork-ui"),n.clearMargins=n.clearMargins.bind(u(n)),n.baseExpression="a0t + 90vh",n}return l(t,e),s(t,[{key:"createCopyKeyframes",value:function(){this.addKeyframe({el:this.copyContainer,group:this.group,start:"a0t - 100vh",end:"a0t",anchors:[this.el],y:["-50vh + 100h",0]}),this.addKeyframe({el:this.copyContainer,group:this.group,start:"a0t",end:"a0t + 80vh",anchors:[this.el],y:[0,-80]}),this.addKeyframe({el:this.copyContainer,group:this.group,start:"a0t + 70vh",anchors:[this.el],cssClass:"fade-out",toggle:!0}),this.addKeyframe({el:this.createCopy,group:this.group,start:"".concat(this.baseExpression," + 70vh - 100h"),anchors:[this.el],cssClass:"fade-in",toggle:!0}),this.addKeyframe({el:this.createCopy,group:this.group,start:"".concat(this.baseExpression," + 70vh - 100h"),end:"".concat(this.baseExpression," + 70vh"),anchors:[this.el],y:["100h",0]}),this.addKeyframe({el:this.appLabel,group:this.group,start:"a0t + 150vh",anchors:[this.el],cssClass:"fade-in",toggle:!0}),this.addKeyframe({el:this.overlay,group:this.group,start:"a0t + 100vh",anchors:[this.el],cssClass:"fade-in",toggle:!0}),this.addKeyframe({el:this.deviceContainer,group:this.group,start:"a0t - 100vh",end:"a0t + 250vh",anchors:[this.el],cssClass:"will-change",toggle:!0})}},{key:"createPencilGondolaKeyframes",value:function(){var e=this,t=-120,n=12;this.animatePencilKf=this.addContinuousEvent({el:this.pencil,group:this.group,start:"a0t + 20vh",end:"a0t + 50vh",anchors:[this.el],event:"animate-pencil",progress:[0,1],pathLength:[this.pathLength,0],rot:[t,30],breakpointMask:"XLM",onDraw:function(t){e.linePath.style.strokeDashoffset=t.tweenProps.pathLength.current;var r=e.linePath.getPointAtLength(e.pathLength-t.tweenProps.pathLength.current);e.pencil.style.transform="translate(".concat(r.x,"px, ").concat(r.y+n,"px) rotate(").concat(t.tweenProps.rot.current,"deg)")}}),this.animatePencilKf=this.addContinuousEvent({el:this.pencil,group:this.group,start:"a0t + 20vh",end:"a0t + 50vh",anchors:[this.el],event:"animate-pencil-small",progress:[0,1],pathLength:[this.pathLength,0],rot:[t,30],breakpointMask:"S",onDraw:function(t){e.linePath.style.strokeDashoffset=t.tweenProps.pathLength.current;var r=e.linePath.getPointAtLength(e.pathLength-t.tweenProps.pathLength.current);e.pencil.style.transform="translate(".concat(r.x+4,"px, ").concat(r.y+n,"px) rotate(").concat(t.tweenProps.rot.current,"deg)")}}),this.pencilInKf=this.addContinuousEvent({el:this.pencil,group:this.group,start:"a0t",end:"a0t + 20vh",event:"pencil-in",anchors:[this.el],pathLen:[this.pathLength,0],onDraw:function(r){var i=e.linePath.getPointAtLength(r.tweenProps.pathLen.current);e.pencil.style.transform="translate(".concat(e.initialPoint.x-i.x,"px, ").concat(2*e.initialPoint.y-i.y+n,"px) rotate(").concat(t,"deg)")}}),this.gondolaInKf=this.addContinuousEvent({el:this.gondola,group:this.group,start:"a0t + 50vh",end:"a0t + 80vh",event:"gondola-in",anchors:[this.el],pathLen:[this.pathLength,0],onDraw:function(t){var n=e.linePath.getPointAtLength(t.tweenProps.pathLen.current);e.gondola.style.transform="translate(".concat(2*e.initialPoint.x-n.x,"px, ").concat(-n.y,"px)")}}),this.gondolaKf=this.addContinuousEvent({el:this.gondola,group:this.group,start:"a0t + 80vh",end:"a0t + 100vh",anchors:[this.el],event:"animate-gondola",progress:[0,1],pathLength:[this.pathLength,.625*this.pathLength],easeFunction:"easeOutSin",breakpointMask:"XLM",onDraw:function(t){var n=e.linePath.getPointAtLength(e.pathLength-t.tweenProps.pathLength.current);e.gondola.style.transform="translate(".concat(n.x,"px, ").concat(n.y,"px)")}}),this.gondolaKf=this.addContinuousEvent({el:this.gondola,group:this.group,start:"a0t + 80vh",end:"a0t + 100vh",anchors:[this.el],event:"animate-gondola",progress:[0,1],pathLength:[this.pathLength,.6*this.pathLength],easeFunction:"easeOutSin",breakpointMask:"S",onDraw:function(t){var n=e.linePath.getPointAtLength(e.pathLength-t.tweenProps.pathLength.current);e.gondola.style.transform="translate(".concat(n.x,"px, ").concat(n.y,"px)")}}),this.addContinuousEvent({el:this.gondolaImage,group:this.group,start:"a0t + 50vh",end:"a0t + 100vh",anchors:[this.el],event:"wiggle-gondola",progress:[0,1],rot:[0,4],onDraw:function(t){var n=3*Math.sin(Math.PI*t.tweenProps.rot.current);e.gondolaImage.style.transform="rotate(".concat(n,"deg)")}})}},{key:"createArtworkKeyframes",value:function(){this.addKeyframe({el:this.pencilImage,group:this.group,start:"a0t",end:"a0t + 100vh",anchors:[this.el,this.deviceContainer],scale:["1/max(100vh/90a1h, 100vw/90a1w)","1/max(100vh/90a1h, 100vw/90a1w)"]}),this.addKeyframe({el:this.mainBG,group:this.group,start:"a0t + 80vh",end:"a0t + 90vh",anchors:[this.el],opacity:[0,1]}),this.addKeyframe({el:this.gondola,group:this.group,start:"a0t + 50vh",end:"a0t + 51vh",anchors:[this.el],opacity:[0,1]}),this.addKeyframe({el:this.mountainFront,group:this.group,start:"a0t + 80vh",end:"a0t + 90vh",anchors:[this.el],opacity:[0,1]}),this.addKeyframe({el:this.mountainBack,group:this.group,start:"a0t + 80vh",end:"a0t + 90vh",anchors:[this.el],opacity:[0,1]}),this.addKeyframe({el:this.treeFront,group:this.group,start:"a0t + 80vh",end:"a0t + 90vh",anchors:[this.el],opacity:[0,1]}),this.addKeyframe({el:this.treeBack,group:this.group,start:"a0t + 80vh",end:"a0t + 90vh",anchors:[this.el],opacity:[0,1]}),this.addKeyframe({el:this.mountainFront,group:this.group,start:this.baseExpression,end:"".concat(this.baseExpression," + 20vh"),anchors:[this.el],easeFunction:"easeOutSin",y:[60,0]}),this.addKeyframe({el:this.mountainBack,group:this.group,start:this.baseExpression,end:"".concat(this.baseExpression," + 20vh"),anchors:[this.el],easeFunction:"easeOutSin",y:[20,0]}),this.addKeyframe({el:this.treeFront,group:this.group,start:this.baseExpression,end:"".concat(this.baseExpression," + 30vh"),anchors:[this.el],easeFunction:"easeOutSin",y:[40,0]}),this.addKeyframe({el:this.treeBack,group:this.group,start:this.baseExpression,end:"".concat(this.baseExpression," + 30vh"),anchors:[this.el],easeFunction:"easeOutSin",y:[20,0]}),this.addKeyframe({el:this.cloudsFront,group:this.group,start:"".concat(this.baseExpression," + 10vh"),end:"".concat(this.baseExpression," + 30vh"),anchors:[this.el],easeFunction:"easeOutSin",opacity:[0,1],y:[40,0]}),this.addKeyframe({el:this.cloudsMid,group:this.group,start:"".concat(this.baseExpression," + 10vh"),end:"".concat(this.baseExpression," + 30vh"),anchors:[this.el],easeFunction:"easeOutSin",opacity:[0,1],y:[40,0]}),this.addKeyframe({el:this.cloudsBack,group:this.group,start:"".concat(this.baseExpression," + 20vh"),end:"".concat(this.baseExpression," + 30vh"),anchors:[this.el],easeFunction:"easeOutSin",opacity:[0,1],y:[10,0]}),this.addKeyframe({el:this.birds,group:this.group,start:"".concat(this.baseExpression," + 5vh"),end:"".concat(this.baseExpression," + 30vh"),anchors:[this.el],easeFunction:"easeOutSin",opacity:[0,1],x:[50,0],y:[30,0]})}},{key:"updateSVG",value:function(){this.svg.setAttribute("viewBox","0 0 ".concat(this.screenContainer.offsetWidth," ").concat(this.screenContainer.offsetHeight)),this.linePath.setAttribute("d","M ".concat(.17*this.screenContainer.offsetWidth,",0\n      L ").concat(this.screenContainer.offsetWidth,",").concat(.42*this.screenContainer.offsetHeight)),this.lineImage.setAttribute("width",.83*this.screenContainer.offsetWidth),this.lineImage.setAttribute("height",.42*this.screenContainer.offsetHeight+6),this.pathLength=this.linePath.getTotalLength(),this.linePath.style.strokeDasharray=this.pathLength,this.initialPoint=this.linePath.getPointAtLength(0)}},{key:"updateSectionRects",value:function(){this.sectionRect=this.el.getBoundingClientRect(),this.sectionVH=this.sectionRect.height/this._pageMetrics.windowHeight;var e=this.stickyBoundingBox(this.screenContainer.getBoundingClientRect());this.offsetY=this._pageMetrics.windowHeight/2-(e.y+.5*e.height),this.addKeyframe({el:this.deviceContainer,group:this.group,start:"a0t + 100vh",end:"a0t + 150vh",scale:["max(100vh/90h, 100vw/90w)",1],y:[this.offsetY,0],anchors:[this.el],breakpointMask:"XLM"}),this.addKeyframe({el:this.deviceContainer,group:this.group,start:"a0t + 100vh",end:"a0t + 150vh",scale:["max(100vh/90h, 100vw/90w)",1],x:[null,"50w - 50a1w + 6.25a1w"],y:[this.offsetY,0],anchors:[this.el,this.heightContainer],breakpointMask:"S"})}},{key:"createUIKeyframes",value:function(){this.addKeyframe({el:this.pencilPill,group:this.group,start:"a0t + 150vh",anchors:[this.el],cssClass:"show",toggle:!0}),this.addKeyframe({el:this.artworkUI,group:this.group,start:"a0t + 150vh",anchors:[this.el],cssClass:"fade-in",toggle:!0})}},{key:"updateMargins",value:function(){var e=this.heightContainer.offsetHeight,t="S"===this.currentBreakpoint?95:146;this.overflowContainer.style.paddingBottom="".concat(2*(e-this._pageMetrics.windowHeight)+t,"px"),this.pencilContent.style.marginTop="".concat(e+t-this._pageMetrics.windowHeight,"px")}},{key:"calculateOffset",value:function(e){var t;return t=this.sectionRect.y<-this.sectionRect.height*(this.sectionVH-1)/this.sectionVH?e.y-this.sectionRect.y-this.sectionRect.height+this._pageMetrics.windowHeight:this.sectionRect.y<0?e.y:e.y-this.sectionRect.y}},{key:"stickyBoundingBox",value:function(e){var t=this.calculateOffset(e);return{x:e.x,y:t,top:t,bottom:e.height+t,left:e.left,right:e.right,width:e.width,height:e.height}}},{key:"clearMargins",value:function(){this.overflowContainer.style.paddingBottom=null,this.pencilContent.style.marginTop=null}},{key:"init",value:function(){this.group=this.anim.createScrollGroup(this.el),this.group.name="Pencil Animation",this.clearMargins(),this.updateMargins(),this.updateSectionRects(),this.updateSVG(),this.createCopyKeyframes(),this.createPencilGondolaKeyframes(),this.createArtworkKeyframes(),this.createUIKeyframes(),this.shaderComponent.createShaderKeyframes()}},{key:"mounted",value:function(){var e=this;this.shaderComponent=this.gum.getComponentOfType("ShaderPlayer",this.el),f(function(){e.init()}),this.anim.on("before-anim-remove",function(){f(function(){e.clearMargins()})})}},{key:"onResizeDebounced",value:function(e){var t=this;this.currentBreakpoint===e.breakpoint&&this.group.remove().then(function(){t.init()})["catch"](function(e){})}}],[{key:"IS_SUPPORTED",value:function(){return!document.documentElement.className.match(/(\sreduced-motion)|(\sie)|(\sno-overview-enhanced)/)}}]),t}(d);t.exports=p},{135:135,168:168}],272:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(168),f=function(e){function t(e){return i(this,t),a(this,u(t).call(this,e))}return l(t,e),s(t,[{key:"mounted",value:function(){this.setupNotesKeyframes(),this.setupMarkupKeyframes()}},{key:"setupNotesKeyframes",value:function(){var e=".row-take-notes .feature-copyblock",t=document.querySelector(".row-take-notes .feature-copyblock-subhead"),n=document.querySelector(".row-take-notes .feature-copyblock-copy"),r=document.querySelector(".row-take-notes .feature-copyblock-cta");this.anim.addKeyframe(t,{start:"a0t - 80vh",end:"a0t - 50vh",y:["20px",0],anchors:[e]}),this.anim.addKeyframe(n,{start:"a0t - 80vh",end:"a0t - 50vh",y:["40px",0],anchors:[e]}),r&&this.anim.addKeyframe(r,{start:"a0t - 80vh",end:"a0t - 50vh",y:["60px",0],anchors:[e]});var i=".row-take-notes",o=document.querySelector(".image-applepencil-notes");this.anim.addKeyframe(o,{start:"a0t - 100vh",end:"a0t - 10vh",x:["-62px",0],y:["300px",0],scale:[1.25,1],easeFunction:"easeOutSin",anchors:[i]})}},{key:"setupMarkupKeyframes",value:function(){var e=".row-mark-up .feature-copyblock",t=document.querySelector(".row-mark-up .feature-copyblock-subhead"),n=document.querySelector(".row-mark-up .feature-copyblock-copy"),r=document.querySelector(".image-snipe-tap");this.anim.addKeyframe(t,{start:"a0t - 80vh",end:"a0t - 60vh",y:["20px",0],anchors:[e]}),this.anim.addKeyframe(n,{start:"a0t - 80vh",end:"a0t - 60vh",y:["40px",0],anchors:[e]}),this.anim.addKeyframe(r,{start:"a0t - 70vh",end:"a0t - 50vh",opacity:[0,1],anchors:[e]});var i=".row-mark-up",o=document.querySelector(".image-applepencil-markup");this.anim.addKeyframe(o,{start:"a0t - 100vh",end:"a0t - 30vh",x:["86px",0],y:["300px",0],scale:[1.25,1],easeFunction:"easeOutSin",anchors:[i]})}}],[{key:"IS_SUPPORTED",value:function(){return!document.documentElement.className.match(/(\sreduced-motion)|(\sie)|(\sno-overview-enhanced)/)}}]),t}(d);t.exports=f},{168:168}],273:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(168),f=function(e){function t(e){return i(this,t),a(this,u(t).call(this,e))}return l(t,e),s(t,[{key:"mounted",value:function(){this.setupWillChangeKeyframes(),this.setupAppKeyframes(),this.setupCopyKeyframes()}},{key:"setupWillChangeKeyframes",value:function(){var e=this,t=this.el.querySelectorAll(".performance-content .hardware");t.forEach(function(t){e.anim.addKeyframe(t,{start:"t - 150vh",end:"t",cssClass:"will-change"})})}},{key:"setupAppKeyframes",value:function(){var e=this.el.querySelector(".performance-hardware-proapp-skychildren");this.anim.addKeyframe(e,{start:"t - 120vh",end:"t - 50vh",y:["300px",0],scale:[1.25,1],
breakpointMask:"ML",easeFunction:"easeOutSin"}),this.anim.addKeyframe(e,{start:"t - 110vh",end:"t - 50vh",y:["80px",0],scale:[1.2,1],breakpointMask:"S",easeFunction:"easeOutSin"});var t=this.el.querySelector(".performance-hardware-proapp-morpholio"),n=this.el.querySelector(".performance-hardware-proapp-morpholio-small"),r=this.el.querySelector(".image-performance-pencil");this.el.querySelector(".image-performance-pencil-small");this.anim.addKeyframe(t,{start:"t - 110vh",end:"t - 40vh",y:["200px",0],scale:[1.2,1],breakpointMask:"ML",easeFunction:"easeOutSin"}),this.anim.addKeyframe(r,{start:"a0t - 110vh",end:"a0t - 40vh",y:["100px",0],easeFunction:"easeOutSin",breakpointMask:"ML",anchors:[".performance-hardware-proapp-morpholio"]}),this.anim.addKeyframe(n,{start:"t - 110vh",end:"t - 50vh",y:["80px",0],scale:[1.2,1],breakpointMask:"S",easeFunction:"easeOutSin"});var i=this.el.querySelector(".performance-hardware-proapp-word");this.anim.addKeyframe(i,{start:"t - 120vh",end:"t - 30vh",y:["200px",0],scale:[1.25,1],breakpointMask:"ML",easeFunction:"easeOutSin"}),this.anim.addKeyframe(i,{start:"t - 110vh",end:"t - 50vh",y:["80px",0],scale:[1.2,1],breakpointMask:"S",easeFunction:"easeOutSin"});var o=this.el.querySelector(".performance-hardware-proapp-adobe"),s=this.el.querySelector(".performance-hardware-proapp-adobe-small");this.anim.addKeyframe(o,{start:"t - 120vh",end:"t - 50vh",y:["300px",0],scale:[1.25,1],breakpointMask:"ML",easeFunction:"easeOutSin"}),this.anim.addKeyframe(s,{start:"t - 120vh",end:"t - 50vh",y:["80px",0],scale:[1.2,1],breakpointMask:"S",easeFunction:"easeOutSin"});var a=this.el.querySelector(".performance-hardware-multitasking");this.anim.addKeyframe(a,{start:"t - 110vh",end:"t - 40vh",y:["200px",0],scale:[1.25,1],breakpointMask:"ML",easeFunction:"easeOutSin"}),this.anim.addKeyframe(a,{start:"t - 110vh",end:"t - 40vh",y:["80px",0],scale:[1.2,1],breakpointMask:"S",easeFunction:"easeOutSin"})}},{key:"setupCopyKeyframes",value:function(){var e=".column-content-bionic .feature-copyblock",t=(this.el.querySelector(".column-content-bionic .feature-copyblock-subhead"),this.el.querySelector(".column-content-bionic .feature-copyblock-copy")),n=this.el.querySelector(".performance-snipe-graphics"),r=this.el.querySelector(".performance-snipe-pc");this.anim.addKeyframe(t,{start:"a0t - 100vh",end:"a0t - 65vh",y:["20px",0],breakpointMask:"ML",anchors:[e]}),this.anim.addKeyframe(n,{start:"a0t - 100vh",end:"a0t - 65vh",y:["40px",0],breakpointMask:"ML",anchors:[e]}),this.anim.addKeyframe(r,{start:"a0t - 100vh",end:"a0t - 65vh",y:["75px",0],breakpointMask:"ML",anchors:[e]});var i=".column-content-pro-apps .feature-copyblock",o=this.el.querySelector(".column-content-pro-apps .feature-copyblock-subhead"),s=this.el.querySelector(".column-content-pro-apps .feature-copyblock-copy");this.anim.addKeyframe(o,{start:"a0t - 100vh",end:"a0t - 40vh",y:["30px",0],breakpointMask:"ML",anchors:[i]}),this.anim.addKeyframe(s,{start:"a0t - 100vh",end:"a0t - 40vh",y:["60px",0],breakpointMask:"ML",anchors:[i]});var a=".column-content-multitasking-copy .feature-copyblock",c=this.el.querySelector(".column-content-multitasking-copy .feature-copyblock-subhead"),u=this.el.querySelector(".column-content-multitasking-copy .feature-copyblock-copy");this.anim.addKeyframe(c,{start:"a0t - 100vh",end:"a0t - 40vh",y:["30px",0],breakpointMask:"ML",anchors:[a]}),this.anim.addKeyframe(u,{start:"a0t - 100vh",end:"a0t - 40vh",y:["60px",0],breakpointMask:"ML",anchors:[a]})}}],[{key:"IS_SUPPORTED",value:function(){return!document.documentElement.className.match(/(\sno-overview-enhanced)/)}}]),t}(d);t.exports=f},{168:168}],274:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(168),f=function(e){function t(e){var n;return i(this,t),n=a(this,u(t).call(this,e)),n.heroAnchorSelector=".timeline-performance-hero",n.introHeadline=n.el.querySelector(".subsection-performance-intro [data-anim-fade-out]"),n.heroHardware=n.el.querySelector(".performance-hero"),n.heroHardwareCaption=n.el.querySelector(".subsection-performance-hero .hardware-app-label"),n}return l(t,e),s(t,[{key:"mounted",value:function(){this.setupIntroKeyframes(),this.setupZoomKeyframes()}},{key:"setupIntroKeyframes",value:function(){this.anim.addKeyframe(this.introHeadline,{start:"a0t + 50vh",cssClass:"fade-out",toggle:!0,anchors:[this.heroAnchorSelector]})}},{key:"setupZoomKeyframes",value:function(){this.anim.addKeyframe(this.heroHardware,{start:"a0t",end:"a0t + 100vh",scale:["max(100vw/87w, 100vh/82h)",1],y:["-5h",0],x:["-55w + css(--hero-x-offset)",0],easeFunction:"easeInOutSin",anchors:[this.heroAnchorSelector]}),this.anim.addKeyframe(this.heroHardwareCaption,{start:"a0t + 95vh",cssClass:"fade-in",toggle:!0,anchors:[this.heroAnchorSelector]}),this.anim.addKeyframe(this.el,{start:"a0t + 100vh",cssClass:"zoom-finished",toggle:!0,breakpointMask:"ML",anchors:[this.heroAnchorSelector]})}}],[{key:"IS_SUPPORTED",value:function(){return!document.documentElement.className.match(/(\sno-overview-enhanced)/)}}]),t}(d);t.exports=f},{168:168}],275:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(168),f=function(e){function t(e){var n;return i(this,t),n=a(this,u(t).call(this,e)),n.hero=n.el.querySelector(".portability-hero"),n.introCopyblock=n.el.querySelector(".intro-copyblock"),n.portabilityCopyblock=n.el.querySelector(".portability-copyblock"),n.portabilitySnipes=n.el.querySelectorAll(".portability-snipes .portability-snipe"),n.connectivityHardware=n.el.querySelector(".connectivity-hardware"),n.connectivitySnipes=n.el.querySelectorAll(".connectivity-snipes .portability-snipe"),n.timelinePortability=".timeline-portability",n.timelineConnectivity=".timeline-connectivity",n}return l(t,e),s(t,[{key:"mounted",value:function(){this.createPortablityIntroKeyframes(),this.createPortablityTrigger(),this.createConnectivityTrigger(),this.createWillChangeKeyframe()}},{key:"createPortablityIntroKeyframes",value:function(){this.anim.addKeyframe(this.hero,{start:"a0t - 160vh",end:"a0t - 70vh",y:["100px","0px"],easeFunction:"easeOutQuad",anchors:[this.timelinePortability]}),this.anim.addKeyframe(this.introCopyblock,{start:"a0t - 70vh",cssClass:"fade-out",toggle:!0,anchors:[this.timelinePortability]}),this.anim.addKeyframe(this.introCopyblock,{start:"a0t - 160vh",end:"a0t - 60vh",y:["css(--intro-y-start)","css(--intro-y-end)"],anchors:[this.timelinePortability]})}},{key:"createPortablityTrigger",value:function(){var e=this;this.anim.addKeyframe(this.hero,{start:"a0t - 70vh",end:"a0t - 20vh",scale:[1,1.2],x:["css(--hero-x-start)","css(--hero-x-end)"],y:["0px","-60px"],easeFunction:"easeOutQuad",anchors:[this.timelinePortability]}),this.anim.addKeyframe(this.portabilityCopyblock,{start:"a0t - 50vh",cssClass:"fade-in",toggle:!0,anchors:[this.timelinePortability]}),this.anim.addKeyframe(this.portabilityCopyblock,{start:"a0t - 50vh",end:"a0t - 20vh",y:["30px","0"],anchors:[this.timelinePortability]}),this.portabilitySnipes.forEach(function(t){e.anim.addKeyframe(t,{start:"a0t - 40vh",cssClass:"fade-in",toggle:!0,anchors:[e.timelinePortability]})})}},{key:"createConnectivityTrigger",value:function(){var e=this;this.anim.addKeyframe(this.connectivityHardware,{start:"a0t - 200vh",end:"a0t - 160vh",y:["200px","0"],scale:[2,1],easeFunction:"easeOutSin",breakpointMask:"L",anchors:[this.timelineConnectivity]}),this.anim.addKeyframe(this.connectivityHardware,{start:"a0t - 180vh",end:"a0t - 140vh",y:["200px","0"],scale:[2,1],easeFunction:"easeOutSin",breakpointMask:"MS",anchors:[this.timelineConnectivity]}),this.connectivitySnipes.forEach(function(t){e.anim.addKeyframe(t,{start:"a0t - 160vh",cssClass:"fade-in",toggle:!0,breakpointMask:"L",anchors:[e.timelineConnectivity]})}),this.connectivitySnipes.forEach(function(t){e.anim.addKeyframe(t,{start:"a0t - 140vh",cssClass:"fade-in",toggle:!0,breakpointMask:"M",anchors:[e.timelineConnectivity]})})}},{key:"createWillChangeKeyframe",value:function(){this.addKeyframe({start:"t - 100vh",end:"b + 100vh",cssClass:"will-change",toggle:!0})}}],[{key:"IS_SUPPORTED",value:function(){return!document.documentElement.className.match(/(\sreduced-motion)|(\sie)|(\sno-overview-enhanced)/)}}]),t}(d);t.exports=f},{168:168}],276:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(168),f=e(135),p=e(139),m=e(233),y=new m,v=e(4),g=null;try{g=e("@marcom/ac-analytics")}catch(b){}var E=function(e){function t(e){var n;return i(this,t),n=a(this,u(t).call(this,e)),n.body=n.gum.el,n}return l(t,e),s(t,[{key:"mounted",value:function(){v.detect(),this.showRibbon()}},{key:"showRibbon",value:function(){var e=this.body.querySelector(".ribbon-education-pricing.ribbon-hide");e&&setTimeout(function(){e.classList.remove("ribbon-hide")},1200)}},{key:"adjustLayoutForRibbonHeight",value:function(){var e=this.body.querySelector(".ribbon-education-pricing"),t=this.body.querySelector(".section-content");e?p(function(){var n=e.offsetHeight;f(function(){"small"===y.viewport?(t.style.marginTop=null,t.style.paddingTop=n+"px"):(t.style.paddingTop=null,t.style.marginTop=n+"px")})}):(t.style.paddingTop=null,t.style.marginTop=null)}}],[{key:"IS_SUPPORTED",value:function(){var e=document.documentElement.classList;return!(e.contains("reduced-motion")||e.contains("aow"))}}]),t}(d);t.exports=E},{135:135,139:139,168:168,233:233,4:4,undefined:void 0}],277:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null}var f=e(168),p=e(280),m=e(61),y=function(e){function t(e){var n;return i(this,t),n=a(this,c(t).call(this,e)),n.container=n.el.querySelector(".screen-container"),n.canvasContainer=n.el.querySelector(".canvas-container"),n.shaderColor="#F5F5F7",n.borderColor="#444444",n.shaderUniforms={progress:.5,borderThickness:.03,borderSmoothness:1,borderOpacity:.1,scale:2.4,smoothness:1e-4,noiseSeed:75,centerX:.5,centerY:.5},n.draw=n.draw.bind(u(n)),n.createCanvas(),n.setSize(e.pageMetrics),n.initShaderPlayer(),n.createShaderKeyframes(),n.draw(0),n}return l(t,e),s(t,[{key:"createCanvas",value:function(){this.canvas&&this.canvasContainer.removeChild(this.canvas),this.canvas=document.createElement("canvas"),this.canvas.id="artwork-canvas",this.canvasContainer.appendChild(this.canvas)}},{key:"createShaderKeyframes",value:function(){var e=this;this.addKeyframe({el:this.canvas,group:this.anim.getGroupForTarget(this.el),start:"a0t + 40vh",anchors:[this.el],cssClass:"show",toggle:!0}),this.addContinuousEvent({group:this.anim.getGroupForTarget(this.el),start:"a0t + 80vh",end:"a0t + 120vh",event:"reveal",progress:[0,1],anchors:[this.el],onDraw:function(t){e.draw(t.tweenProps.progress.current)}}),this.addKeyframe({el:this.shaderUniforms,group:this.anim.getGroupForTarget(this.el),start:"a0t + 88vh",end:"a0t + 90vh",borderThickness:[0,.03],anchors:[this.el]})}},{key:"initShaderPlayer",value:function(){this.igloo=new m(this.canvas),this.quad=this.igloo.array(m.QUAD2),this.program=this.igloo.program(p["quad.vert"],p["reveal.frag"])}},{key:"draw",value:function(e){this.program.use().uniform("resolution",[this.width,this.height]).uniform("progress",e).uniform("scale",this.shaderUniforms.scale).uniform("smoothness",this.shaderUniforms.smoothness).uniform("borderThickness",this.shaderUniforms.borderThickness).uniform("borderSmoothness",this.shaderUniforms.borderSmoothness).uniform("borderOpacity",this.shaderUniforms.borderOpacity).uniform("color",this.normalRGB(this.shaderColor)).uniform("borderColor",this.normalRGB(this.borderColor)).uniform("seed",this.shaderUniforms.noiseSeed).uniform("center",[this.shaderUniforms.centerX,this.shaderUniforms.centerY]).attrib("quad",this.quad,2).draw(this.igloo.gl.TRIANGLE_STRIP,m.QUAD2.length/2)}},{key:"setSize",value:function(e){var t=Math.max(e.windowHeight,e.windowWidth),n=this.container.offsetWidth;this.width=this.height=t,this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.width="".concat(n,"px"),this.canvas.style.height="".concat(n,"px")}},{key:"normalRGB",value:function(e){var t=d(e);return t=t.map(function(e){return e/255}),t.push(1),t}},{key:"onResizeDebounced",value:function(e){this.igloo=this.program=this.width=this.height=null,this.createCanvas(),this.setSize(e),this.initShaderPlayer()}}],[{key:"IS_SUPPORTED",value:function(){return!0}}]),t}(f);t.exports=y},{168:168,280:280,61:61}],278:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(168),f=e(147),p=(e(153),function(e){function t(e){var n;return i(this,t),n=a(this,c(t).call(this,e)),n.isTiedToScroll=n.el.classList.contains("tied-to-scroll"),n.animationRunning=!1,n.animationEnded=!1,n.timeline={start:"t - 100vh + h",end:"t"},n.snipeEnter=n.snipeEnter.bind(u(n)),n.snipeExit=n.snipeExit.bind(u(n)),n}return l(t,e),s(t,[{key:"mounted",value:function(){this.isTiedToScroll?this.setAnimationTiedToScroll():this.setAnimationNotTiedToScroll()}},{key:"setAnimationTiedToScroll",value:function(){var e=this,t=window.getComputedStyle(this.el,null).getPropertyValue("animation-duration"),n=parseInt(t),r=0;this.el.style.animationDelay="0s";var i=f.addKeyframe(this.el,{start:this.timeline.start,end:this.timeline.end,progress:[0,100]});i.controller.on("draw",function(t){var i=t.tweenProps.progress.current,o=100/n,s=Math.round(i/o);r!=s&&(e.el.style.animationDelay="-".concat(s,"s")),r=s})}},{key:"setAnimationNotTiedToScroll",value:function(){this.el.style.animation="none",this.addDiscreteEvent({event:"snipe-animation",start:this.timeline.start,end:this.timeline.end,onEnter:this.snipeEnter,onExit:this.snipeExit})}},{key:"setAnimPlayState",value:function(e){this.animationEnded||(this.animationRunning=!0,this.el.style.animationPlayState=e)}},{key:"snipeEnter",value:function(){var e=this;this.animationRunning||(this.el.style.removeProperty("animation"),this.el.addEventListener("animationend",function(){e.setAnimPlayState("paused"),e.animationEnded=!0})),this.setAnimPlayState("running")}},{key:"snipeExit",value:function(){this.setAnimPlayState("paused")}}],[{key:"IS_SUPPORTED",value:function(){return!document.documentElement.className.match(/(\sreduced-motion)|(\sie)|(\sno-overview-enhanced)|(\ssnipe-animations-supported)/)}}]),t}(d));t.exports=p},{147:147,153:153,168:168}],279:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return a(e)||s(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function s(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==a["return"]||a["return"]()}finally{if(i)throw o}}return n}}function a(e){if(Array.isArray(e))return e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function h(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=p(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function p(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=m(e),null!==e););return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=e(168),b=e(255),E=3,_=function(e){function t(e){var n;if(c(this,t),n=h(this,m(t).call(this,e)),n.video=n.el,n.options=e.data||{},n.customExpressions=n.video.dataset.anim?JSON.parse(n.el.dataset.anim):{},n.animOptions=Object.assign({start:"t - 200vh",end:"b + 100vh"},n.customExpressions),n.isRetina=window.devicePixelRatio>1&&n.video.dataset.enableRetina,n.allowScrub=n.video.hasAttribute("data-scrub"),n.sources={},n.allowScrub&&document.documentElement.classList.contains("no-video-scrub"))return h(n);Object.entries(n.video.dataset).filter(function(e){var t=i(e,1),n=t[0];return 0===n.indexOf("src")}).forEach(function(e){var t=i(e,2),r=t[0],o=t[1],s=r.replace(/^src/,"").toLowerCase();""===n.isRetina&&(o=o.replace("".concat(s,".mp4"),"".concat(s,"_2x.mp4"))),n.isRetina&&(o=n.isRetina?o.replace("".concat(n.isRetina,".mp4"),"".concat(n.isRetina,"_2x.mp4")):o),n.sources[s]=o});var r;return Object.defineProperty(d(n),"currentViewport",{set:function(e){r=b(e),n.load(r)},get:function(){return r}}),n.currentViewport=e.pageMetrics.breakpoint,n.previousSource=null,n.inLoadArea=!1,n}return y(t,e),l(t,[{key:"mounted",value:function(){var e=this;f(m(t.prototype),"mounted",this).call(this),this.addDiscreteEvent(Object.assign({event:"Video: Load",onEnter:function(){e.inLoadArea=!0,e.load()},onExit:function(){e.inLoadArea=!1}},this.animOptions))}},{key:"onBreakpointChange",value:function(e){this.currentViewport=e.breakpoint}},{key:"load",value:function(e){if(this.inLoadArea){e=e||this.currentViewport;var t=this.sources[e];t&&t!==this.previousSource&&(this.video.autoplay=this.video.readyState>=E&&!this.video.paused,this.video.src=this.previousSource=t,this.video.load())}}},{key:"queueVideoPlayback",value:function(){var e=this;"function"==typeof this._onCanPlay&&this.video.removeEventListener("canplay",this._onCanPlay),this.video.readyState<E?(this._onCanPlay=function(){e.video.play(),e.video.removeEventListener("canplay",e._onCanPlay)},this.video.addEventListener("canplay",this._onCanPlay)):this.video.play()}},{key:"pauseVideoPlayback",value:function(){this.video.paused||this.video.pause()}}],[{key:"IS_SUPPORTED",value:function(){return!document.documentElement.className.match(/(\sno-inline-video)|(\sreduced-motion)|(\sie)|(\sno-overview-enhanced)/)}}]),t}(g);t.exports=_},{168:168,255:255}],280:[function(e,t,n){"use strict";t.exports={"reveal.frag":"precision highp float;\n\nuniform vec2 resolution;\nuniform float progress;//0:1:0.47\nuniform vec4 color;\nuniform vec4 borderColor;\nuniform float scale;//0:100:2.38\nuniform float smoothness;//0:1:0.001\nuniform float borderSmoothness;\nuniform float borderThickness;\nuniform float borderOpacity;\nuniform float seed;//0:100:74.57\nuniform vec2 center;\n\nvec4 getBorderColor(){\n\treturn vec4(borderColor.rgb, borderOpacity);\n}\n\n// http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/\nfloat random(vec2 co)\n{\n    highp float a = seed;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\n// 2D Noise based on Morgan McGuire @morgan3d\n// https://www.shadertoy.com/view/4dS3Wd\nfloat noise (in vec2 st) {\n    vec2 i = floor(st);\n    vec2 f = fract(st);\n\n    // Four corners in 2D of a tile\n    float a = random(i);\n    float b = random(i + vec2(1.0, 0.0));\n    float c = random(i + vec2(0.0, 1.0));\n    float d = random(i + vec2(1.0, 1.0));\n\n    // Smooth Interpolation\n\n    // Cubic Hermine Curve.  Same as SmoothStep()\n    // vec2 u = f*f*(3.0-2.0*f);\n    vec2 u = smoothstep(0.,1.,f);\n\n    // Mix 4 corner percentages\n    return mix(a, b, u.x) +\n            (c - a)* u.y * (1.0 - u.x) +\n            (d - b) * u.x * u.y;\n}\n\nvec4 transition (vec2 uv) {\n  // Reveal to alpha\n  vec4 from = vec4(0., 0., 0., 0.);\n  vec4 to = color;\n  vec4 borderColor = getBorderColor();\n  float toPoint = (distance(uv, center)/ (1.0001 - (1. - progress)));\n  // 4 octaves of noise - https://www.shadertoy.com/view/lsf3WH\n  uv *= 8.0;\n  mat2 m = mat2( 1.6,  1.2, -1.2,  1.6 );\n  float n  = 0.5000*noise( uv * scale ); uv = m*uv;\n  n += 0.2500*noise( uv * scale ); uv = m*uv;\n  // n += 0.1250*noise( uv * scale ); uv = m*uv;\n  // n += 0.0625*noise( uv * scale ); uv = m*uv;\n\n  float d = ((2.0 * (1. - progress) + n) * toPoint * n);\n  float overOne = clamp(d, 0.0, 1.0);\n  float p = mix(-smoothness, 1.0 + smoothness, overOne);\n\n  float lower = p - smoothness;\n  float higher = p + smoothness;\n\n  float q = smoothstep(lower, higher, n);\n\n  // border\n  float d2 = (((2.0 + borderThickness) * (1. - progress) + n) * toPoint * n);\n  float overOne2 = clamp(0., 1., d2);\n  float p2 = mix(-smoothness, 1.0 + smoothness, overOne2);\n\n  float lower2 = p2 - smoothness*borderSmoothness;\n  float higher2 = p2 + smoothness*borderSmoothness;\n\n  float q2 = smoothstep(lower2, higher2, n);\n  to -= borderColor;\n  return mix(from, to, 1.0 - q) + mix(from, borderColor, 1.0 - q2);\n}\n\nvoid main() {\n  vec2 vUV = gl_FragCoord.xy/resolution.xy;\n  // gl_FragColor = color1 * noise(vUV);\n  gl_FragColor = transition(vUV);\n}","quad.vert":"attribute vec2 quad;\nvarying vec2 index;\n\nvoid main() {\n    index = (quad + 1.0) / 2.0;\n    gl_Position = vec4(quad, 0, 1);\n}\n"}},{}],281:[function(e,t,n){"use strict";var r=e(177),i=e(155);t.exports={mounted:function(){var e=this;this.el.classList.remove("peeking"),this._items.forEach(function(t){t.measure(),t.x=0,t.zIndex=t===e.currentItem?2:0}),this.trigger(this.model.Events.ITEM_CHANGE_OCCURRED,{gallery:this,previous:null,current:this.currentItem})},animateToItem:function(e){var t=this;if(this.currentIndex!==e&&this.currentIndex!==this.wrappedIndex(e)){this.el.parentElement.scrollLeft=0;var n=this.model.IsTouch?"easeOutCubic":"easeInOutCubic",o=this.model.PrefersReducedMotion?0:1;this.clip&&this.clip._isPlaying&&(n="easeOutQuint",this.clip.destroy());var s=this.selections.occurred.previous,a=this.selections.occurred.current,c=this._items[this.wrappedIndex(e)];c.opacity=0,s&&(s.zIndex=0),a&&(a.zIndex=1),c.zIndex=2;var u=!1;this.clip=new r(o,{ease:i[n],prepare:function(){return t.trigger(t.model.Events.ITEM_CHANGE_INITIATED,{gallery:t,next:c})},update:function(e){e>.5&&!u&&(u=!0,t.currentIndex=c.index,t.trigger(t.model.Events.ITEM_CHANGE_OCCURRED,{gallery:t,current:c})),c.opacity=e},draw:function(){},finish:function(){t.trigger(t.model.Events.ITEM_CHANGE_COMPLETED,{gallery:t,current:c})}}),this.clip.play().then(function(){t.clip.destroy(),t.clip=null})}},onResizeImmediate:function(){this.clip&&(this.clip.destroy(),this.clip=null)},destroy:function(){this.clip&&this.clip.destroy(),this._items.forEach(function(e){e.zIndex=0})}}},{155:155,177:177}],282:[function(e,t,n){"use strict";var r=["INPUT","SELECT","TEXTAREA"],i=37,o=39;t.exports={created:function(e){this.onKeyDown=this.onKeyDown.bind(this),window.addEventListener("keydown",this.onKeyDown)},destroy:function(){window.removeEventListener("keydown",this.onKeyDown)},addKeydownEventListener:function(){window.addEventListener("keydown",this.onKeyDown)},removeKeydownEventListener:function(){window.removeEventListener("keydown",this.onKeyDown)},onKeyDown:function(e){if(!this.inputHasFocus()&&(e.keyCode===i||e.keyCode===o)){var t=this.model.IsRTL?-1:1,n=e.keyCode===i?-1:1;this.lastInteractionEvent=e;var r=this.currentIndex+n*t;this.animateToItem(r)}},inputHasFocus:function(){return r.indexOf(document.activeElement.nodeName)!==-1}}},{}],283:[function(e,t,n){"use strict";t.exports={beforeCreate:function(){this.model.PrefersReducedMotion=document.documentElement.classList.contains("reduced-motion"),this.model.IsRTL="rtl"===document.documentElement.getAttribute("dir"),this.model.IsTouch="ontouchstart"in document.documentElement,this.model.SwipeDrag.DesktopSwipe=!0}}},{}],284:[function(e,t,n){"use strict";t.exports=function(e){return{onItemChangeInitiated:function(t){var n=e[t.next.index];n.reset()},onItemChangeCompleted:function(t){var n=e[t.current.index];n.videoComponent.queueVideoPlayback()}}}},{}],285:[function(e,t,n){"use strict";var r=e(177),i=e(161),o=e(154),s=function(e,t,n){return e*(n-t)+t},a=function(e,t,n){var r=n-t;return Math.max(Math.min(e,r),0)},c=.4;t.exports={onItemChangeInitiated:function(e){var t=this.tabNav.items[e.next.index],n=t.el.parentNode.offsetHeight,u=.5*n,l=t.el.parentNode.scrollHeight,h=t.el.offsetHeight,d=t.el.offsetTop,f=d+.5*h,p=Math.round(f-u),m=t.el.parentNode.scrollTop,y=new r(c,{ease:i.fromCSSString(o["ease-out"]),draw:function(e){var r=s(e,m,a(p,n,l));t.el.parentNode.scrollTop=r}});y.play().then(function(){y.destroy()})}}},{154:154,161:161,177:177}],286:[function(e,t,n){"use strict";t.exports={onItemChangeInitiated:function(e){var t=this.selections.initiated,n=t.current,r=t.next;n&&n!==r&&n.deselect(),r.select()}}},{}],287:[function(e,t,n){"use strict";t.exports={SnipeAnimation:e(278),FlowComponent:e(264),InlineVideo:e(267),DisplayUnlockSprite:e(262),DisplayZoomSplit:e(263),DisplayHeroZoomSmall:e(260),DisplaySizesSplitSmall:e(261),VideoViewportSource:e(279),AdaptiveCursor:e(256),PencilAnimation:e(271),PencilContent:e(272),ShaderPlayer:e(277),HardwareRotation:e(266),CameraZoom:e(259),LidarAnimation:e(269),AppSwitcher:e(257),PerformanceZoom:e(274),PerformanceContent:e(273),Portability:e(275),MagicKeyboard:e(270),ArrowAnimation:e(258),KeyboardAccessibility:e(268),GesturesGallery:e(265),Ribbon:e(276)}},{256:256,257:257,258:258,259:259,260:260,261:261,262:262,263:263,264:264,265:265,266:266,267:267,268:268,269:269,270:270,271:271,272:272,273:273,274:274,275:275,276:276,277:277,278:278,279:279}],288:[function(e,t,n){"use strict";var r=e(169),i=e(170),o=e(145),s=e(287),a=e(147),c=e(153),u=e(289),l=e(4),h=e(290),d=e(218),f=d.applyPrices,p={initialize:function(){Object.assign(i,s);var e=document.documentElement,t=getComputedStyle(e),n=320,d={},p={};
d.small=parseInt(t.getPropertyValue("--viewport-vertical-small")),d.medium=parseInt(t.getPropertyValue("--viewport-vertical-medium")),p.small=parseInt(t.getPropertyValue("--viewport-small").replace("px","")),p.medium=parseInt(t.getPropertyValue("--viewport-medium").replace("px","")),c.BREAKPOINTS=[{name:"S",mediaQuery:"only screen\n\t\t\t\t\tand (min-width: ".concat(n,"px)\n\t\t\t\t\tand (max-height: ").concat(d.small,"px)")},{name:"S",mediaQuery:"only screen\n\t\t\t\t\tand (max-width: ".concat(p.small,"px)")},{name:"M",mediaQuery:"only screen\n\t\t\t\t\tand (min-width: ".concat(p.small+1,"px)\n\t\t\t\t\tand (max-height: ").concat(d.medium,"px)")},{name:"M",mediaQuery:"only screen\n\t\t\t\t\tand (max-width: ".concat(p.medium,"px)")},{name:"L",mediaQuery:"only screen\n\t\t\t\t\tand (min-width: ".concat(p.medium+1,"px)\n\t\t\t\t\tand (min-height: ").concat(d.medium+1,"px)")}];var m=document.querySelector("body"),y=new r(m);y.keyframeGroupsActive=!0;var v=function(){y.keyframeGroupsActive&&(y.anim.trigger("before-anim-remove"),y.anim.remove().then(function(){var t=e.querySelectorAll("[data-anim-lazy-image]");t.forEach(function(e){e.removeAttribute("data-anim-lazy-image")}),e.classList.add("no-overview-enhanced"),e.classList.remove("overview-enhanced"),h.switchToLight();var n=document.querySelector('[data-component-list="GesturesGallery"]'),r=y.components.filter(function(e){return"GesturesGallery"!==e.componentName});r.forEach(function(e,t){y.removeComponent(e)}),a.initialize(),a.ready.then(function(){var e=y.getComponentOfType("GesturesGallery");y.setupEvents(),e||(y.componentsInitialized=!0,y.addComponent({componentName:"GesturesGallery",el:n}))})["catch"](function(e){})})["catch"](function(e){}),y.keyframeGroupsActive=!1)};y.anim.on(c.EVENTS.ON_DOM_GROUPS_CREATED,function(){new o}),y.anim.on(c.PageEvents.ON_BREAKPOINT_CHANGE,function(e){v(),m.classList.remove("ac-theme-dark")}),y.anim.on(c.PageEvents.ON_RESIZE_DEBOUNCED,function(e){u(e)||v()}),window.addEventListener("resize:text-zoom",function(e){y.keyframeGroupsActive&&e.detail.getScale()>1&&v()}),f.loadPricingFromHTML(),f.loadTradeInFromHTML(),l.detect()}};p.initialize()},{145:145,147:147,153:153,169:169,170:170,218:218,287:287,289:289,290:290,4:4}],289:[function(e,t,n){"use strict";var r=.45,i=function(e){var t=!0,n=e?e.windowWidth:window.innerWidth,i=e?e.windowHeight:window.innerHeight,o=["(max-width: 320px)","(max-width: 734px) and (max-height: 414px)","(max-width: 734px) and (min-height: 840px)","(min-width: 735px) and (max-height: 710px)"];return n/i<r&&(t=!1),o.forEach(function(e){window.matchMedia(e).matches&&(t=!1)}),t};t.exports=i},{}],290:[function(e,t,n){"use strict";var r=document.querySelector("body"),i="ac-theme-dark",o=function(){r.classList.add(i)},s=function(){r.classList.remove(i)},a=function(e,t){e.addDiscreteEvent({event:"localNavSwapDark-".concat(e.componentName),start:t.toDark.start,end:t.toDark.end,onEnter:function(){return o()},onExit:function(){return s()},anchors:t.toDark.anchors})};t.exports={swap:a,switchToLight:s,switchToDark:o}},{}]},{},[288]);